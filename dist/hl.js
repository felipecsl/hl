"use strict";var lm=Object.create;var ai=Object.defineProperty;var um=Object.getOwnPropertyDescriptor;var fm=Object.getOwnPropertyNames;var dm=Object.getPrototypeOf,pm=Object.prototype.hasOwnProperty;var F=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),mm=(e,t)=>{for(var r in t)ai(e,r,{get:t[r],enumerable:!0})},hm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fm(t))!pm.call(e,i)&&i!==r&&ai(e,i,{get:()=>t[i],enumerable:!(n=um(t,i))||n.enumerable});return e};var N=(e,t,r)=>(r=e!=null?lm(dm(e)):{},hm(t||!e||!e.__esModule?ai(r,"default",{value:e,enumerable:!0}):r,e));var Kt=F(li=>{var Or=class extends Error{constructor(t,r,n){super(n),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.exitCode=t,this.nestedError=void 0}},ci=class extends Or{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};li.CommanderError=Or;li.InvalidArgumentError=ci});var Cr=F(fi=>{var{InvalidArgumentError:gm}=Kt(),ui=class{constructor(t,r){switch(this.description=r||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,r){return r===this.defaultValue||!Array.isArray(r)?[t]:r.concat(t)}default(t,r){return this.defaultValue=t,this.defaultValueDescription=r,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new gm(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function ym(e){let t=e.name()+(e.variadic===!0?"...":"");return e.required?"<"+t+">":"["+t+"]"}fi.Argument=ui;fi.humanReadableArgName=ym});var pi=F(Is=>{var{humanReadableArgName:xm}=Cr(),di=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(t){let r=t.commands.filter(i=>!i._hidden),n=t._getHelpCommand();return n&&!n._hidden&&r.push(n),this.sortSubcommands&&r.sort((i,o)=>i.name().localeCompare(o.name())),r}compareOptions(t,r){let n=i=>i.short?i.short.replace(/^-/,""):i.long.replace(/^--/,"");return n(t).localeCompare(n(r))}visibleOptions(t){let r=t.options.filter(i=>!i.hidden),n=t._getHelpOption();if(n&&!n.hidden){let i=n.short&&t._findOption(n.short),o=n.long&&t._findOption(n.long);!i&&!o?r.push(n):n.long&&!o?r.push(t.createOption(n.long,n.description)):n.short&&!i&&r.push(t.createOption(n.short,n.description))}return this.sortOptions&&r.sort(this.compareOptions),r}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];let r=[];for(let n=t.parent;n;n=n.parent){let i=n.options.filter(o=>!o.hidden);r.push(...i)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach(r=>{r.description=r.description||t._argsDescription[r.name()]||""}),t.registeredArguments.find(r=>r.description)?t.registeredArguments:[]}subcommandTerm(t){let r=t.registeredArguments.map(n=>xm(n)).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,r){return r.visibleCommands(t).reduce((n,i)=>Math.max(n,r.subcommandTerm(i).length),0)}longestOptionTermLength(t,r){return r.visibleOptions(t).reduce((n,i)=>Math.max(n,r.optionTerm(i).length),0)}longestGlobalOptionTermLength(t,r){return r.visibleGlobalOptions(t).reduce((n,i)=>Math.max(n,r.optionTerm(i).length),0)}longestArgumentTermLength(t,r){return r.visibleArguments(t).reduce((n,i)=>Math.max(n,r.argumentTerm(i).length),0)}commandUsage(t){let r=t._name;t._aliases[0]&&(r=r+"|"+t._aliases[0]);let n="";for(let i=t.parent;i;i=i.parent)n=i.name()+" "+n;return n+r+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){let r=[];return t.argChoices&&r.push(`choices: ${t.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),t.defaultValue!==void 0&&(t.required||t.optional||t.isBoolean()&&typeof t.defaultValue=="boolean")&&r.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),t.presetArg!==void 0&&t.optional&&r.push(`preset: ${JSON.stringify(t.presetArg)}`),t.envVar!==void 0&&r.push(`env: ${t.envVar}`),r.length>0?`${t.description} (${r.join(", ")})`:t.description}argumentDescription(t){let r=[];if(t.argChoices&&r.push(`choices: ${t.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),t.defaultValue!==void 0&&r.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),r.length>0){let n=`(${r.join(", ")})`;return t.description?`${t.description} ${n}`:n}return t.description}formatHelp(t,r){let n=r.padWidth(t,r),i=r.helpWidth||80,o=2,s=2;function a(m,x){if(x){let A=`${m.padEnd(n+s)}${x}`;return r.wrap(A,i-o,n+s)}return m}function c(m){return m.join(`
`).replace(/^/gm," ".repeat(o))}let l=[`Usage: ${r.commandUsage(t)}`,""],u=r.commandDescription(t);u.length>0&&(l=l.concat([r.wrap(u,i,0),""]));let f=r.visibleArguments(t).map(m=>a(r.argumentTerm(m),r.argumentDescription(m)));f.length>0&&(l=l.concat(["Arguments:",c(f),""]));let d=r.visibleOptions(t).map(m=>a(r.optionTerm(m),r.optionDescription(m)));if(d.length>0&&(l=l.concat(["Options:",c(d),""])),this.showGlobalOptions){let m=r.visibleGlobalOptions(t).map(x=>a(r.optionTerm(x),r.optionDescription(x)));m.length>0&&(l=l.concat(["Global Options:",c(m),""]))}let p=r.visibleCommands(t).map(m=>a(r.subcommandTerm(m),r.subcommandDescription(m)));return p.length>0&&(l=l.concat(["Commands:",c(p),""])),l.join(`
`)}padWidth(t,r){return Math.max(r.longestOptionTermLength(t,r),r.longestGlobalOptionTermLength(t,r),r.longestSubcommandTermLength(t,r),r.longestArgumentTermLength(t,r))}wrap(t,r,n,i=40){let o=" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF",s=new RegExp(`[\\n][${o}]+`);if(t.match(s))return t;let a=r-n;if(a<i)return t;let c=t.slice(0,n),l=t.slice(n).replace(`\r
`,`
`),u=" ".repeat(n),d="\\s\u200B",p=new RegExp(`
|.{1,${a-1}}([${d}]|$)|[^${d}]+?([${d}]|$)`,"g"),m=l.match(p)||[];return c+m.map((x,A)=>x===`
`?"":(A>0?u:"")+x.trimEnd()).join(`
`)}};Is.Help=di});var yi=F(gi=>{var{InvalidArgumentError:bm}=Kt(),mi=class{constructor(t,r){this.flags=t,this.description=r||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;let n=Sm(t);this.short=n.shortFlag,this.long=n.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,r){return this.defaultValue=t,this.defaultValueDescription=r,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let r=t;return typeof t=="string"&&(r={[t]:!0}),this.implied=Object.assign(this.implied||{},r),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,r){return r===this.defaultValue||!Array.isArray(r)?[t]:r.concat(t)}choices(t){return this.argChoices=t.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new bm(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return wm(this.name().replace(/^no-/,""))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},hi=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach(r=>{r.negate?this.negativeOptions.set(r.attributeName(),r):this.positiveOptions.set(r.attributeName(),r)}),this.negativeOptions.forEach((r,n)=>{this.positiveOptions.has(n)&&this.dualOptions.add(n)})}valueFromOption(t,r){let n=r.attributeName();if(!this.dualOptions.has(n))return!0;let i=this.negativeOptions.get(n).presetArg,o=i!==void 0?i:!1;return r.negate===(o===t)}};function wm(e){return e.split("-").reduce((t,r)=>t+r[0].toUpperCase()+r.slice(1))}function Sm(e){let t,r,n=e.split(/[ |,]+/);return n.length>1&&!/^[[<]/.test(n[1])&&(t=n.shift()),r=n.shift(),!t&&/^-[^-]$/.test(r)&&(t=r,r=void 0),{shortFlag:t,longFlag:r}}gi.Option=mi;gi.DualOptions=hi});var Ds=F(Rs=>{function _m(e,t){if(Math.abs(e.length-t.length)>3)return Math.max(e.length,t.length);let r=[];for(let n=0;n<=e.length;n++)r[n]=[n];for(let n=0;n<=t.length;n++)r[0][n]=n;for(let n=1;n<=t.length;n++)for(let i=1;i<=e.length;i++){let o=1;e[i-1]===t[n-1]?o=0:o=1,r[i][n]=Math.min(r[i-1][n]+1,r[i][n-1]+1,r[i-1][n-1]+o),i>1&&n>1&&e[i-1]===t[n-2]&&e[i-2]===t[n-1]&&(r[i][n]=Math.min(r[i][n],r[i-2][n-2]+1))}return r[e.length][t.length]}function vm(e,t){if(!t||t.length===0)return"";t=Array.from(new Set(t));let r=e.startsWith("--");r&&(e=e.slice(2),t=t.map(s=>s.slice(2)));let n=[],i=3,o=.4;return t.forEach(s=>{if(s.length<=1)return;let a=_m(e,s),c=Math.max(e.length,s.length);(c-a)/c>o&&(a<i?(i=a,n=[s]):a===i&&n.push(s))}),n.sort((s,a)=>s.localeCompare(a)),r&&(n=n.map(s=>`--${s}`)),n.length>1?`
(Did you mean one of ${n.join(", ")}?)`:n.length===1?`
(Did you mean ${n[0]}?)`:""}Rs.suggestSimilar=vm});var Ls=F(Ns=>{var Am=require("node:events").EventEmitter,xi=require("node:child_process"),we=require("node:path"),bi=require("node:fs"),R=require("node:process"),{Argument:Em,humanReadableArgName:Om}=Cr(),{CommanderError:wi}=Kt(),{Help:Cm}=pi(),{Option:Ms,DualOptions:Tm}=yi(),{suggestSimilar:Fs}=Ds(),Si=class e extends Am{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:r=>R.stdout.write(r),writeErr:r=>R.stderr.write(r),getOutHelpWidth:()=>R.stdout.isTTY?R.stdout.columns:void 0,getErrHelpWidth:()=>R.stderr.isTTY?R.stderr.columns:void 0,outputError:(r,n)=>n(r)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._helpOption=t._helpOption,this._helpCommand=t._helpCommand,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){let t=[];for(let r=this;r;r=r.parent)t.push(r);return t}command(t,r,n){let i=r,o=n;typeof i=="object"&&i!==null&&(o=i,i=null),o=o||{};let[,s,a]=t.match(/([^ ]+) *(.*)/),c=this.createCommand(s);return i&&(c.description(i),c._executableHandler=!0),o.isDefault&&(this._defaultCommandName=c._name),c._hidden=!!(o.noHelp||o.hidden),c._executableFile=o.executableFile||null,a&&c.arguments(a),this._registerCommand(c),c.parent=this,c.copyInheritedSettings(this),i?this:c}createCommand(t){return new e(t)}createHelp(){return Object.assign(new Cm,this.configureHelp())}configureHelp(t){return t===void 0?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return t===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return typeof t!="string"&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,r){if(!t._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return r=r||{},r.isDefault&&(this._defaultCommandName=t._name),(r.noHelp||r.hidden)&&(t._hidden=!0),this._registerCommand(t),t.parent=this,t._checkForBrokenPassThrough(),this}createArgument(t,r){return new Em(t,r)}argument(t,r,n,i){let o=this.createArgument(t,r);return typeof n=="function"?o.default(i).argParser(n):o.default(n),this.addArgument(o),this}arguments(t){return t.trim().split(/ +/).forEach(r=>{this.argument(r)}),this}addArgument(t){let r=this.registeredArguments.slice(-1)[0];if(r&&r.variadic)throw new Error(`only the last argument can be variadic '${r.name()}'`);if(t.required&&t.defaultValue!==void 0&&t.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}helpCommand(t,r){if(typeof t=="boolean")return this._addImplicitHelpCommand=t,this;t=t??"help [command]";let[,n,i]=t.match(/([^ ]+) *(.*)/),o=r??"display help for command",s=this.createCommand(n);return s.helpOption(!1),i&&s.arguments(i),o&&s.description(o),this._addImplicitHelpCommand=!0,this._helpCommand=s,this}addHelpCommand(t,r){return typeof t!="object"?(this.helpCommand(t,r),this):(this._addImplicitHelpCommand=!0,this._helpCommand=t,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(t,r){let n=["preSubcommand","preAction","postAction"];if(!n.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.
Expecting one of '${n.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(r):this._lifeCycleHooks[t]=[r],this}exitOverride(t){return t?this._exitCallback=t:this._exitCallback=r=>{if(r.code!=="commander.executeSubCommandAsync")throw r},this}_exit(t,r,n){this._exitCallback&&this._exitCallback(new wi(t,r,n)),R.exit(t)}action(t){let r=n=>{let i=this.registeredArguments.length,o=n.slice(0,i);return this._storeOptionsAsProperties?o[i]=this:o[i]=this.opts(),o.push(this),t.apply(this,o)};return this._actionHandler=r,this}createOption(t,r){return new Ms(t,r)}_callParseArg(t,r,n,i){try{return t.parseArg(r,n)}catch(o){if(o.code==="commander.invalidArgument"){let s=`${i} ${o.message}`;this.error(s,{exitCode:o.exitCode,code:o.code})}throw o}}_registerOption(t){let r=t.short&&this._findOption(t.short)||t.long&&this._findOption(t.long);if(r){let n=t.long&&this._findOption(t.long)?t.long:t.short;throw new Error(`Cannot add option '${t.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${n}'
-  already used by option '${r.flags}'`)}this.options.push(t)}_registerCommand(t){let r=i=>[i.name()].concat(i.aliases()),n=r(t).find(i=>this._findCommand(i));if(n){let i=r(this._findCommand(n)).join("|"),o=r(t).join("|");throw new Error(`cannot add command '${o}' as already have command '${i}'`)}this.commands.push(t)}addOption(t){this._registerOption(t);let r=t.name(),n=t.attributeName();if(t.negate){let o=t.long.replace(/^--no-/,"--");this._findOption(o)||this.setOptionValueWithSource(n,t.defaultValue===void 0?!0:t.defaultValue,"default")}else t.defaultValue!==void 0&&this.setOptionValueWithSource(n,t.defaultValue,"default");let i=(o,s,a)=>{o==null&&t.presetArg!==void 0&&(o=t.presetArg);let c=this.getOptionValue(n);o!==null&&t.parseArg?o=this._callParseArg(t,o,c,s):o!==null&&t.variadic&&(o=t._concatValue(o,c)),o==null&&(t.negate?o=!1:t.isBoolean()||t.optional?o=!0:o=""),this.setOptionValueWithSource(n,o,a)};return this.on("option:"+r,o=>{let s=`error: option '${t.flags}' argument '${o}' is invalid.`;i(o,s,"cli")}),t.envVar&&this.on("optionEnv:"+r,o=>{let s=`error: option '${t.flags}' value '${o}' from env '${t.envVar}' is invalid.`;i(o,s,"env")}),this}_optionEx(t,r,n,i,o){if(typeof r=="object"&&r instanceof Ms)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let s=this.createOption(r,n);if(s.makeOptionMandatory(!!t.mandatory),typeof i=="function")s.default(o).argParser(i);else if(i instanceof RegExp){let a=i;i=(c,l)=>{let u=a.exec(c);return u?u[0]:l},s.default(o).argParser(i)}else s.default(i);return this.addOption(s)}option(t,r,n,i){return this._optionEx({},t,r,n,i)}requiredOption(t,r,n,i){return this._optionEx({mandatory:!0},t,r,n,i)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){return this._passThroughOptions=!!t,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(t=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,r){return this.setOptionValueWithSource(t,r,void 0)}setOptionValueWithSource(t,r,n){return this._storeOptionsAsProperties?this[t]=r:this._optionValues[t]=r,this._optionValueSources[t]=n,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let r;return this._getCommandAndAncestors().forEach(n=>{n.getOptionValueSource(t)!==void 0&&(r=n.getOptionValueSource(t))}),r}_prepareUserArgs(t,r){if(t!==void 0&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");if(r=r||{},t===void 0&&r.from===void 0){R.versions?.electron&&(r.from="electron");let i=R.execArgv??[];(i.includes("-e")||i.includes("--eval")||i.includes("-p")||i.includes("--print"))&&(r.from="eval")}t===void 0&&(t=R.argv),this.rawArgs=t.slice();let n;switch(r.from){case void 0:case"node":this._scriptPath=t[1],n=t.slice(2);break;case"electron":R.defaultApp?(this._scriptPath=t[1],n=t.slice(2)):n=t.slice(1);break;case"user":n=t.slice(0);break;case"eval":n=t.slice(1);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",n}parse(t,r){let n=this._prepareUserArgs(t,r);return this._parseCommand([],n),this}async parseAsync(t,r){let n=this._prepareUserArgs(t,r);return await this._parseCommand([],n),this}_executeSubCommand(t,r){r=r.slice();let n=!1,i=[".js",".ts",".tsx",".mjs",".cjs"];function o(u,f){let d=we.resolve(u,f);if(bi.existsSync(d))return d;if(i.includes(we.extname(f)))return;let p=i.find(m=>bi.existsSync(`${d}${m}`));if(p)return`${d}${p}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let s=t._executableFile||`${this._name}-${t._name}`,a=this._executableDir||"";if(this._scriptPath){let u;try{u=bi.realpathSync(this._scriptPath)}catch{u=this._scriptPath}a=we.resolve(we.dirname(u),a)}if(a){let u=o(a,s);if(!u&&!t._executableFile&&this._scriptPath){let f=we.basename(this._scriptPath,we.extname(this._scriptPath));f!==this._name&&(u=o(a,`${f}-${t._name}`))}s=u||s}n=i.includes(we.extname(s));let c;R.platform!=="win32"?n?(r.unshift(s),r=$s(R.execArgv).concat(r),c=xi.spawn(R.argv[0],r,{stdio:"inherit"})):c=xi.spawn(s,r,{stdio:"inherit"}):(r.unshift(s),r=$s(R.execArgv).concat(r),c=xi.spawn(R.execPath,r,{stdio:"inherit"})),c.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(f=>{R.on(f,()=>{c.killed===!1&&c.exitCode===null&&c.kill(f)})});let l=this._exitCallback;c.on("close",u=>{u=u??1,l?l(new wi(u,"commander.executeSubCommandAsync","(close)")):R.exit(u)}),c.on("error",u=>{if(u.code==="ENOENT"){let f=a?`searched for local subcommand relative to directory '${a}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",d=`'${s}' does not exist
 - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${f}`;throw new Error(d)}else if(u.code==="EACCES")throw new Error(`'${s}' not executable`);if(!l)R.exit(1);else{let f=new wi(1,"commander.executeSubCommandAsync","(error)");f.nestedError=u,l(f)}}),this.runningCommand=c}_dispatchSubcommand(t,r,n){let i=this._findCommand(t);i||this.help({error:!0});let o;return o=this._chainOrCallSubCommandHook(o,i,"preSubcommand"),o=this._chainOrCall(o,()=>{if(i._executableHandler)this._executeSubCommand(i,r.concat(n));else return i._parseCommand(r,n)}),o}_dispatchHelpCommand(t){t||this.help();let r=this._findCommand(t);return r&&!r._executableHandler&&r.help(),this._dispatchSubcommand(t,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((t,r)=>{t.required&&this.args[r]==null&&this.missingArgument(t.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let t=(n,i,o)=>{let s=i;if(i!==null&&n.parseArg){let a=`error: command-argument value '${i}' is invalid for argument '${n.name()}'.`;s=this._callParseArg(n,i,o,a)}return s};this._checkNumberOfArguments();let r=[];this.registeredArguments.forEach((n,i)=>{let o=n.defaultValue;n.variadic?i<this.args.length?(o=this.args.slice(i),n.parseArg&&(o=o.reduce((s,a)=>t(n,a,s),n.defaultValue))):o===void 0&&(o=[]):i<this.args.length&&(o=this.args[i],n.parseArg&&(o=t(n,o,n.defaultValue))),r[i]=o}),this.processedArgs=r}_chainOrCall(t,r){return t&&t.then&&typeof t.then=="function"?t.then(()=>r()):r()}_chainOrCallHooks(t,r){let n=t,i=[];return this._getCommandAndAncestors().reverse().filter(o=>o._lifeCycleHooks[r]!==void 0).forEach(o=>{o._lifeCycleHooks[r].forEach(s=>{i.push({hookedCommand:o,callback:s})})}),r==="postAction"&&i.reverse(),i.forEach(o=>{n=this._chainOrCall(n,()=>o.callback(o.hookedCommand,this))}),n}_chainOrCallSubCommandHook(t,r,n){let i=t;return this._lifeCycleHooks[n]!==void 0&&this._lifeCycleHooks[n].forEach(o=>{i=this._chainOrCall(i,()=>o(this,r))}),i}_parseCommand(t,r){let n=this.parseOptions(r);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(n.operands),r=n.unknown,this.args=t.concat(r),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),r);if(this._getHelpCommand()&&t[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(r),this._dispatchSubcommand(this._defaultCommandName,t,r);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(n.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let i=()=>{n.unknown.length>0&&this.unknownOption(n.unknown[0])},o=`command:${this.name()}`;if(this._actionHandler){i(),this._processArguments();let s;return s=this._chainOrCallHooks(s,"preAction"),s=this._chainOrCall(s,()=>this._actionHandler(this.processedArgs)),this.parent&&(s=this._chainOrCall(s,()=>{this.parent.emit(o,t,r)})),s=this._chainOrCallHooks(s,"postAction"),s}if(this.parent&&this.parent.listenerCount(o))i(),this._processArguments(),this.parent.emit(o,t,r);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,r);this.listenerCount("command:*")?this.emit("command:*",t,r):this.commands.length?this.unknownCommand():(i(),this._processArguments())}else this.commands.length?(i(),this.help({error:!0})):(i(),this._processArguments())}_findCommand(t){if(t)return this.commands.find(r=>r._name===t||r._aliases.includes(t))}_findOption(t){return this.options.find(r=>r.is(t))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(t=>{t.options.forEach(r=>{r.mandatory&&t.getOptionValue(r.attributeName())===void 0&&t.missingMandatoryOptionValue(r)})})}_checkForConflictingLocalOptions(){let t=this.options.filter(n=>{let i=n.attributeName();return this.getOptionValue(i)===void 0?!1:this.getOptionValueSource(i)!=="default"});t.filter(n=>n.conflictsWith.length>0).forEach(n=>{let i=t.find(o=>n.conflictsWith.includes(o.attributeName()));i&&this._conflictingOption(n,i)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(t=>{t._checkForConflictingLocalOptions()})}parseOptions(t){let r=[],n=[],i=r,o=t.slice();function s(c){return c.length>1&&c[0]==="-"}let a=null;for(;o.length;){let c=o.shift();if(c==="--"){i===n&&i.push(c),i.push(...o);break}if(a&&!s(c)){this.emit(`option:${a.name()}`,c);continue}if(a=null,s(c)){let l=this._findOption(c);if(l){if(l.required){let u=o.shift();u===void 0&&this.optionMissingArgument(l),this.emit(`option:${l.name()}`,u)}else if(l.optional){let u=null;o.length>0&&!s(o[0])&&(u=o.shift()),this.emit(`option:${l.name()}`,u)}else this.emit(`option:${l.name()}`);a=l.variadic?l:null;continue}}if(c.length>2&&c[0]==="-"&&c[1]!=="-"){let l=this._findOption(`-${c[1]}`);if(l){l.required||l.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${l.name()}`,c.slice(2)):(this.emit(`option:${l.name()}`),o.unshift(`-${c.slice(2)}`));continue}}if(/^--[^=]+=/.test(c)){let l=c.indexOf("="),u=this._findOption(c.slice(0,l));if(u&&(u.required||u.optional)){this.emit(`option:${u.name()}`,c.slice(l+1));continue}}if(s(c)&&(i=n),(this._enablePositionalOptions||this._passThroughOptions)&&r.length===0&&n.length===0){if(this._findCommand(c)){r.push(c),o.length>0&&n.push(...o);break}else if(this._getHelpCommand()&&c===this._getHelpCommand().name()){r.push(c),o.length>0&&r.push(...o);break}else if(this._defaultCommandName){n.push(c),o.length>0&&n.push(...o);break}}if(this._passThroughOptions){i.push(c),o.length>0&&i.push(...o);break}i.push(c)}return{operands:r,unknown:n}}opts(){if(this._storeOptionsAsProperties){let t={},r=this.options.length;for(let n=0;n<r;n++){let i=this.options[n].attributeName();t[i]=i===this._versionOptionName?this._version:this[i]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((t,r)=>Object.assign(t,r.opts()),{})}error(t,r){this._outputConfiguration.outputError(`${t}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let n=r||{},i=n.exitCode||1,o=n.code||"commander.error";this._exit(i,o,t)}_parseOptionsEnv(){this.options.forEach(t=>{if(t.envVar&&t.envVar in R.env){let r=t.attributeName();(this.getOptionValue(r)===void 0||["default","config","env"].includes(this.getOptionValueSource(r)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,R.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}})}_parseOptionsImplied(){let t=new Tm(this.options),r=n=>this.getOptionValue(n)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(n));this.options.filter(n=>n.implied!==void 0&&r(n.attributeName())&&t.valueFromOption(this.getOptionValue(n.attributeName()),n)).forEach(n=>{Object.keys(n.implied).filter(i=>!r(i)).forEach(i=>{this.setOptionValueWithSource(i,n.implied[i],"implied")})})}missingArgument(t){let r=`error: missing required argument '${t}'`;this.error(r,{code:"commander.missingArgument"})}optionMissingArgument(t){let r=`error: option '${t.flags}' argument missing`;this.error(r,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){let r=`error: required option '${t.flags}' not specified`;this.error(r,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,r){let n=s=>{let a=s.attributeName(),c=this.getOptionValue(a),l=this.options.find(f=>f.negate&&a===f.attributeName()),u=this.options.find(f=>!f.negate&&a===f.attributeName());return l&&(l.presetArg===void 0&&c===!1||l.presetArg!==void 0&&c===l.presetArg)?l:u||s},i=s=>{let a=n(s),c=a.attributeName();return this.getOptionValueSource(c)==="env"?`environment variable '${a.envVar}'`:`option '${a.flags}'`},o=`error: ${i(t)} cannot be used with ${i(r)}`;this.error(o,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let r="";if(t.startsWith("--")&&this._showSuggestionAfterError){let i=[],o=this;do{let s=o.createHelp().visibleOptions(o).filter(a=>a.long).map(a=>a.long);i=i.concat(s),o=o.parent}while(o&&!o._enablePositionalOptions);r=Fs(t,i)}let n=`error: unknown option '${t}'${r}`;this.error(n,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;let r=this.registeredArguments.length,n=r===1?"":"s",o=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${r} argument${n} but got ${t.length}.`;this.error(o,{code:"commander.excessArguments"})}unknownCommand(){let t=this.args[0],r="";if(this._showSuggestionAfterError){let i=[];this.createHelp().visibleCommands(this).forEach(o=>{i.push(o.name()),o.alias()&&i.push(o.alias())}),r=Fs(t,i)}let n=`error: unknown command '${t}'${r}`;this.error(n,{code:"commander.unknownCommand"})}version(t,r,n){if(t===void 0)return this._version;this._version=t,r=r||"-V, --version",n=n||"output the version number";let i=this.createOption(r,n);return this._versionOptionName=i.attributeName(),this._registerOption(i),this.on("option:"+i.name(),()=>{this._outputConfiguration.writeOut(`${t}
`),this._exit(0,"commander.version",t)}),this}description(t,r){return t===void 0&&r===void 0?this._description:(this._description=t,r&&(this._argsDescription=r),this)}summary(t){return t===void 0?this._summary:(this._summary=t,this)}alias(t){if(t===void 0)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(r=this.commands[this.commands.length-1]),t===r._name)throw new Error("Command alias can't be the same as its name");let n=this.parent?._findCommand(t);if(n){let i=[n.name()].concat(n.aliases()).join("|");throw new Error(`cannot add alias '${t}' to command '${this.name()}' as already have command '${i}'`)}return r._aliases.push(t),this}aliases(t){return t===void 0?this._aliases:(t.forEach(r=>this.alias(r)),this)}usage(t){if(t===void 0){if(this._usage)return this._usage;let r=this.registeredArguments.map(n=>Om(n));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?r:[]).join(" ")}return this._usage=t,this}name(t){return t===void 0?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=we.basename(t,we.extname(t)),this}executableDir(t){return t===void 0?this._executableDir:(this._executableDir=t,this)}helpInformation(t){let r=this.createHelp();return r.helpWidth===void 0&&(r.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),r.formatHelp(this,r)}_getHelpContext(t){t=t||{};let r={error:!!t.error},n;return r.error?n=i=>this._outputConfiguration.writeErr(i):n=i=>this._outputConfiguration.writeOut(i),r.write=t.write||n,r.command=this,r}outputHelp(t){let r;typeof t=="function"&&(r=t,t=void 0);let n=this._getHelpContext(t);this._getCommandAndAncestors().reverse().forEach(o=>o.emit("beforeAllHelp",n)),this.emit("beforeHelp",n);let i=this.helpInformation(n);if(r&&(i=r(i),typeof i!="string"&&!Buffer.isBuffer(i)))throw new Error("outputHelp callback must return a string or a Buffer");n.write(i),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",n),this._getCommandAndAncestors().forEach(o=>o.emit("afterAllHelp",n))}helpOption(t,r){return typeof t=="boolean"?(t?this._helpOption=this._helpOption??void 0:this._helpOption=null,this):(t=t??"-h, --help",r=r??"display help for command",this._helpOption=this.createOption(t,r),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(t){return this._helpOption=t,this}help(t){this.outputHelp(t);let r=R.exitCode||0;r===0&&t&&typeof t!="function"&&t.error&&(r=1),this._exit(r,"commander.help","(outputHelp)")}addHelpText(t,r){let n=["beforeAll","before","after","afterAll"];if(!n.includes(t))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${n.join("', '")}'`);let i=`${t}Help`;return this.on(i,o=>{let s;typeof r=="function"?s=r({error:o.error,command:o.command}):s=r,s&&o.write(`${s}
`)}),this}_outputHelpIfRequested(t){let r=this._getHelpOption();r&&t.find(i=>r.is(i))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};function $s(e){return e.map(t=>{if(!t.startsWith("--inspect"))return t;let r,n="127.0.0.1",i="9229",o;return(o=t.match(/^(--inspect(-brk)?)$/))!==null?r=o[1]:(o=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(r=o[1],/^\d+$/.test(o[3])?i=o[3]:n=o[3]):(o=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(r=o[1],n=o[3],i=o[4]),r&&i!=="0"?`${r}=${n}:${parseInt(i)+1}`:t})}Ns.Command=Si});var Us=F(K=>{var{Argument:Ps}=Cr(),{Command:_i}=Ls(),{CommanderError:km,InvalidArgumentError:js}=Kt(),{Help:Im}=pi(),{Option:Bs}=yi();K.program=new _i;K.createCommand=e=>new _i(e);K.createOption=(e,t)=>new Bs(e,t);K.createArgument=(e,t)=>new Ps(e,t);K.Command=_i;K.Option=Bs;K.Argument=Ps;K.Help=Im;K.CommanderError=km;K.InvalidArgumentError=js;K.InvalidOptionArgumentError=js});var Vc=F((UE,Uc)=>{Uc.exports=Bc;Bc.sync=eb;var Pc=require("fs");function Qx(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function jc(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Qx(t,r)}function Bc(e,t,r){Pc.stat(e,function(n,i){r(n,n?!1:jc(i,e,t))})}function eb(e,t){return jc(Pc.statSync(e),e,t)}});var qc=F((VE,zc)=>{zc.exports=Gc;Gc.sync=tb;var Hc=require("fs");function Gc(e,t,r){Hc.stat(e,function(n,i){r(n,n?!1:Wc(i,t))})}function tb(e,t){return Wc(Hc.statSync(e),t)}function Wc(e,t){return e.isFile()&&rb(e,t)}function rb(e,t){var r=e.mode,n=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),l=parseInt("001",8),u=a|c,f=r&l||r&c&&i===s||r&a&&n===o||r&u&&o===0;return f}});var Zc=F((GE,Yc)=>{var HE=require("fs"),en;process.platform==="win32"||global.TESTING_WINDOWS?en=Vc():en=qc();Yc.exports=Qi;Qi.sync=nb;function Qi(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Qi(e,t||{},function(o,s){o?i(o):n(s)})})}en(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function nb(e,t){try{return en.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var rl=F((WE,tl)=>{var Mt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Kc=require("path"),ib=Mt?";":":",Xc=Zc(),Jc=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Qc=(e,t)=>{let r=t.colon||ib,n=e.match(/\//)||Mt&&e.match(/\\/)?[""]:[...Mt?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=Mt?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=Mt?i.split(r):[""];return Mt&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},el=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:o}=Qc(e,t),s=[],a=l=>new Promise((u,f)=>{if(l===n.length)return t.all&&s.length?u(s):f(Jc(e));let d=n[l],p=/^".*"$/.test(d)?d.slice(1,-1):d,m=Kc.join(p,e),x=!p&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;u(c(x,l,0))}),c=(l,u,f)=>new Promise((d,p)=>{if(f===i.length)return d(a(u+1));let m=i[f];Xc(l+m,{pathExt:o},(x,A)=>{if(!x&&A)if(t.all)s.push(l+m);else return d(l+m);return d(c(l,u,f+1))})});return r?a(0).then(l=>r(null,l),r):a(0)},ob=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=Qc(e,t),o=[];for(let s=0;s<r.length;s++){let a=r[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,l=Kc.join(c,e),u=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;for(let f=0;f<n.length;f++){let d=u+n[f];try{if(Xc.sync(d,{pathExt:i}))if(t.all)o.push(d);else return d}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw Jc(e)};tl.exports=el;el.sync=ob});var il=F((zE,eo)=>{"use strict";var nl=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};eo.exports=nl;eo.exports.default=nl});var cl=F((qE,al)=>{"use strict";var ol=require("path"),sb=rl(),ab=il();function sl(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let s;try{s=sb.sync(e.command,{path:r[ab({env:r})],pathExt:t?ol.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=ol.resolve(i?e.options.cwd:"",s)),s}function cb(e){return sl(e)||sl(e,!0)}al.exports=cb});var ll=F((YE,ro)=>{"use strict";var to=/([()\][%!^"`<>&|;, *?])/g;function lb(e){return e=e.replace(to,"^$1"),e}function ub(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(to,"^$1"),t&&(e=e.replace(to,"^$1")),e}ro.exports.command=lb;ro.exports.argument=ub});var fl=F((ZE,ul)=>{"use strict";ul.exports=/^#!(.*)/});var pl=F((KE,dl)=>{"use strict";var fb=fl();dl.exports=(e="")=>{let t=e.match(fb);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var hl=F((XE,ml)=>{"use strict";var no=require("fs"),db=pl();function pb(e){let r=Buffer.alloc(150),n;try{n=no.openSync(e,"r"),no.readSync(n,r,0,150,0),no.closeSync(n)}catch{}return db(r.toString())}ml.exports=pb});var bl=F((JE,xl)=>{"use strict";var mb=require("path"),gl=cl(),yl=ll(),hb=hl(),gb=process.platform==="win32",yb=/\.(?:com|exe)$/i,xb=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function bb(e){e.file=gl(e);let t=e.file&&hb(e.file);return t?(e.args.unshift(e.file),e.command=t,gl(e)):e.file}function wb(e){if(!gb)return e;let t=bb(e),r=!yb.test(t);if(e.options.forceShell||r){let n=xb.test(t);e.command=mb.normalize(e.command),e.command=yl.command(e.command),e.args=e.args.map(o=>yl.argument(o,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function Sb(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:wb(n)}xl.exports=Sb});var _l=F((QE,Sl)=>{"use strict";var io=process.platform==="win32";function oo(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function _b(e,t){if(!io)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let o=wl(i,t);if(o)return r.call(e,"error",o)}return r.apply(e,arguments)}}function wl(e,t){return io&&e===1&&!t.file?oo(t.original,"spawn"):null}function vb(e,t){return io&&e===1&&!t.file?oo(t.original,"spawnSync"):null}Sl.exports={hookChildProcess:_b,verifyENOENT:wl,verifyENOENTSync:vb,notFoundError:oo}});var El=F((eO,Ft)=>{"use strict";var vl=require("child_process"),so=bl(),ao=_l();function Al(e,t,r){let n=so(e,t,r),i=vl.spawn(n.command,n.args,n.options);return ao.hookChildProcess(i,n),i}function Ab(e,t,r){let n=so(e,t,r),i=vl.spawnSync(n.command,n.args,n.options);return i.error=i.error||ao.verifyENOENTSync(i.status,n),i}Ft.exports=Al;Ft.exports.spawn=Al;Ft.exports.sync=Ab;Ft.exports._parse=so;Ft.exports._enoent=ao});var Vs=N(Us(),1),{program:kv,createCommand:Iv,createArgument:Rv,createOption:Dv,CommanderError:Mv,InvalidArgumentError:Fv,InvalidOptionArgumentError:$v,Command:Hs,Argument:Nv,Option:Lv,Help:Pv}=Vs.default;var ic=require("fs"),jr=N(require("path"),1);function oa(e){return typeof e>"u"||e===null}function Rm(e){return typeof e=="object"&&e!==null}function Dm(e){return Array.isArray(e)?e:oa(e)?[]:[e]}function Mm(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function Fm(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function $m(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Nm=oa,Lm=Rm,Pm=Dm,jm=Fm,Bm=$m,Um=Mm,L={isNothing:Nm,isObject:Lm,toArray:Pm,repeat:jm,isNegativeZero:Bm,extend:Um};function sa(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function Jt(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=sa(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Jt.prototype=Object.create(Error.prototype);Jt.prototype.constructor=Jt;Jt.prototype.toString=function(t){return this.name+": "+sa(this,t)};var G=Jt;function vi(e,t,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-t>a&&(o=" ... ",t=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}function Ai(e,t){return L.repeat(" ",t-e.length)+e}function Vm(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",c,l,u=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+u+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)l=vi(e.buffer,n[s-c],i[s-c],e.position-(n[s]-n[s-c]),f),a=L.repeat(" ",t.indent)+Ai((e.line-c+1).toString(),u)+" | "+l.str+`
`+a;for(l=vi(e.buffer,n[s],i[s],e.position,f),a+=L.repeat(" ",t.indent)+Ai((e.line+1).toString(),u)+" | "+l.str+`
`,a+=L.repeat("-",t.indent+u+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=i.length);c++)l=vi(e.buffer,n[s+c],i[s+c],e.position-(n[s]-n[s+c]),f),a+=L.repeat(" ",t.indent)+Ai((e.line+c+1).toString(),u)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var Hm=Vm,Gm=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Wm=["scalar","sequence","mapping"];function zm(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function qm(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Gm.indexOf(r)===-1)throw new G('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=zm(t.styleAliases||null),Wm.indexOf(this.kind)===-1)throw new G('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var j=qm;function Gs(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function Ym(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Oi(e){return this.extend(e)}Oi.prototype.extend=function(t){var r=[],n=[];if(t instanceof j)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new G("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof j))throw new G("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new G("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new G("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof j))throw new G("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Oi.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Gs(i,"implicit"),i.compiledExplicit=Gs(i,"explicit"),i.compiledTypeMap=Ym(i.compiledImplicit,i.compiledExplicit),i};var aa=Oi,ca=new j("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),la=new j("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),ua=new j("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),fa=new aa({explicit:[ca,la,ua]});function Zm(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Km(){return null}function Xm(e){return e===null}var da=new j("tag:yaml.org,2002:null",{kind:"scalar",resolve:Zm,construct:Km,predicate:Xm,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Jm(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Qm(e){return e==="true"||e==="True"||e==="TRUE"}function eh(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var pa=new j("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Jm,construct:Qm,predicate:eh,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function th(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function rh(e){return 48<=e&&e<=55}function nh(e){return 48<=e&&e<=57}function ih(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!th(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!rh(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!nh(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function oh(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function sh(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!L.isNegativeZero(e)}var ma=new j("tag:yaml.org,2002:int",{kind:"scalar",resolve:ih,construct:oh,predicate:sh,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ah=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function ch(e){return!(e===null||!ah.test(e)||e[e.length-1]==="_")}function lh(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var uh=/^[-+]?[0-9]+e/;function fh(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(L.isNegativeZero(e))return"-0.0";return r=e.toString(10),uh.test(r)?r.replace("e",".e"):r}function dh(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||L.isNegativeZero(e))}var ha=new j("tag:yaml.org,2002:float",{kind:"scalar",resolve:ch,construct:lh,predicate:dh,represent:fh,defaultStyle:"lowercase"}),ga=fa.extend({implicit:[da,pa,ma,ha]}),ya=ga,xa=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ba=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ph(e){return e===null?!1:xa.exec(e)!==null||ba.exec(e)!==null}function mh(e){var t,r,n,i,o,s,a,c=0,l=null,u,f,d;if(t=xa.exec(e),t===null&&(t=ba.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=+t[10],f=+(t[11]||0),l=(u*60+f)*6e4,t[9]==="-"&&(l=-l)),d=new Date(Date.UTC(r,n,i,o,s,a,c)),l&&d.setTime(d.getTime()-l),d}function hh(e){return e.toISOString()}var wa=new j("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ph,construct:mh,instanceOf:Date,represent:hh});function gh(e){return e==="<<"||e===null}var Sa=new j("tag:yaml.org,2002:merge",{kind:"scalar",resolve:gh}),Ri=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function yh(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=Ri;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function xh(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=Ri,s=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function bh(e){var t="",r=0,n,i,o=e.length,s=Ri;for(n=0;n<o;n++)n%3===0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function wh(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var _a=new j("tag:yaml.org,2002:binary",{kind:"scalar",resolve:yh,construct:xh,predicate:wh,represent:bh}),Sh=Object.prototype.hasOwnProperty,_h=Object.prototype.toString;function vh(e){if(e===null)return!0;var t=[],r,n,i,o,s,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,_h.call(i)!=="[object Object]")return!1;for(o in i)if(Sh.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Ah(e){return e!==null?e:[]}var va=new j("tag:yaml.org,2002:omap",{kind:"sequence",resolve:vh,construct:Ah}),Eh=Object.prototype.toString;function Oh(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],Eh.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function Ch(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}var Aa=new j("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Oh,construct:Ch}),Th=Object.prototype.hasOwnProperty;function kh(e){if(e===null)return!0;var t,r=e;for(t in r)if(Th.call(r,t)&&r[t]!==null)return!1;return!0}function Ih(e){return e!==null?e:{}}var Ea=new j("tag:yaml.org,2002:set",{kind:"mapping",resolve:kh,construct:Ih}),Di=ya.extend({implicit:[wa,Sa],explicit:[_a,va,Aa,Ea]}),Fe=Object.prototype.hasOwnProperty,Tr=1,Oa=2,Ca=3,kr=4,Ei=1,Rh=2,Ws=3,Dh=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Mh=/[\x85\u2028\u2029]/,Fh=/[,\[\]\{\}]/,Ta=/^(?:!|!!|![a-z\-]+!)$/i,ka=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function zs(e){return Object.prototype.toString.call(e)}function le(e){return e===10||e===13}function qe(e){return e===9||e===32}function W(e){return e===9||e===32||e===10||e===13}function bt(e){return e===44||e===91||e===93||e===123||e===125}function $h(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Nh(e){return e===120?2:e===117?4:e===85?8:0}function Lh(e){return 48<=e&&e<=57?e-48:-1}function qs(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Ph(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Ia=new Array(256),Ra=new Array(256);for(ze=0;ze<256;ze++)Ia[ze]=qs(ze)?1:0,Ra[ze]=qs(ze);var ze;function jh(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Di,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Da(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Hm(r),new G(t,r)}function w(e,t){throw Da(e,t)}function Ir(e,t){e.onWarning&&e.onWarning.call(null,Da(e,t))}var Ys={YAML:function(t,r,n){var i,o,s;t.version!==null&&w(t,"duplication of %YAML directive"),n.length!==1&&w(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&w(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&w(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Ir(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&w(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],Ta.test(i)||w(t,"ill-formed tag handle (first argument) of the TAG directive"),Fe.call(t.tagMap,i)&&w(t,'there is a previously declared suffix for "'+i+'" tag handle'),ka.test(o)||w(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{w(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function Me(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||w(e,"expected valid JSON character");else Dh.test(a)&&w(e,"the stream contains non-printable characters");e.result+=a}}function Zs(e,t,r,n){var i,o,s,a;for(L.isObject(r)||w(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],Fe.call(t,o)||(t[o]=r[o],n[o]=!0)}function wt(e,t,r,n,i,o,s,a,c){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&w(e,"nested arrays are not supported inside keys"),typeof i=="object"&&zs(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&zs(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,u=o.length;l<u;l+=1)Zs(e,t,o[l],r);else Zs(e,t,o,r);else!e.json&&!Fe.call(r,i)&&Fe.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,w(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function Mi(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):w(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function $(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;qe(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(le(i))for(Mi(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Ir(e,"deficient indentation"),n}function Mr(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||W(r)))}function Fi(e,t){t===1?e.result+=" ":t>1&&(e.result+=L.repeat(`
`,t-1))}function Bh(e,t,r){var n,i,o,s,a,c,l,u,f=e.kind,d=e.result,p;if(p=e.input.charCodeAt(e.position),W(p)||bt(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),W(i)||r&&bt(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),W(i)||r&&bt(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),W(n))break}else{if(e.position===e.lineStart&&Mr(e)||r&&bt(p))break;if(le(p))if(c=e.line,l=e.lineStart,u=e.lineIndent,$(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=l,e.lineIndent=u;break}}a&&(Me(e,o,s,!1),Fi(e,e.line-c),o=s=e.position,a=!1),qe(p)||(s=e.position+1),p=e.input.charCodeAt(++e.position)}return Me(e,o,s,!1),e.result?!0:(e.kind=f,e.result=d,!1)}function Uh(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Me(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else le(r)?(Me(e,n,i,!0),Fi(e,$(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Mr(e)?w(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);w(e,"unexpected end of the stream within a single quoted scalar")}function Vh(e,t){var r,n,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Me(e,r,e.position,!0),e.position++,!0;if(a===92){if(Me(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),le(a))$(e,!1,t);else if(a<256&&Ia[a])e.result+=Ra[a],e.position++;else if((s=Nh(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=$h(a))>=0?o=(o<<4)+s:w(e,"expected hexadecimal character");e.result+=Ph(o),e.position++}else w(e,"unknown escape sequence");r=n=e.position}else le(a)?(Me(e,r,n,!0),Fi(e,$(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Mr(e)?w(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}w(e,"unexpected end of the stream within a double quoted scalar")}function Hh(e,t){var r=!0,n,i,o,s=e.tag,a,c=e.anchor,l,u,f,d,p,m=Object.create(null),x,A,T,_;if(_=e.input.charCodeAt(e.position),_===91)u=93,p=!1,a=[];else if(_===123)u=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),_=e.input.charCodeAt(++e.position);_!==0;){if($(e,!0,t),_=e.input.charCodeAt(e.position),_===u)return e.position++,e.tag=s,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=a,!0;r?_===44&&w(e,"expected the node content, but found ','"):w(e,"missed comma between flow collection entries"),A=x=T=null,f=d=!1,_===63&&(l=e.input.charCodeAt(e.position+1),W(l)&&(f=d=!0,e.position++,$(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,St(e,t,Tr,!1,!0),A=e.tag,x=e.result,$(e,!0,t),_=e.input.charCodeAt(e.position),(d||e.line===n)&&_===58&&(f=!0,_=e.input.charCodeAt(++e.position),$(e,!0,t),St(e,t,Tr,!1,!0),T=e.result),p?wt(e,a,m,A,x,T,n,i,o):f?a.push(wt(e,null,m,A,x,T,n,i,o)):a.push(x),$(e,!0,t),_=e.input.charCodeAt(e.position),_===44?(r=!0,_=e.input.charCodeAt(++e.position)):r=!1}w(e,"unexpected end of the stream within a flow collection")}function Gh(e,t){var r,n,i=Ei,o=!1,s=!1,a=t,c=0,l=!1,u,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)Ei===i?i=f===43?Ws:Rh:w(e,"repeat of a chomping mode identifier");else if((u=Lh(f))>=0)u===0?w(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?w(e,"repeat of an indentation width identifier"):(a=t+u-1,s=!0);else break;if(qe(f)){do f=e.input.charCodeAt(++e.position);while(qe(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!le(f)&&f!==0)}for(;f!==0;){for(Mi(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),le(f)){c++;continue}if(e.lineIndent<a){i===Ws?e.result+=L.repeat(`
`,o?1+c:c):i===Ei&&o&&(e.result+=`
`);break}for(n?qe(f)?(l=!0,e.result+=L.repeat(`
`,o?1+c:c)):l?(l=!1,e.result+=L.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=L.repeat(`
`,c):e.result+=L.repeat(`
`,o?1+c:c),o=!0,s=!0,c=0,r=e.position;!le(f)&&f!==0;)f=e.input.charCodeAt(++e.position);Me(e,r,e.position,!1)}return!0}function Ks(e,t){var r,n=e.tag,i=e.anchor,o=[],s,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,w(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!W(s))));){if(a=!0,e.position++,$(e,!0,-1)&&e.lineIndent<=t){o.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,St(e,t,Ca,!1,!0),o.push(e.result),$(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)w(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function Wh(e,t,r){var n,i,o,s,a,c,l=e.tag,u=e.anchor,f={},d=Object.create(null),p=null,m=null,x=null,A=!1,T=!1,_;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),_=e.input.charCodeAt(e.position);_!==0;){if(!A&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,w(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(_===63||_===58)&&W(n))_===63?(A&&(wt(e,f,d,p,m,null,s,a,c),p=m=x=null),T=!0,A=!0,i=!0):A?(A=!1,i=!0):w(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,_=n;else{if(s=e.line,a=e.lineStart,c=e.position,!St(e,r,Oa,!1,!0))break;if(e.line===o){for(_=e.input.charCodeAt(e.position);qe(_);)_=e.input.charCodeAt(++e.position);if(_===58)_=e.input.charCodeAt(++e.position),W(_)||w(e,"a whitespace character is expected after the key-value separator within a block mapping"),A&&(wt(e,f,d,p,m,null,s,a,c),p=m=x=null),T=!0,A=!1,i=!1,p=e.tag,m=e.result;else if(T)w(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=u,!0}else if(T)w(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=u,!0}if((e.line===o||e.lineIndent>t)&&(A&&(s=e.line,a=e.lineStart,c=e.position),St(e,t,kr,!0,i)&&(A?m=e.result:x=e.result),A||(wt(e,f,d,p,m,x,s,a,c),p=m=x=null),$(e,!0,-1),_=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&_!==0)w(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return A&&wt(e,f,d,p,m,null,s,a,c),T&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=f),T}function zh(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&w(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):w(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!W(s);)s===33&&(n?w(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Ta.test(i)||w(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),Fh.test(o)&&w(e,"tag suffix cannot contain flow indicator characters")}o&&!ka.test(o)&&w(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{w(e,"tag name is malformed: "+o)}return r?e.tag=o:Fe.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:w(e,'undeclared tag handle "'+i+'"'),!0}function qh(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&w(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!W(r)&&!bt(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&w(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Yh(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!W(n)&&!bt(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&w(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Fe.call(e.anchorMap,r)||w(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],$(e,!0,-1),!0}function St(e,t,r,n,i){var o,s,a,c=1,l=!1,u=!1,f,d,p,m,x,A;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=kr===r||Ca===r,n&&$(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;zh(e)||qh(e);)$(e,!0,-1)?(l=!0,a=o,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):a=!1;if(a&&(a=l||i),(c===1||kr===r)&&(Tr===r||Oa===r?x=t:x=t+1,A=e.position-e.lineStart,c===1?a&&(Ks(e,A)||Wh(e,A,x))||Hh(e,x)?u=!0:(s&&Gh(e,x)||Uh(e,x)||Vh(e,x)?u=!0:Yh(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&w(e,"alias node should not have any properties")):Bh(e,x,Tr===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(u=a&&Ks(e,A))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&w(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,d=e.implicitTypes.length;f<d;f+=1)if(m=e.implicitTypes[f],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Fe.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,p=e.typeMap.multi[e.kind||"fallback"],f=0,d=p.length;f<d;f+=1)if(e.tag.slice(0,p[f].tag.length)===p[f].tag){m=p[f];break}m||w(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&w(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):w(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function Zh(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&($(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!W(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&w(e,"directive name must not be less than one character in length");s!==0;){for(;qe(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!le(s));break}if(le(s))break;for(r=e.position;s!==0&&!W(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&Mi(e),Fe.call(Ys,n)?Ys[n](e,n,i):Ir(e,'unknown document directive "'+n+'"')}if($(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,$(e,!0,-1)):o&&w(e,"directives end mark is expected"),St(e,e.lineIndent-1,kr,!1,!0),$(e,!0,-1),e.checkLineBreaks&&Mh.test(e.input.slice(t,e.position))&&Ir(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Mr(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,$(e,!0,-1));return}if(e.position<e.length-1)w(e,"end of the stream or a document separator is expected");else return}function Ma(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new jh(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,w(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Zh(r);return r.documents}function Kh(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=Ma(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function Xh(e,t){var r=Ma(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new G("expected a single document in the stream, but found more")}}var Jh=Kh,Qh=Xh,Fa={loadAll:Jh,load:Qh},$a=Object.prototype.toString,Na=Object.prototype.hasOwnProperty,$i=65279,eg=9,Qt=10,tg=13,rg=32,ng=33,ig=34,Ci=35,og=37,sg=38,ag=39,cg=42,La=44,lg=45,Rr=58,ug=61,fg=62,dg=63,pg=64,Pa=91,ja=93,mg=96,Ba=123,hg=124,Ua=125,U={};U[0]="\\0";U[7]="\\a";U[8]="\\b";U[9]="\\t";U[10]="\\n";U[11]="\\v";U[12]="\\f";U[13]="\\r";U[27]="\\e";U[34]='\\"';U[92]="\\\\";U[133]="\\N";U[160]="\\_";U[8232]="\\L";U[8233]="\\P";var gg=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],yg=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function xg(e,t){var r,n,i,o,s,a,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=e.compiledTypeMap.fallback[s],c&&Na.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[s]=a;return r}function bg(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new G("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+L.repeat("0",n-t.length)+t}var wg=1,er=2;function Sg(e){this.schema=e.schema||Di,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=L.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=xg(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?er:wg,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Xs(e,t){for(var r=L.repeat(" ",t),n=0,i=-1,o="",s,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=a):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function Ti(e,t){return`
`+L.repeat(" ",e.indent*t)}function _g(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Dr(e){return e===rg||e===eg}function tr(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==$i||65536<=e&&e<=1114111}function Js(e){return tr(e)&&e!==$i&&e!==tg&&e!==Qt}function Qs(e,t,r){var n=Js(e),i=n&&!Dr(e);return(r?n:n&&e!==La&&e!==Pa&&e!==ja&&e!==Ba&&e!==Ua)&&e!==Ci&&!(t===Rr&&!i)||Js(t)&&!Dr(t)&&e===Ci||t===Rr&&i}function vg(e){return tr(e)&&e!==$i&&!Dr(e)&&e!==lg&&e!==dg&&e!==Rr&&e!==La&&e!==Pa&&e!==ja&&e!==Ba&&e!==Ua&&e!==Ci&&e!==sg&&e!==cg&&e!==ng&&e!==hg&&e!==ug&&e!==fg&&e!==ag&&e!==ig&&e!==og&&e!==pg&&e!==mg}function Ag(e){return!Dr(e)&&e!==Rr}function Xt(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Va(e){var t=/^\n* /;return t.test(e)}var Ha=1,ki=2,Ga=3,Wa=4,xt=5;function Eg(e,t,r,n,i,o,s,a){var c,l=0,u=null,f=!1,d=!1,p=n!==-1,m=-1,x=vg(Xt(e,0))&&Ag(Xt(e,e.length-1));if(t||s)for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=Xt(e,c),!tr(l))return xt;x=x&&Qs(l,u,a),u=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=Xt(e,c),l===Qt)f=!0,p&&(d=d||c-m-1>n&&e[m+1]!==" ",m=c);else if(!tr(l))return xt;x=x&&Qs(l,u,a),u=l}d=d||p&&c-m-1>n&&e[m+1]!==" "}return!f&&!d?x&&!s&&!i(e)?Ha:o===er?xt:ki:r>9&&Va(e)?xt:s?o===er?xt:ki:d?Wa:Ga}function Og(e,t,r,n,i){e.dump=(function(){if(t.length===0)return e.quotingType===er?'""':"''";if(!e.noCompatMode&&(gg.indexOf(t)!==-1||yg.test(t)))return e.quotingType===er?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;function c(l){return _g(e,l)}switch(Eg(t,a,e.indent,s,c,e.quotingType,e.forceQuotes&&!n,i)){case Ha:return t;case ki:return"'"+t.replace(/'/g,"''")+"'";case Ga:return"|"+ea(t,e.indent)+ta(Xs(t,o));case Wa:return">"+ea(t,e.indent)+ta(Xs(Cg(t,s),o));case xt:return'"'+Tg(t)+'"';default:throw new G("impossible error: invalid scalar style")}})()}function ea(e,t){var r=Va(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function ta(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Cg(e,t){for(var r=/(\n+)([^\n]*)/g,n=(function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,ra(e.slice(0,l),t)})(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var a=s[1],c=s[2];o=c[0]===" ",n+=a+(!i&&!o&&c!==""?`
`:"")+ra(c,t),i=o}return n}function ra(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,c="";n=r.exec(e);)a=n.index,a-i>t&&(o=s>i?s:a,c+=`
`+e.slice(i,o),i=o+1),s=a;return c+=`
`,e.length-i>t&&s>i?c+=e.slice(i,s)+`
`+e.slice(s+1):c+=e.slice(i),c.slice(1)}function Tg(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Xt(e,i),n=U[r],!n&&tr(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||bg(r);return t}function kg(e,t,r){var n="",i=e.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),(Se(e,t,a,!1,!1)||typeof a>"u"&&Se(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function na(e,t,r,n){var i="",o=e.tag,s,a,c;for(s=0,a=r.length;s<a;s+=1)c=r[s],e.replacer&&(c=e.replacer.call(r,String(s),c)),(Se(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&Se(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Ti(e,t)),e.dump&&Qt===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function Ig(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,a,c,l,u;for(s=0,a=o.length;s<a;s+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),c=o[s],l=r[c],e.replacer&&(l=e.replacer.call(r,c,l)),Se(e,t,c,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Se(e,t,l,!1,!1)&&(u+=e.dump,n+=u));e.tag=i,e.dump="{"+n+"}"}function Rg(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),a,c,l,u,f,d;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new G("sortKeys must be a boolean or a function");for(a=0,c=s.length;a<c;a+=1)d="",(!n||i!=="")&&(d+=Ti(e,t)),l=s[a],u=r[l],e.replacer&&(u=e.replacer.call(r,l,u)),Se(e,t+1,l,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&Qt===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,f&&(d+=Ti(e,t)),Se(e,t+1,u,!0,f)&&(e.dump&&Qt===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=o,e.dump=i||"{}"}function ia(e,t,r){var n,i,o,s,a,c;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,$a.call(a.represent)==="[object Function]")n=a.represent(t,c);else if(Na.call(a.represent,c))n=a.represent[c](t,c);else throw new G("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}function Se(e,t,r,n,i,o,s){e.tag=null,e.dump=r,ia(e,r,!1)||ia(e,r,!0);var a=$a.call(e.dump),c=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",f,d;if(u&&(f=e.duplicates.indexOf(r),d=f!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(i=!1),d&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(u&&d&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(Rg(e,t,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(Ig(e,t,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?na(e,t-1,e.dump,i):na(e,t,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(kg(e,t,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&Og(e,e.dump,t,o,c);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new G("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function Dg(e,t){var r=[],n=[],i,o;for(Ii(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function Ii(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)Ii(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)Ii(e[n[i]],t,r)}function Mg(e,t){t=t||{};var r=new Sg(t);r.noRefs||Dg(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Se(r,0,n,!0,!0)?r.dump+`
`:""}var Fg=Mg,$g={dump:Fg};function Ni(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Ng=j,Lg=aa,Pg=fa,jg=ga,Bg=ya,Ug=Di,Vg=Fa.load,Hg=Fa.loadAll,Gg=$g.dump,Wg=G,zg={binary:_a,float:ha,map:ua,null:da,pairs:Aa,set:Ea,timestamp:wa,bool:pa,int:ma,merge:Sa,omap:va,seq:la,str:ca},qg=Ni("safeLoad","load"),Yg=Ni("safeLoadAll","loadAll"),Zg=Ni("safeDump","dump"),Kg={Type:Ng,Schema:Lg,FAILSAFE_SCHEMA:Pg,JSON_SCHEMA:jg,CORE_SCHEMA:Bg,DEFAULT_SCHEMA:Ug,load:Vg,loadAll:Hg,dump:Gg,YAMLException:Wg,types:zg,safeLoad:qg,safeLoadAll:Yg,safeDump:Zg},za=Kg;var D={};mm(D,{BRAND:()=>_y,DIRTY:()=>Ye,EMPTY_PATH:()=>ey,INVALID:()=>S,NEVER:()=>sx,OK:()=>V,ParseStatus:()=>B,Schema:()=>C,ZodAny:()=>Le,ZodArray:()=>Ee,ZodBigInt:()=>Ke,ZodBoolean:()=>Xe,ZodBranded:()=>nr,ZodCatch:()=>ct,ZodDate:()=>Je,ZodDefault:()=>at,ZodDiscriminatedUnion:()=>Nr,ZodEffects:()=>Q,ZodEnum:()=>ot,ZodError:()=>z,ZodFirstPartyTypeKind:()=>v,ZodFunction:()=>Pr,ZodIntersection:()=>rt,ZodIssueCode:()=>h,ZodLazy:()=>nt,ZodLiteral:()=>it,ZodMap:()=>Ct,ZodNaN:()=>kt,ZodNativeEnum:()=>st,ZodNever:()=>ne,ZodNull:()=>et,ZodNullable:()=>de,ZodNumber:()=>Ze,ZodObject:()=>q,ZodOptional:()=>X,ZodParsedType:()=>y,ZodPipeline:()=>ir,ZodPromise:()=>Pe,ZodReadonly:()=>lt,ZodRecord:()=>Lr,ZodSchema:()=>C,ZodSet:()=>Tt,ZodString:()=>Ne,ZodSymbol:()=>Et,ZodTransformer:()=>Q,ZodTuple:()=>fe,ZodType:()=>C,ZodUndefined:()=>Qe,ZodUnion:()=>tt,ZodUnknown:()=>Ae,ZodVoid:()=>Ot,addIssueToContext:()=>g,any:()=>Ry,array:()=>$y,bigint:()=>Oy,boolean:()=>nc,coerce:()=>ox,custom:()=>ec,date:()=>Cy,datetimeRegex:()=>Ja,defaultErrorMap:()=>_e,discriminatedUnion:()=>jy,effect:()=>Xy,enum:()=>Yy,function:()=>Wy,getErrorMap:()=>_t,getParsedType:()=>ue,instanceof:()=>Ay,intersection:()=>By,isAborted:()=>Fr,isAsync:()=>vt,isDirty:()=>$r,isValid:()=>$e,late:()=>vy,lazy:()=>zy,literal:()=>qy,makeIssue:()=>rr,map:()=>Hy,nan:()=>Ey,nativeEnum:()=>Zy,never:()=>My,null:()=>Iy,nullable:()=>Qy,number:()=>rc,object:()=>Ny,objectUtil:()=>Li,oboolean:()=>ix,onumber:()=>nx,optional:()=>Jy,ostring:()=>rx,pipeline:()=>tx,preprocess:()=>ex,promise:()=>Ky,quotelessJson:()=>Xg,record:()=>Vy,set:()=>Gy,setErrorMap:()=>Qg,strictObject:()=>Ly,string:()=>tc,symbol:()=>Ty,transformer:()=>Xy,tuple:()=>Uy,undefined:()=>ky,union:()=>Py,unknown:()=>Dy,util:()=>k,void:()=>Fy});var k;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{let o={};for(let s of i)o[s]=s;return o},e.getValidEnumValues=i=>{let o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(let a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(let s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(k||(k={}));var Li;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Li||(Li={}));var y=k.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ue=e=>{switch(typeof e){case"undefined":return y.undefined;case"string":return y.string;case"number":return Number.isNaN(e)?y.nan:y.number;case"boolean":return y.boolean;case"function":return y.function;case"bigint":return y.bigint;case"symbol":return y.symbol;case"object":return Array.isArray(e)?y.array:e===null?y.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?y.promise:typeof Map<"u"&&e instanceof Map?y.map:typeof Set<"u"&&e instanceof Set?y.set:typeof Date<"u"&&e instanceof Date?y.date:y.object;default:return y.unknown}};var h=k.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Xg=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),z=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(o){return o.message},n={_errors:[]},i=o=>{for(let s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let a=n,c=0;for(;c<s.path.length;){let l=s.path[c];c===s.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(s))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,k.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let i of this.issues)if(i.path.length>0){let o=i.path[0];r[o]=r[o]||[],r[o].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};z.create=e=>new z(e);var Jg=(e,t)=>{let r;switch(e.code){case h.invalid_type:e.received===y.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case h.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,k.jsonStringifyReplacer)}`;break;case h.unrecognized_keys:r=`Unrecognized key(s) in object: ${k.joinValues(e.keys,", ")}`;break;case h.invalid_union:r="Invalid input";break;case h.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${k.joinValues(e.options)}`;break;case h.invalid_enum_value:r=`Invalid enum value. Expected ${k.joinValues(e.options)}, received '${e.received}'`;break;case h.invalid_arguments:r="Invalid function arguments";break;case h.invalid_return_type:r="Invalid function return type";break;case h.invalid_date:r="Invalid date";break;case h.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:k.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case h.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case h.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case h.custom:r="Invalid input";break;case h.invalid_intersection_types:r="Intersection results could not be merged";break;case h.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case h.not_finite:r="Number must be finite";break;default:r=t.defaultError,k.assertNever(e)}return{message:r}},_e=Jg;var qa=_e;function Qg(e){qa=e}function _t(){return qa}var rr=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="",c=n.filter(l=>!!l).slice().reverse();for(let l of c)a=l(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}},ey=[];function g(e,t){let r=_t(),n=rr({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===_e?void 0:_e].filter(i=>!!i)});e.common.issues.push(n)}var B=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return S;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let o=await i.key,s=await i.value;n.push({key:o,value:s})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return S;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[o.value]=s.value)}return{status:t.value,value:n}}},S=Object.freeze({status:"aborted"}),Ye=e=>({status:"dirty",value:e}),V=e=>({status:"valid",value:e}),Fr=e=>e.status==="aborted",$r=e=>e.status==="dirty",$e=e=>e.status==="valid",vt=e=>typeof Promise<"u"&&e instanceof Promise;var b;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(b||(b={}));var J=class{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Ya=(e,t)=>{if($e(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new z(e.common.issues);return this._error=r,this._error}}};function E(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,a)=>{let{message:c}=e;return s.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??n??a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:c??r??a.defaultError}},description:i}}var C=class{get description(){return this._def.description}_getType(t){return ue(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ue(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new B,ctx:{common:t.parent.common,data:t.data,parsedType:ue(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(vt(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ue(t)},i=this._parseSync({data:t,path:n.path,parent:n});return Ya(n,i)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ue(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return $e(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>$e(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ue(t)},i=this._parse({data:t,path:n.path,parent:n}),o=await(vt(i)?i:Promise.resolve(i));return Ya(n,o)}refine(t,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,o)=>{let s=t(i),a=()=>o.addIssue({code:h.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Q({schema:this,typeName:v.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return X.create(this,this._def)}nullable(){return de.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ee.create(this)}promise(){return Pe.create(this,this._def)}or(t){return tt.create([this,t],this._def)}and(t){return rt.create(this,t,this._def)}transform(t){return new Q({...E(this._def),schema:this,typeName:v.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new at({...E(this._def),innerType:this,defaultValue:r,typeName:v.ZodDefault})}brand(){return new nr({typeName:v.ZodBranded,type:this,...E(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new ct({...E(this._def),innerType:this,catchValue:r,typeName:v.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ir.create(this,t)}readonly(){return lt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},ty=/^c[^\s-]{8,}$/i,ry=/^[0-9a-z]+$/,ny=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iy=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oy=/^[a-z0-9_-]{21}$/i,sy=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ay=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cy=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ly="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Pi,uy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,py=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,my=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hy=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ka="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gy=new RegExp(`^${Ka}$`);function Xa(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function yy(e){return new RegExp(`^${Xa(e)}$`)}function Ja(e){let t=`${Ka}T${Xa(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function xy(e,t){return!!((t==="v4"||!t)&&uy.test(e)||(t==="v6"||!t)&&dy.test(e))}function by(e,t){if(!sy.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function wy(e,t){return!!((t==="v4"||!t)&&fy.test(e)||(t==="v6"||!t)&&py.test(e))}var Ne=class e extends C{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==y.string){let o=this._getOrReturnCtx(t);return g(o,{code:h.invalid_type,expected:y.string,received:o.parsedType}),S}let n=new B,i;for(let o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),g(i,{code:h.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),g(i,{code:h.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){let s=t.data.length>o.value,a=t.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(t,i),s?g(i,{code:h.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&g(i,{code:h.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")cy.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"email",code:h.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Pi||(Pi=new RegExp(ly,"u")),Pi.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"emoji",code:h.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")iy.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"uuid",code:h.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")oy.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"nanoid",code:h.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")ty.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"cuid",code:h.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")ry.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"cuid2",code:h.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")ny.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"ulid",code:h.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),g(i,{validation:"url",code:h.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"regex",code:h.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),g(i,{code:h.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),g(i,{code:h.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),g(i,{code:h.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?Ja(o).test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{code:h.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?gy.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{code:h.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?yy(o).test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{code:h.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?ay.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"duration",code:h.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?xy(t.data,o.version)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"ip",code:h.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?by(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"jwt",code:h.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?wy(t.data,o.version)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"cidr",code:h.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?my.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"base64",code:h.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?hy.test(t.data)||(i=this._getOrReturnCtx(t,i),g(i,{validation:"base64url",code:h.invalid_string,message:o.message}),n.dirty()):k.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:h.invalid_string,...b.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...b.errToObj(t)})}url(t){return this._addCheck({kind:"url",...b.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...b.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...b.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...b.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...b.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...b.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...b.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...b.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...b.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...b.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...b.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...b.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...b.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...b.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...b.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...b.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...b.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...b.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...b.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...b.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...b.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...b.errToObj(r)})}nonempty(t){return this.min(1,b.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Ne.create=e=>new Ne({checks:[],typeName:v.ZodString,coerce:e?.coerce??!1,...E(e)});function Sy(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,o=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return o%s/10**i}var Ze=class e extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==y.number){let o=this._getOrReturnCtx(t);return g(o,{code:h.invalid_type,expected:y.number,received:o.parsedType}),S}let n,i=new B;for(let o of this._def.checks)o.kind==="int"?k.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),g(n,{code:h.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),g(n,{code:h.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),g(n,{code:h.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?Sy(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),g(n,{code:h.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),g(n,{code:h.not_finite,message:o.message}),i.dirty()):k.assertNever(o);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,b.toString(r))}gt(t,r){return this.setLimit("min",t,!1,b.toString(r))}lte(t,r){return this.setLimit("max",t,!0,b.toString(r))}lt(t,r){return this.setLimit("max",t,!1,b.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:b.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:b.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:b.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:b.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:b.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:b.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:b.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:b.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:b.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:b.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&k.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Ze.create=e=>new Ze({checks:[],typeName:v.ZodNumber,coerce:e?.coerce||!1,...E(e)});var Ke=class e extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==y.bigint)return this._getInvalidInput(t);let n,i=new B;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),g(n,{code:h.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),g(n,{code:h.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),g(n,{code:h.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):k.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return g(r,{code:h.invalid_type,expected:y.bigint,received:r.parsedType}),S}gte(t,r){return this.setLimit("min",t,!0,b.toString(r))}gt(t,r){return this.setLimit("min",t,!1,b.toString(r))}lte(t,r){return this.setLimit("max",t,!0,b.toString(r))}lt(t,r){return this.setLimit("max",t,!1,b.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:b.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:b.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:b.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:b.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:b.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:b.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Ke.create=e=>new Ke({checks:[],typeName:v.ZodBigInt,coerce:e?.coerce??!1,...E(e)});var Xe=class extends C{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==y.boolean){let n=this._getOrReturnCtx(t);return g(n,{code:h.invalid_type,expected:y.boolean,received:n.parsedType}),S}return V(t.data)}};Xe.create=e=>new Xe({typeName:v.ZodBoolean,coerce:e?.coerce||!1,...E(e)});var Je=class e extends C{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==y.date){let o=this._getOrReturnCtx(t);return g(o,{code:h.invalid_type,expected:y.date,received:o.parsedType}),S}if(Number.isNaN(t.data.getTime())){let o=this._getOrReturnCtx(t);return g(o,{code:h.invalid_date}),S}let n=new B,i;for(let o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),g(i,{code:h.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),g(i,{code:h.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):k.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:b.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:b.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Je.create=e=>new Je({checks:[],coerce:e?.coerce||!1,typeName:v.ZodDate,...E(e)});var Et=class extends C{_parse(t){if(this._getType(t)!==y.symbol){let n=this._getOrReturnCtx(t);return g(n,{code:h.invalid_type,expected:y.symbol,received:n.parsedType}),S}return V(t.data)}};Et.create=e=>new Et({typeName:v.ZodSymbol,...E(e)});var Qe=class extends C{_parse(t){if(this._getType(t)!==y.undefined){let n=this._getOrReturnCtx(t);return g(n,{code:h.invalid_type,expected:y.undefined,received:n.parsedType}),S}return V(t.data)}};Qe.create=e=>new Qe({typeName:v.ZodUndefined,...E(e)});var et=class extends C{_parse(t){if(this._getType(t)!==y.null){let n=this._getOrReturnCtx(t);return g(n,{code:h.invalid_type,expected:y.null,received:n.parsedType}),S}return V(t.data)}};et.create=e=>new et({typeName:v.ZodNull,...E(e)});var Le=class extends C{constructor(){super(...arguments),this._any=!0}_parse(t){return V(t.data)}};Le.create=e=>new Le({typeName:v.ZodAny,...E(e)});var Ae=class extends C{constructor(){super(...arguments),this._unknown=!0}_parse(t){return V(t.data)}};Ae.create=e=>new Ae({typeName:v.ZodUnknown,...E(e)});var ne=class extends C{_parse(t){let r=this._getOrReturnCtx(t);return g(r,{code:h.invalid_type,expected:y.never,received:r.parsedType}),S}};ne.create=e=>new ne({typeName:v.ZodNever,...E(e)});var Ot=class extends C{_parse(t){if(this._getType(t)!==y.undefined){let n=this._getOrReturnCtx(t);return g(n,{code:h.invalid_type,expected:y.void,received:n.parsedType}),S}return V(t.data)}};Ot.create=e=>new Ot({typeName:v.ZodVoid,...E(e)});var Ee=class e extends C{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==y.array)return g(r,{code:h.invalid_type,expected:y.array,received:r.parsedType}),S;if(i.exactLength!==null){let s=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(s||a)&&(g(r,{code:s?h.too_big:h.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(g(r,{code:h.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(g(r,{code:h.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,a)=>i.type._parseAsync(new J(r,s,r.path,a)))).then(s=>B.mergeArray(n,s));let o=[...r.data].map((s,a)=>i.type._parseSync(new J(r,s,r.path,a)));return B.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:b.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:b.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:b.toString(r)}})}nonempty(t){return this.min(1,t)}};Ee.create=(e,t)=>new Ee({type:e,minLength:null,maxLength:null,exactLength:null,typeName:v.ZodArray,...E(t)});function At(e){if(e instanceof q){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=X.create(At(n))}return new q({...e._def,shape:()=>t})}else return e instanceof Ee?new Ee({...e._def,type:At(e.element)}):e instanceof X?X.create(At(e.unwrap())):e instanceof de?de.create(At(e.unwrap())):e instanceof fe?fe.create(e.items.map(t=>At(t))):e}var q=class e extends C{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=k.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==y.object){let l=this._getOrReturnCtx(t);return g(l,{code:h.invalid_type,expected:y.object,received:l.parsedType}),S}let{status:n,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof ne&&this._def.unknownKeys==="strip"))for(let l in i.data)s.includes(l)||a.push(l);let c=[];for(let l of s){let u=o[l],f=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new J(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof ne){let l=this._def.unknownKeys;if(l==="passthrough")for(let u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(g(i,{code:h.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let u of a){let f=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new J(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let l=[];for(let u of c){let f=await u.key,d=await u.value;l.push({key:f,value:d,alwaysSet:u.alwaysSet})}return l}).then(l=>B.mergeObjectSync(n,l)):B.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return b.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{let i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:b.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:v.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};for(let n of k.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}omit(t){let r={};for(let n of k.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}deepPartial(){return At(this)}partial(t){let r={};for(let n of k.objectKeys(this.shape)){let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new e({...this._def,shape:()=>r})}required(t){let r={};for(let n of k.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof X;)o=o._def.innerType;r[n]=o}return new e({...this._def,shape:()=>r})}keyof(){return Qa(k.objectKeys(this.shape))}};q.create=(e,t)=>new q({shape:()=>e,unknownKeys:"strip",catchall:ne.create(),typeName:v.ZodObject,...E(t)});q.strictCreate=(e,t)=>new q({shape:()=>e,unknownKeys:"strict",catchall:ne.create(),typeName:v.ZodObject,...E(t)});q.lazycreate=(e,t)=>new q({shape:e,unknownKeys:"strip",catchall:ne.create(),typeName:v.ZodObject,...E(t)});var tt=class extends C{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(a=>new z(a.ctx.common.issues));return g(r,{code:h.invalid_union,unionErrors:s}),S}if(r.common.async)return Promise.all(n.map(async o=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let o,s=[];for(let c of n){let l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(c=>new z(c));return g(r,{code:h.invalid_union,unionErrors:a}),S}}get options(){return this._def.options}};tt.create=(e,t)=>new tt({options:e,typeName:v.ZodUnion,...E(t)});var ve=e=>e instanceof nt?ve(e.schema):e instanceof Q?ve(e.innerType()):e instanceof it?[e.value]:e instanceof ot?e.options:e instanceof st?k.objectValues(e.enum):e instanceof at?ve(e._def.innerType):e instanceof Qe?[void 0]:e instanceof et?[null]:e instanceof X?[void 0,...ve(e.unwrap())]:e instanceof de?[null,...ve(e.unwrap())]:e instanceof nr||e instanceof lt?ve(e.unwrap()):e instanceof ct?ve(e._def.innerType):[],Nr=class e extends C{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==y.object)return g(r,{code:h.invalid_type,expected:y.object,received:r.parsedType}),S;let n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(g(r,{code:h.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),S)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let o of r){let s=ve(o.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new e({typeName:v.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...E(n)})}};function ji(e,t){let r=ue(e),n=ue(t);if(e===t)return{valid:!0,data:e};if(r===y.object&&n===y.object){let i=k.objectKeys(t),o=k.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(let a of o){let c=ji(e[a],t[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(r===y.array&&n===y.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let o=0;o<e.length;o++){let s=e[o],a=t[o],c=ji(s,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===y.date&&n===y.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var rt=class extends C{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=(o,s)=>{if(Fr(o)||Fr(s))return S;let a=ji(o.value,s.value);return a.valid?(($r(o)||$r(s))&&r.dirty(),{status:r.value,value:a.data}):(g(n,{code:h.invalid_intersection_types}),S)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};rt.create=(e,t,r)=>new rt({left:e,right:t,typeName:v.ZodIntersection,...E(r)});var fe=class e extends C{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==y.array)return g(n,{code:h.invalid_type,expected:y.array,received:n.parsedType}),S;if(n.data.length<this._def.items.length)return g(n,{code:h.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),S;!this._def.rest&&n.data.length>this._def.items.length&&(g(n,{code:h.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let o=[...n.data].map((s,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new J(n,s,n.path,a)):null}).filter(s=>!!s);return n.common.async?Promise.all(o).then(s=>B.mergeArray(r,s)):B.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};fe.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fe({items:e,typeName:v.ZodTuple,rest:null,...E(t)})};var Lr=class e extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==y.object)return g(n,{code:h.invalid_type,expected:y.object,received:n.parsedType}),S;let i=[],o=this._def.keyType,s=this._def.valueType;for(let a in n.data)i.push({key:o._parse(new J(n,a,n.path,a)),value:s._parse(new J(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?B.mergeObjectAsync(r,i):B.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof C?new e({keyType:t,valueType:r,typeName:v.ZodRecord,...E(n)}):new e({keyType:Ne.create(),valueType:t,typeName:v.ZodRecord,...E(r)})}},Ct=class extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==y.map)return g(n,{code:h.invalid_type,expected:y.map,received:n.parsedType}),S;let i=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new J(n,a,n.path,[l,"key"])),value:o._parse(new J(n,c,n.path,[l,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of s){let l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return S;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of s){let l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return S;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}};Ct.create=(e,t,r)=>new Ct({valueType:t,keyType:e,typeName:v.ZodMap,...E(r)});var Tt=class e extends C{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==y.set)return g(n,{code:h.invalid_type,expected:y.set,received:n.parsedType}),S;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(g(n,{code:h.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(g(n,{code:h.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function s(c){let l=new Set;for(let u of c){if(u.status==="aborted")return S;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}let a=[...n.data.values()].map((c,l)=>o._parse(new J(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(t,r){return new e({...this._def,minSize:{value:t,message:b.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:b.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};Tt.create=(e,t)=>new Tt({valueType:e,minSize:null,maxSize:null,typeName:v.ZodSet,...E(t)});var Pr=class e extends C{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==y.function)return g(r,{code:h.invalid_type,expected:y.function,received:r.parsedType}),S;function n(a,c){return rr({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_t(),_e].filter(l=>!!l),issueData:{code:h.invalid_arguments,argumentsError:c}})}function i(a,c){return rr({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_t(),_e].filter(l=>!!l),issueData:{code:h.invalid_return_type,returnTypeError:c}})}let o={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Pe){let a=this;return V(async function(...c){let l=new z([]),u=await a._def.args.parseAsync(c,o).catch(p=>{throw l.addIssue(n(c,p)),l}),f=await Reflect.apply(s,this,u);return await a._def.returns._def.type.parseAsync(f,o).catch(p=>{throw l.addIssue(i(f,p)),l})})}else{let a=this;return V(function(...c){let l=a._def.args.safeParse(c,o);if(!l.success)throw new z([n(c,l.error)]);let u=Reflect.apply(s,this,l.data),f=a._def.returns.safeParse(u,o);if(!f.success)throw new z([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:fe.create(t).rest(Ae.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||fe.create([]).rest(Ae.create()),returns:r||Ae.create(),typeName:v.ZodFunction,...E(n)})}},nt=class extends C{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};nt.create=(e,t)=>new nt({getter:e,typeName:v.ZodLazy,...E(t)});var it=class extends C{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return g(r,{received:r.data,code:h.invalid_literal,expected:this._def.value}),S}return{status:"valid",value:t.data}}get value(){return this._def.value}};it.create=(e,t)=>new it({value:e,typeName:v.ZodLiteral,...E(t)});function Qa(e,t){return new ot({values:e,typeName:v.ZodEnum,...E(t)})}var ot=class e extends C{_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return g(r,{expected:k.joinValues(n),received:r.parsedType,code:h.invalid_type}),S}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return g(r,{received:r.data,code:h.invalid_enum_value,options:n}),S}return V(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};ot.create=Qa;var st=class extends C{_parse(t){let r=k.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==y.string&&n.parsedType!==y.number){let i=k.objectValues(r);return g(n,{expected:k.joinValues(i),received:n.parsedType,code:h.invalid_type}),S}if(this._cache||(this._cache=new Set(k.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let i=k.objectValues(r);return g(n,{received:n.data,code:h.invalid_enum_value,options:i}),S}return V(t.data)}get enum(){return this._def.values}};st.create=(e,t)=>new st({values:e,typeName:v.ZodNativeEnum,...E(t)});var Pe=class extends C{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==y.promise&&r.common.async===!1)return g(r,{code:h.invalid_type,expected:y.promise,received:r.parsedType}),S;let n=r.parsedType===y.promise?r.data:Promise.resolve(r.data);return V(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Pe.create=(e,t)=>new Pe({type:e,typeName:v.ZodPromise,...E(t)});var Q=class extends C{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===v.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{g(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let s=i.transform(n.data,o);if(n.common.async)return Promise.resolve(s).then(async a=>{if(r.value==="aborted")return S;let c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?S:c.status==="dirty"?Ye(c.value):r.value==="dirty"?Ye(c.value):c});{if(r.value==="aborted")return S;let a=this._def.schema._parseSync({data:s,path:n.path,parent:n});return a.status==="aborted"?S:a.status==="dirty"?Ye(a.value):r.value==="dirty"?Ye(a.value):a}}if(i.type==="refinement"){let s=a=>{let c=i.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?S:(a.status==="dirty"&&r.dirty(),s(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?S:(a.status==="dirty"&&r.dirty(),s(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!$e(s))return S;let a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>$e(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:r.value,value:a})):S);k.assertNever(i)}};Q.create=(e,t,r)=>new Q({schema:e,typeName:v.ZodEffects,effect:t,...E(r)});Q.createWithPreprocess=(e,t,r)=>new Q({schema:t,effect:{type:"preprocess",transform:e},typeName:v.ZodEffects,...E(r)});var X=class extends C{_parse(t){return this._getType(t)===y.undefined?V(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};X.create=(e,t)=>new X({innerType:e,typeName:v.ZodOptional,...E(t)});var de=class extends C{_parse(t){return this._getType(t)===y.null?V(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};de.create=(e,t)=>new de({innerType:e,typeName:v.ZodNullable,...E(t)});var at=class extends C{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===y.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};at.create=(e,t)=>new at({innerType:e,typeName:v.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...E(t)});var ct=class extends C{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return vt(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new z(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new z(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};ct.create=(e,t)=>new ct({innerType:e,typeName:v.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...E(t)});var kt=class extends C{_parse(t){if(this._getType(t)!==y.nan){let n=this._getOrReturnCtx(t);return g(n,{code:h.invalid_type,expected:y.nan,received:n.parsedType}),S}return{status:"valid",value:t.data}}};kt.create=e=>new kt({typeName:v.ZodNaN,...E(e)});var _y=Symbol("zod_brand"),nr=class extends C{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},ir=class e extends C{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?S:o.status==="dirty"?(r.dirty(),Ye(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?S:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:v.ZodPipeline})}},lt=class extends C{_parse(t){let r=this._def.innerType._parse(t),n=i=>($e(i)&&(i.value=Object.freeze(i.value)),i);return vt(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};lt.create=(e,t)=>new lt({innerType:e,typeName:v.ZodReadonly,...E(t)});function Za(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function ec(e,t={},r){return e?Le.create().superRefine((n,i)=>{let o=e(n);if(o instanceof Promise)return o.then(s=>{if(!s){let a=Za(t,n),c=a.fatal??r??!0;i.addIssue({code:"custom",...a,fatal:c})}});if(!o){let s=Za(t,n),a=s.fatal??r??!0;i.addIssue({code:"custom",...s,fatal:a})}}):Le.create()}var vy={object:q.lazycreate},v;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(v||(v={}));var Ay=(e,t={message:`Input not instance of ${e.name}`})=>ec(r=>r instanceof e,t),tc=Ne.create,rc=Ze.create,Ey=kt.create,Oy=Ke.create,nc=Xe.create,Cy=Je.create,Ty=Et.create,ky=Qe.create,Iy=et.create,Ry=Le.create,Dy=Ae.create,My=ne.create,Fy=Ot.create,$y=Ee.create,Ny=q.create,Ly=q.strictCreate,Py=tt.create,jy=Nr.create,By=rt.create,Uy=fe.create,Vy=Lr.create,Hy=Ct.create,Gy=Tt.create,Wy=Pr.create,zy=nt.create,qy=it.create,Yy=ot.create,Zy=st.create,Ky=Pe.create,Xy=Q.create,Jy=X.create,Qy=de.create,ex=Q.createWithPreprocess,tx=ir.create,rx=()=>tc().optional(),nx=()=>rc().optional(),ix=()=>nc().optional(),ox={string:(e=>Ne.create({...e,coerce:!0})),number:(e=>Ze.create({...e,coerce:!0})),boolean:(e=>Xe.create({...e,coerce:!0})),bigint:(e=>Ke.create({...e,coerce:!0})),date:(e=>Je.create({...e,coerce:!0}))};var sx=S;var Bi="/home/felipecsl/prj/apps",ax=D.object({app:D.string(),image:D.string(),domain:D.string(),servicePort:D.number().int().positive(),resolver:D.string().default("myresolver"),network:D.string().default("traefik_proxy"),platforms:D.string().default("linux/amd64"),health:D.object({url:D.string().url(),interval:D.string().default("2s"),timeout:D.string().default("45s")}),migrations:D.object({command:D.array(D.string()).default(["bin/rails","db:migrate"]),env:D.record(D.string()).default({})}),secrets:D.array(D.string()).default([])});async function Br(e){let t=jr.default.join(Bi,e,"homelab.yml"),r=await ic.promises.readFile(t,"utf8"),n=za.load(r);return ax.parse(n)}var Oe=e=>jr.default.join(Bi,e),or=e=>jr.default.join(Bi,e,".env");function Ui(e){let t=e.match(/^(\d+)(ms|s|m)$/);if(!t)throw new Error(`bad duration: ${e}`);let r=Number(t[1]);return t[2]==="ms"?r:t[2]==="s"?r*1e3:r*6e4}function M(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}var oc=require("node:url"),It=(e,t)=>{let r=Hi(cx(e));if(typeof r!="string")throw new TypeError(`${t} must be a string or a file URL: ${r}.`);return r},cx=e=>Vi(e)?e.toString():e,Vi=e=>typeof e!="string"&&e&&Object.getPrototypeOf(e)===String.prototype,Hi=e=>e instanceof URL?(0,oc.fileURLToPath)(e):e;var Ur=(e,t=[],r={})=>{let n=It(e,"First argument"),[i,o]=M(t)?[[],t]:[t,r];if(!Array.isArray(i))throw new TypeError(`Second argument must be either an array of arguments or an options object: ${i}`);if(i.some(c=>typeof c=="object"&&c!==null))throw new TypeError(`Second argument must be an array of strings: ${i}`);let s=i.map(String),a=s.find(c=>c.includes("\0"));if(a!==void 0)throw new TypeError(`Arguments cannot contain null bytes ("\\0"): ${a}`);if(!M(o))throw new TypeError(`Last argument must be an options object: ${o}`);return[n,s,o]};var mc=require("node:child_process");var sc=require("node:string_decoder"),{toString:ac}=Object.prototype,cc=e=>ac.call(e)==="[object ArrayBuffer]",P=e=>ac.call(e)==="[object Uint8Array]",Ce=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),lx=new TextEncoder,lc=e=>lx.encode(e),ux=new TextDecoder,Vr=e=>ux.decode(e),uc=(e,t)=>fx(e,t).join(""),fx=(e,t)=>{if(t==="utf8"&&e.every(o=>typeof o=="string"))return e;let r=new sc.StringDecoder(t),n=e.map(o=>typeof o=="string"?lc(o):o).map(o=>r.write(o)),i=r.end();return i===""?n:[...n,i]},sr=e=>e.length===1&&P(e[0])?e[0]:Gi(dx(e)),dx=e=>e.map(t=>typeof t=="string"?lc(t):t),Gi=e=>{let t=new Uint8Array(px(e)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t},px=e=>{let t=0;for(let r of e)t+=r.length;return t};var hc=e=>Array.isArray(e)&&Array.isArray(e.raw),gc=(e,t)=>{let r=[];for(let[o,s]of e.entries())r=mx({templates:e,expressions:t,tokens:r,index:o,template:s});if(r.length===0)throw new TypeError("Template script must not be empty");let[n,...i]=r;return[n,i,{}]},mx=({templates:e,expressions:t,tokens:r,index:n,template:i})=>{if(i===void 0)throw new TypeError(`Invalid backslash sequence: ${e.raw[n]}`);let{nextTokens:o,leadingWhitespaces:s,trailingWhitespaces:a}=hx(i,e.raw[n]),c=dc(r,o,s);if(n===t.length)return c;let l=t[n],u=Array.isArray(l)?l.map(f=>pc(f)):[pc(l)];return dc(c,u,a)},hx=(e,t)=>{if(t.length===0)return{nextTokens:[],leadingWhitespaces:!1,trailingWhitespaces:!1};let r=[],n=0,i=fc.has(t[0]);for(let s=0,a=0;s<e.length;s+=1,a+=1){let c=t[a];if(fc.has(c))n!==s&&r.push(e.slice(n,s)),n=s+1;else if(c==="\\"){let l=t[a+1];l===`
`?(s-=1,a+=1):l==="u"&&t[a+2]==="{"?a=t.indexOf("}",a+3):a+=gx[l]??1}}let o=n===e.length;return o||r.push(e.slice(n)),{nextTokens:r,leadingWhitespaces:i,trailingWhitespaces:o}},fc=new Set([" ","	","\r",`
`]),gx={x:3,u:5},dc=(e,t,r)=>r||e.length===0||t.length===0?[...e,...t]:[...e.slice(0,-1),`${e.at(-1)}${t[0]}`,...t.slice(1)],pc=e=>{let t=typeof e;if(t==="string")return e;if(t==="number")return String(e);if(M(e)&&("stdout"in e||"isMaxBuffer"in e))return yx(e);throw e instanceof mc.ChildProcess||Object.prototype.toString.call(e)==="[object Promise]"?new TypeError("Unexpected subprocess in template expression. Please use ${await subprocess} instead of ${subprocess}."):new TypeError(`Unexpected "${t}" in template expression`)},yx=({stdout:e})=>{if(typeof e=="string")return e;if(P(e))return Vr(e);throw e===void 0?new TypeError(`Missing result.stdout in template expression. This is probably due to the previous subprocess' "stdout" option.`):new TypeError(`Unexpected "${typeof e}" stdout in template expression`)};var Cd=require("node:child_process");var xc=require("node:util");var Hr=N(require("node:process"),1),ie=e=>Gr.includes(e),Gr=[Hr.default.stdin,Hr.default.stdout,Hr.default.stderr],ee=["stdin","stdout","stderr"],Wr=e=>ee[e]??`stdio[${e}]`;var bc=e=>{let t={...e};for(let r of qi)t[r]=Wi(e,r);return t},Wi=(e,t)=>{let r=Array.from({length:xx(e)+1}),n=bx(e[t],r,t);return Ax(n,t)},xx=({stdio:e})=>Array.isArray(e)?Math.max(e.length,ee.length):ee.length,bx=(e,t,r)=>M(e)?wx(e,t,r):t.fill(e),wx=(e,t,r)=>{for(let n of Object.keys(e).sort(Sx))for(let i of _x(n,r,t))t[i]=e[n];return t},Sx=(e,t)=>yc(e)<yc(t)?1:-1,yc=e=>e==="stdout"||e==="stderr"?0:e==="all"?2:1,_x=(e,t,r)=>{if(e==="ipc")return[r.length-1];let n=zi(e);if(n===void 0||n===0)throw new TypeError(`"${t}.${e}" is invalid.
It must be "${t}.stdout", "${t}.stderr", "${t}.all", "${t}.ipc", or "${t}.fd3", "${t}.fd4" (and so on).`);if(n>=r.length)throw new TypeError(`"${t}.${e}" is invalid: that file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);return n==="all"?[1,2]:[n]},zi=e=>{if(e==="all")return e;if(ee.includes(e))return ee.indexOf(e);let t=vx.exec(e);if(t!==null)return Number(t[1])},vx=/^fd(\d+)$/,Ax=(e,t)=>e.map(r=>r===void 0?Ox[t]:r),Ex=(0,xc.debuglog)("execa").enabled?"full":"none",Ox={lines:!1,buffer:!0,maxBuffer:1e3*1e3*100,verbose:Ex,stripFinalNewline:!0},qi=["lines","buffer","maxBuffer","verbose","stripFinalNewline"],Te=(e,t)=>t==="ipc"?e.at(-1):e[t];var Rt=({verbose:e},t)=>Yi(e,t)!=="none",Dt=({verbose:e},t)=>!["none","short"].includes(Yi(e,t)),wc=({verbose:e},t)=>{let r=Yi(e,t);return zr(r)?r:void 0},Yi=(e,t)=>t===void 0?Cx(e):Te(e,t),Cx=e=>e.find(t=>zr(t))??qr.findLast(t=>e.includes(t)),zr=e=>typeof e=="function",qr=["none","short","full"];var $c=require("node:util");var Sc=require("node:process"),_c=require("node:util"),vc=(e,t)=>{let r=[e,...t],n=r.join(" "),i=r.map(o=>Mx(Ac(o))).join(" ");return{command:n,escapedCommand:i}},ar=e=>(0,_c.stripVTControlCharacters)(e).split(`
`).map(t=>Ac(t)).join(`
`),Ac=e=>e.replaceAll(Ix,t=>Tx(t)),Tx=e=>{let t=Rx[e];if(t!==void 0)return t;let r=e.codePointAt(0),n=r.toString(16);return r<=Dx?`\\u${n.padStart(4,"0")}`:`\\U${n}`},kx=()=>{try{return new RegExp("\\p{Separator}|\\p{Other}","gu")}catch{return/[\s\u0000-\u001F\u007F-\u009F\u00AD]/g}},Ix=kx(),Rx={" ":" ","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},Dx=65535,Mx=e=>Fx.test(e)?e:Sc.platform==="win32"?`"${e.replaceAll('"','""')}"`:`'${e.replaceAll("'","'\\''")}'`,Fx=/^[\w./-]+$/;var Zi=N(require("node:process"),1);function Ki(){let{env:e}=Zi.default,{TERM:t,TERM_PROGRAM:r}=e;return Zi.default.platform!=="win32"?t!=="linux":!!e.WT_SESSION||!!e.TERMINUS_SUBLIME||e.ConEmuTask==="{cmd::Cmder}"||r==="Terminus-Sublime"||r==="vscode"||t==="xterm-256color"||t==="alacritty"||t==="rxvt-unicode"||t==="rxvt-unicode-256color"||e.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Ec={circleQuestionMark:"(?)",questionMarkPrefix:"(?)",square:"\u2588",squareDarkShade:"\u2593",squareMediumShade:"\u2592",squareLightShade:"\u2591",squareTop:"\u2580",squareBottom:"\u2584",squareLeft:"\u258C",squareRight:"\u2590",squareCenter:"\u25A0",bullet:"\u25CF",dot:"\u2024",ellipsis:"\u2026",pointerSmall:"\u203A",triangleUp:"\u25B2",triangleUpSmall:"\u25B4",triangleDown:"\u25BC",triangleDownSmall:"\u25BE",triangleLeftSmall:"\u25C2",triangleRightSmall:"\u25B8",home:"\u2302",heart:"\u2665",musicNote:"\u266A",musicNoteBeamed:"\u266B",arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",arrowLeftRight:"\u2194",arrowUpDown:"\u2195",almostEqual:"\u2248",notEqual:"\u2260",lessOrEqual:"\u2264",greaterOrEqual:"\u2265",identical:"\u2261",infinity:"\u221E",subscriptZero:"\u2080",subscriptOne:"\u2081",subscriptTwo:"\u2082",subscriptThree:"\u2083",subscriptFour:"\u2084",subscriptFive:"\u2085",subscriptSix:"\u2086",subscriptSeven:"\u2087",subscriptEight:"\u2088",subscriptNine:"\u2089",oneHalf:"\xBD",oneThird:"\u2153",oneQuarter:"\xBC",oneFifth:"\u2155",oneSixth:"\u2159",oneEighth:"\u215B",twoThirds:"\u2154",twoFifths:"\u2156",threeQuarters:"\xBE",threeFifths:"\u2157",threeEighths:"\u215C",fourFifths:"\u2158",fiveSixths:"\u215A",fiveEighths:"\u215D",sevenEighths:"\u215E",line:"\u2500",lineBold:"\u2501",lineDouble:"\u2550",lineDashed0:"\u2504",lineDashed1:"\u2505",lineDashed2:"\u2508",lineDashed3:"\u2509",lineDashed4:"\u254C",lineDashed5:"\u254D",lineDashed6:"\u2574",lineDashed7:"\u2576",lineDashed8:"\u2578",lineDashed9:"\u257A",lineDashed10:"\u257C",lineDashed11:"\u257E",lineDashed12:"\u2212",lineDashed13:"\u2013",lineDashed14:"\u2010",lineDashed15:"\u2043",lineVertical:"\u2502",lineVerticalBold:"\u2503",lineVerticalDouble:"\u2551",lineVerticalDashed0:"\u2506",lineVerticalDashed1:"\u2507",lineVerticalDashed2:"\u250A",lineVerticalDashed3:"\u250B",lineVerticalDashed4:"\u254E",lineVerticalDashed5:"\u254F",lineVerticalDashed6:"\u2575",lineVerticalDashed7:"\u2577",lineVerticalDashed8:"\u2579",lineVerticalDashed9:"\u257B",lineVerticalDashed10:"\u257D",lineVerticalDashed11:"\u257F",lineDownLeft:"\u2510",lineDownLeftArc:"\u256E",lineDownBoldLeftBold:"\u2513",lineDownBoldLeft:"\u2512",lineDownLeftBold:"\u2511",lineDownDoubleLeftDouble:"\u2557",lineDownDoubleLeft:"\u2556",lineDownLeftDouble:"\u2555",lineDownRight:"\u250C",lineDownRightArc:"\u256D",lineDownBoldRightBold:"\u250F",lineDownBoldRight:"\u250E",lineDownRightBold:"\u250D",lineDownDoubleRightDouble:"\u2554",lineDownDoubleRight:"\u2553",lineDownRightDouble:"\u2552",lineUpLeft:"\u2518",lineUpLeftArc:"\u256F",lineUpBoldLeftBold:"\u251B",lineUpBoldLeft:"\u251A",lineUpLeftBold:"\u2519",lineUpDoubleLeftDouble:"\u255D",lineUpDoubleLeft:"\u255C",lineUpLeftDouble:"\u255B",lineUpRight:"\u2514",lineUpRightArc:"\u2570",lineUpBoldRightBold:"\u2517",lineUpBoldRight:"\u2516",lineUpRightBold:"\u2515",lineUpDoubleRightDouble:"\u255A",lineUpDoubleRight:"\u2559",lineUpRightDouble:"\u2558",lineUpDownLeft:"\u2524",lineUpBoldDownBoldLeftBold:"\u252B",lineUpBoldDownBoldLeft:"\u2528",lineUpDownLeftBold:"\u2525",lineUpBoldDownLeftBold:"\u2529",lineUpDownBoldLeftBold:"\u252A",lineUpDownBoldLeft:"\u2527",lineUpBoldDownLeft:"\u2526",lineUpDoubleDownDoubleLeftDouble:"\u2563",lineUpDoubleDownDoubleLeft:"\u2562",lineUpDownLeftDouble:"\u2561",lineUpDownRight:"\u251C",lineUpBoldDownBoldRightBold:"\u2523",lineUpBoldDownBoldRight:"\u2520",lineUpDownRightBold:"\u251D",lineUpBoldDownRightBold:"\u2521",lineUpDownBoldRightBold:"\u2522",lineUpDownBoldRight:"\u251F",lineUpBoldDownRight:"\u251E",lineUpDoubleDownDoubleRightDouble:"\u2560",lineUpDoubleDownDoubleRight:"\u255F",lineUpDownRightDouble:"\u255E",lineDownLeftRight:"\u252C",lineDownBoldLeftBoldRightBold:"\u2533",lineDownLeftBoldRightBold:"\u252F",lineDownBoldLeftRight:"\u2530",lineDownBoldLeftBoldRight:"\u2531",lineDownBoldLeftRightBold:"\u2532",lineDownLeftRightBold:"\u252E",lineDownLeftBoldRight:"\u252D",lineDownDoubleLeftDoubleRightDouble:"\u2566",lineDownDoubleLeftRight:"\u2565",lineDownLeftDoubleRightDouble:"\u2564",lineUpLeftRight:"\u2534",lineUpBoldLeftBoldRightBold:"\u253B",lineUpLeftBoldRightBold:"\u2537",lineUpBoldLeftRight:"\u2538",lineUpBoldLeftBoldRight:"\u2539",lineUpBoldLeftRightBold:"\u253A",lineUpLeftRightBold:"\u2536",lineUpLeftBoldRight:"\u2535",lineUpDoubleLeftDoubleRightDouble:"\u2569",lineUpDoubleLeftRight:"\u2568",lineUpLeftDoubleRightDouble:"\u2567",lineUpDownLeftRight:"\u253C",lineUpBoldDownBoldLeftBoldRightBold:"\u254B",lineUpDownBoldLeftBoldRightBold:"\u2548",lineUpBoldDownLeftBoldRightBold:"\u2547",lineUpBoldDownBoldLeftRightBold:"\u254A",lineUpBoldDownBoldLeftBoldRight:"\u2549",lineUpBoldDownLeftRight:"\u2540",lineUpDownBoldLeftRight:"\u2541",lineUpDownLeftBoldRight:"\u253D",lineUpDownLeftRightBold:"\u253E",lineUpBoldDownBoldLeftRight:"\u2542",lineUpDownLeftBoldRightBold:"\u253F",lineUpBoldDownLeftBoldRight:"\u2543",lineUpBoldDownLeftRightBold:"\u2544",lineUpDownBoldLeftBoldRight:"\u2545",lineUpDownBoldLeftRightBold:"\u2546",lineUpDoubleDownDoubleLeftDoubleRightDouble:"\u256C",lineUpDoubleDownDoubleLeftRight:"\u256B",lineUpDownLeftDoubleRightDouble:"\u256A",lineCross:"\u2573",lineBackslash:"\u2572",lineSlash:"\u2571"},Oc={tick:"\u2714",info:"\u2139",warning:"\u26A0",cross:"\u2718",squareSmall:"\u25FB",squareSmallFilled:"\u25FC",circle:"\u25EF",circleFilled:"\u25C9",circleDotted:"\u25CC",circleDouble:"\u25CE",circleCircle:"\u24DE",circleCross:"\u24E7",circlePipe:"\u24BE",radioOn:"\u25C9",radioOff:"\u25EF",checkboxOn:"\u2612",checkboxOff:"\u2610",checkboxCircleOn:"\u24E7",checkboxCircleOff:"\u24BE",pointer:"\u276F",triangleUpOutline:"\u25B3",triangleLeft:"\u25C0",triangleRight:"\u25B6",lozenge:"\u25C6",lozengeOutline:"\u25C7",hamburger:"\u2630",smiley:"\u32E1",mustache:"\u0DF4",star:"\u2605",play:"\u25B6",nodejs:"\u2B22",oneSeventh:"\u2150",oneNinth:"\u2151",oneTenth:"\u2152"},$x={tick:"\u221A",info:"i",warning:"\u203C",cross:"\xD7",squareSmall:"\u25A1",squareSmallFilled:"\u25A0",circle:"( )",circleFilled:"(*)",circleDotted:"( )",circleDouble:"( )",circleCircle:"(\u25CB)",circleCross:"(\xD7)",circlePipe:"(\u2502)",radioOn:"(*)",radioOff:"( )",checkboxOn:"[\xD7]",checkboxOff:"[ ]",checkboxCircleOn:"(\xD7)",checkboxCircleOff:"( )",pointer:">",triangleUpOutline:"\u2206",triangleLeft:"\u25C4",triangleRight:"\u25BA",lozenge:"\u2666",lozengeOutline:"\u25CA",hamburger:"\u2261",smiley:"\u263A",mustache:"\u250C\u2500\u2510",star:"\u2736",play:"\u25BA",nodejs:"\u2666",oneSeventh:"1/7",oneNinth:"1/9",oneTenth:"1/10"},Nx={...Ec,...Oc},Lx={...Ec,...$x},Px=Ki(),jx=Px?Nx:Lx,Yr=jx,FA=Object.entries(Oc);var Cc=N(require("node:tty"),1),Bx=Cc.default?.WriteStream?.prototype?.hasColors?.()??!1,O=(e,t)=>{if(!Bx)return i=>i;let r=`\x1B[${e}m`,n=`\x1B[${t}m`;return i=>{let o=i+"",s=o.indexOf(n);if(s===-1)return r+o+n;let a=r,c=0,u=(t===22?n:"")+r;for(;s!==-1;)a+=o.slice(c,s)+u,c=s+n.length,s=o.indexOf(n,c);return a+=o.slice(c)+n,a}},NA=O(0,0),Tc=O(1,22),LA=O(2,22),PA=O(3,23),jA=O(4,24),BA=O(53,55),UA=O(7,27),VA=O(8,28),HA=O(9,29),GA=O(30,39),WA=O(31,39),zA=O(32,39),qA=O(33,39),YA=O(34,39),ZA=O(35,39),KA=O(36,39),XA=O(37,39),Zr=O(90,39),JA=O(40,49),QA=O(41,49),eE=O(42,49),tE=O(43,49),rE=O(44,49),nE=O(45,49),iE=O(46,49),oE=O(47,49),sE=O(100,49),kc=O(91,39),aE=O(92,39),Ic=O(93,39),cE=O(94,39),lE=O(95,39),uE=O(96,39),fE=O(97,39),dE=O(101,49),pE=O(102,49),mE=O(103,49),hE=O(104,49),gE=O(105,49),yE=O(106,49),xE=O(107,49);var Mc=({type:e,message:t,timestamp:r,piped:n,commandId:i,result:{failed:o=!1}={},options:{reject:s=!0}})=>{let a=Ux(r),c=Vx[e]({failed:o,reject:s,piped:n}),l=Hx[e]({reject:s});return`${Zr(`[${a}]`)} ${Zr(`[${i}]`)} ${l(c)} ${l(t)}`},Ux=e=>`${Kr(e.getHours(),2)}:${Kr(e.getMinutes(),2)}:${Kr(e.getSeconds(),2)}.${Kr(e.getMilliseconds(),3)}`,Kr=(e,t)=>String(e).padStart(t,"0"),Rc=({failed:e,reject:t})=>e?t?Yr.cross:Yr.warning:Yr.tick,Vx={command:({piped:e})=>e?"|":"$",output:()=>" ",ipc:()=>"*",error:Rc,duration:Rc},Dc=e=>e,Hx={command:()=>Tc,output:()=>Dc,ipc:()=>Dc,error:({reject:e})=>e?kc:Ic,duration:()=>Zr};var Fc=(e,t,r)=>{let n=wc(t,r);return e.map(({verboseLine:i,verboseObject:o})=>Gx(i,o,n)).filter(i=>i!==void 0).map(i=>Wx(i)).join("")},Gx=(e,t,r)=>{if(r===void 0)return e;let n=r(e,t);if(typeof n=="string")return n},Wx=e=>e.endsWith(`
`)?e:`${e}
`;var pe=({type:e,verboseMessage:t,fdNumber:r,verboseInfo:n,result:i})=>{let o=zx({type:e,result:i,verboseInfo:n}),s=qx(t,o),a=Fc(s,n,r);a!==""&&console.warn(a.slice(0,-1))},zx=({type:e,result:t,verboseInfo:{escapedCommand:r,commandId:n,rawOptions:{piped:i=!1,...o}}})=>({type:e,escapedCommand:r,commandId:`${n}`,timestamp:new Date,piped:i,result:t,options:o}),qx=(e,t)=>e.split(`
`).map(r=>Yx({...t,message:r})),Yx=e=>({verboseLine:Mc(e),verboseObject:e}),Xr=e=>{let t=typeof e=="string"?e:(0,$c.inspect)(e);return ar(t).replaceAll("	"," ".repeat(Zx))},Zx=2;var Nc=(e,t)=>{Rt(t)&&pe({type:"command",verboseMessage:e,verboseInfo:t})};var Lc=(e,t,r)=>{Jx(e);let n=Kx(e);return{verbose:e,escapedCommand:t,commandId:n,rawOptions:r}},Kx=e=>Rt({verbose:e})?Xx++:void 0,Xx=0n,Jx=e=>{for(let t of e){if(t===!1)throw new TypeError(`The "verbose: false" option was renamed to "verbose: 'none'".`);if(t===!0)throw new TypeError(`The "verbose: true" option was renamed to "verbose: 'short'".`);if(!qr.includes(t)&&!zr(t)){let r=qr.map(n=>`'${n}'`).join(", ");throw new TypeError(`The "verbose" option must not be ${t}. Allowed values are: ${r} or a function.`)}}};var Xi=require("node:process"),Jr=()=>Xi.hrtime.bigint(),Ji=e=>Number(Xi.hrtime.bigint()-e)/1e6;var Qr=(e,t,r)=>{let n=Jr(),{command:i,escapedCommand:o}=vc(e,t),s=Wi(r,"verbose"),a=Lc(s,o,{...r});return Nc(o,a),{command:i,escapedCommand:o,startTime:n,verboseInfo:a}};var Xu=N(require("node:path"),1),vo=N(require("node:process"),1),Ju=N(El(),1);var cr=N(require("node:process"),1),je=N(require("node:path"),1);function tn(e={}){let{env:t=process.env,platform:r=process.platform}=e;return r!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"}var Ol=require("node:util"),lo=require("node:child_process"),co=N(require("node:path"),1),Cl=require("node:url"),rO=(0,Ol.promisify)(lo.execFile);function rn(e){return e instanceof URL?(0,Cl.fileURLToPath)(e):e}function Tl(e){return{*[Symbol.iterator](){let t=co.default.resolve(rn(e)),r;for(;r!==t;)yield t,r=t,t=co.default.resolve(t,"..")}}}var nO=10*1024*1024;var Eb=({cwd:e=cr.default.cwd(),path:t=cr.default.env[tn()],preferLocal:r=!0,execPath:n=cr.default.execPath,addExecPath:i=!0}={})=>{let o=je.default.resolve(rn(e)),s=[],a=t.split(je.default.delimiter);return r&&Ob(s,a,o),i&&Cb(s,a,n,o),t===""||t===je.default.delimiter?`${s.join(je.default.delimiter)}${t}`:[...s,t].join(je.default.delimiter)},Ob=(e,t,r)=>{for(let n of Tl(r)){let i=je.default.join(n,"node_modules/.bin");t.includes(i)||e.push(i)}},Cb=(e,t,r,n)=>{let i=je.default.resolve(n,rn(r),"..");t.includes(i)||e.push(i)},kl=({env:e=cr.default.env,...t}={})=>{e={...e};let r=tn({env:e});return t.path=e[r],e[r]=Eb(t),e};var Wl=require("node:timers/promises");var Il=(e,t,r)=>{let n=r?ur:lr,i=e instanceof oe?{}:{cause:e};return new n(t,i)},oe=class extends Error{},Rl=(e,t)=>{Object.defineProperty(e.prototype,"name",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,Ml,{value:!0,writable:!1,enumerable:!1,configurable:!1})},Dl=e=>nn(e)&&Ml in e,Ml=Symbol("isExecaError"),nn=e=>Object.prototype.toString.call(e)==="[object Error]",lr=class extends Error{};Rl(lr,lr.name);var ur=class extends Error{};Rl(ur,ur.name);var $t=require("node:os");var jl=require("node:os");var Fl=()=>{let e=Nl-$l+1;return Array.from({length:e},Tb)},Tb=(e,t)=>({name:`SIGRT${t+1}`,number:$l+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),$l=34,Nl=64;var Pl=require("node:os");var Ll=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var uo=()=>{let e=Fl();return[...Ll,...e].map(kb)},kb=({name:e,number:t,description:r,action:n,forced:i=!1,standard:o})=>{let{signals:{[e]:s}}=Pl.constants,a=s!==void 0;return{name:e,number:a?s:t,description:r,supported:a,action:n,forced:i,standard:o}};var Ib=()=>{let e=uo();return Object.fromEntries(e.map(Rb))},Rb=({name:e,number:t,description:r,supported:n,action:i,forced:o,standard:s})=>[e,{name:e,number:t,description:r,supported:n,action:i,forced:o,standard:s}],Bl=Ib(),Db=()=>{let e=uo(),t=65,r=Array.from({length:t},(n,i)=>Mb(i,e));return Object.assign({},...r)},Mb=(e,t)=>{let r=Fb(e,t);if(r===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=r;return{[e]:{name:n,number:e,description:i,supported:o,action:s,forced:a,standard:c}}},Fb=(e,t)=>{let r=t.find(({name:n})=>jl.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},gO=Db();var Vl=e=>{let t="option `killSignal`";if(e===0)throw new TypeError(`Invalid ${t}: 0 cannot be used.`);return Gl(e,t)},Hl=e=>e===0?e:Gl(e,"`subprocess.kill()`'s argument"),Gl=(e,t)=>{if(Number.isInteger(e))return $b(e,t);if(typeof e=="string")return Lb(e,t);throw new TypeError(`Invalid ${t} ${String(e)}: it must be a string or an integer.
${fo()}`)},$b=(e,t)=>{if(Ul.has(e))return Ul.get(e);throw new TypeError(`Invalid ${t} ${e}: this signal integer does not exist.
${fo()}`)},Nb=()=>new Map(Object.entries($t.constants.signals).reverse().map(([e,t])=>[t,e])),Ul=Nb(),Lb=(e,t)=>{if(e in $t.constants.signals)return e;throw e.toUpperCase()in $t.constants.signals?new TypeError(`Invalid ${t} '${e}': please rename it to '${e.toUpperCase()}'.`):new TypeError(`Invalid ${t} '${e}': this signal name does not exist.
${fo()}`)},fo=()=>`Available signal names: ${Pb()}.
Available signal numbers: ${jb()}.`,Pb=()=>Object.keys($t.constants.signals).sort().map(e=>`'${e}'`).join(", "),jb=()=>[...new Set(Object.values($t.constants.signals).sort((e,t)=>e-t))].join(", "),on=e=>Bl[e].description;var zl=e=>{if(e===!1)return e;if(e===!0)return Bb;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterDelay\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Bb=1e3*5,ql=({kill:e,options:{forceKillAfterDelay:t,killSignal:r},onInternalError:n,context:i,controller:o},s,a)=>{let{signal:c,error:l}=Ub(s,a,r);Vb(l,n);let u=e(c);return Hb({kill:e,signal:c,forceKillAfterDelay:t,killSignal:r,killResult:u,context:i,controller:o}),u},Ub=(e,t,r)=>{let[n=r,i]=nn(e)?[void 0,e]:[e,t];if(typeof n!="string"&&!Number.isInteger(n))throw new TypeError(`The first argument must be an error instance or a signal name string/integer: ${String(n)}`);if(i!==void 0&&!nn(i))throw new TypeError(`The second argument is optional. If specified, it must be an error instance: ${i}`);return{signal:Hl(n),error:i}},Vb=(e,t)=>{e!==void 0&&t.reject(e)},Hb=async({kill:e,signal:t,forceKillAfterDelay:r,killSignal:n,killResult:i,context:o,controller:s})=>{t===n&&i&&po({kill:e,forceKillAfterDelay:r,context:o,controllerSignal:s.signal})},po=async({kill:e,forceKillAfterDelay:t,context:r,controllerSignal:n})=>{if(t!==!1)try{await(0,Wl.setTimeout)(t,void 0,{signal:n}),e("SIGKILL")&&(r.isForcefullyTerminated??=!0)}catch{}};var Yl=require("node:events"),sn=async(e,t)=>{e.aborted||await(0,Yl.once)(e,"abort",{signal:t})};var Zl=({cancelSignal:e})=>{if(e!==void 0&&Object.prototype.toString.call(e)!=="[object AbortSignal]")throw new Error(`The \`cancelSignal\` option must be an AbortSignal: ${String(e)}`)},Kl=({subprocess:e,cancelSignal:t,gracefulCancel:r,context:n,controller:i})=>t===void 0||r?[]:[Gb(e,t,n,i)],Gb=async(e,t,r,{signal:n})=>{throw await sn(t,n),r.terminationReason??="cancel",e.kill(),t.reason};var ku=require("node:timers/promises");var Cu=require("node:util");var Nt=({methodName:e,isSubprocess:t,ipc:r,isConnected:n})=>{Wb(e,t,r),mo(e,t,n)},Wb=(e,t,r)=>{if(!r)throw new Error(`${se(e,t)} can only be used if the \`ipc\` option is \`true\`.`)},mo=(e,t,r)=>{if(!r)throw new Error(`${se(e,t)} cannot be used: the ${Be(t)} has already exited or disconnected.`)},Xl=e=>{throw new Error(`${se("getOneMessage",e)} could not complete: the ${Be(e)} exited or disconnected.`)},Jl=e=>{throw new Error(`${se("sendMessage",e)} failed: the ${Be(e)} is sending a message too, instead of listening to incoming messages.
This can be fixed by both sending a message and listening to incoming messages at the same time:

const [receivedMessage] = await Promise.all([
	${se("getOneMessage",e)},
	${se("sendMessage",e,"message, {strict: true}")},
]);`)},an=(e,t)=>new Error(`${se("sendMessage",t)} failed when sending an acknowledgment response to the ${Be(t)}.`,{cause:e}),Ql=e=>{throw new Error(`${se("sendMessage",e)} failed: the ${Be(e)} is not listening to incoming messages.`)},eu=e=>{throw new Error(`${se("sendMessage",e)} failed: the ${Be(e)} exited without listening to incoming messages.`)},tu=()=>new Error(`\`cancelSignal\` aborted: the ${Be(!0)} disconnected.`),ru=()=>{throw new Error("`getCancelSignal()` cannot be used without setting the `cancelSignal` subprocess option.")},nu=({error:e,methodName:t,isSubprocess:r})=>{if(e.code==="EPIPE")throw new Error(`${se(t,r)} cannot be used: the ${Be(r)} is disconnecting.`,{cause:e})},iu=({error:e,methodName:t,isSubprocess:r,message:n})=>{if(zb(e))throw new Error(`${se(t,r)}'s argument type is invalid: the message cannot be serialized: ${String(n)}.`,{cause:e})},zb=({code:e,message:t})=>qb.has(e)||Yb.some(r=>t.includes(r)),qb=new Set(["ERR_MISSING_ARGS","ERR_INVALID_ARG_TYPE"]),Yb=["could not be cloned","circular structure","call stack size exceeded"],se=(e,t,r="")=>e==="cancelSignal"?"`cancelSignal`'s `controller.abort()`":`${Zb(t)}${e}(${r})`,Zb=e=>e?"":"subprocess.",Be=e=>e?"parent process":"subprocess",Lt=e=>{e.connected&&e.disconnect()};var me=()=>{let e={},t=new Promise((r,n)=>{Object.assign(e,{resolve:r,reject:n})});return Object.assign(t,e)};var ln=(e,t="stdin")=>{let{options:n,fileDescriptors:i}=he.get(e),o=ou(i,t,!0),s=e.stdio[o];if(s===null)throw new TypeError(su(o,t,n,!0));return s},Pt=(e,t="stdout")=>{let{options:n,fileDescriptors:i}=he.get(e),o=ou(i,t,!1),s=o==="all"?e.all:e.stdio[o];if(s==null)throw new TypeError(su(o,t,n,!1));return s},he=new WeakMap,ou=(e,t,r)=>{let n=Kb(t,r);return Xb(n,t,r,e),n},Kb=(e,t)=>{let r=zi(e);if(r!==void 0)return r;let{validOptions:n,defaultValue:i}=t?{validOptions:'"stdin"',defaultValue:"stdin"}:{validOptions:'"stdout", "stderr", "all"',defaultValue:"stdout"};throw new TypeError(`"${fr(t)}" must not be "${e}".
It must be ${n} or "fd3", "fd4" (and so on).
It is optional and defaults to "${i}".`)},Xb=(e,t,r,n)=>{let i=n[au(e)];if(i===void 0)throw new TypeError(`"${fr(r)}" must not be ${t}. That file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);if(i.direction==="input"&&!r)throw new TypeError(`"${fr(r)}" must not be ${t}. It must be a readable stream, not writable.`);if(i.direction!=="input"&&r)throw new TypeError(`"${fr(r)}" must not be ${t}. It must be a writable stream, not readable.`)},su=(e,t,r,n)=>{if(e==="all"&&!r.all)return`The "all" option must be true to use "from: 'all'".`;let{optionName:i,optionValue:o}=Jb(e,r);return`The "${i}: ${cn(o)}" option is incompatible with using "${fr(n)}: ${cn(t)}".
Please set this option with "pipe" instead.`},Jb=(e,{stdin:t,stdout:r,stderr:n,stdio:i})=>{let o=au(e);return o===0&&t!==void 0?{optionName:"stdin",optionValue:t}:o===1&&r!==void 0?{optionName:"stdout",optionValue:r}:o===2&&n!==void 0?{optionName:"stderr",optionValue:n}:{optionName:`stdio[${o}]`,optionValue:i[o]}},au=e=>e==="all"?1:e,fr=e=>e?"to":"from",cn=e=>typeof e=="string"?`'${e}'`:typeof e=="number"?`${e}`:"Stream";var wu=require("node:events");var cu=require("node:events"),ut=(e,t,r)=>{let n=e.getMaxListeners();n===0||n===Number.POSITIVE_INFINITY||(e.setMaxListeners(n+t),(0,cu.addAbortListener)(r,()=>{e.setMaxListeners(e.getMaxListeners()-t)}))};var bu=require("node:events");var fu=require("node:events"),du=require("node:timers/promises");var un=(e,t)=>{t&&ho(e)},ho=e=>{e.refCounted()},fn=(e,t)=>{t&&go(e)},go=e=>{e.unrefCounted()},lu=(e,t)=>{t&&(go(e),go(e))},uu=(e,t)=>{t&&(ho(e),ho(e))};var pu=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n},i)=>{if(gu(i)||xu(i))return;dn.has(e)||dn.set(e,[]);let o=dn.get(e);if(o.push(i),!(o.length>1))for(;o.length>0;){await yu(e,n,i),await du.scheduler.yield();let s=await hu({wrappedMessage:o[0],anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n});o.shift(),n.emit("message",s),n.emit("message:done")}},mu=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n,boundOnMessage:i})=>{yo();let o=dn.get(e);for(;o?.length>0;)await(0,fu.once)(n,"message:done");e.removeListener("message",i),uu(t,r),n.connected=!1,n.emit("disconnect")},dn=new WeakMap;var Ue=(e,t,r)=>{if(pn.has(e))return pn.get(e);let n=new bu.EventEmitter;return n.connected=!0,pn.set(e,n),Qb({ipcEmitter:n,anyProcess:e,channel:t,isSubprocess:r}),n},pn=new WeakMap,Qb=({ipcEmitter:e,anyProcess:t,channel:r,isSubprocess:n})=>{let i=pu.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e});t.on("message",i),t.once("disconnect",mu.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e,boundOnMessage:i})),lu(r,n)},mn=e=>{let t=pn.get(e);return t===void 0?e.channel!==null:t.connected};var Su=({anyProcess:e,channel:t,isSubprocess:r,message:n,strict:i})=>{if(!i)return n;let o=Ue(e,t,r),s=yn(e,o);return{id:ew++,type:gn,message:n,hasListeners:s}},ew=0n,_u=(e,t)=>{if(!(t?.type!==gn||t.hasListeners))for(let{id:r}of e)r!==void 0&&hn[r].resolve({isDeadlock:!0,hasListeners:!1})},hu=async({wrappedMessage:e,anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:i})=>{if(e?.type!==gn||!t.connected)return e;let{id:o,message:s}=e,a={id:o,type:Au,message:yn(t,i)};try{await xn({anyProcess:t,channel:r,isSubprocess:n,ipc:!0},a)}catch(c){i.emit("strict:error",c)}return s},gu=e=>{if(e?.type!==Au)return!1;let{id:t,message:r}=e;return hn[t]?.resolve({isDeadlock:!1,hasListeners:r}),!0},vu=async(e,t,r)=>{if(e?.type!==gn)return;let n=me();hn[e.id]=n;let i=new AbortController;try{let{isDeadlock:o,hasListeners:s}=await Promise.race([n,tw(t,r,i)]);o&&Jl(r),s||Ql(r)}finally{i.abort(),delete hn[e.id]}},hn={},tw=async(e,t,{signal:r})=>{ut(e,1,r),await(0,wu.once)(e,"disconnect",{signal:r}),eu(t)},gn="execa:ipc:request",Au="execa:ipc:response";var Eu=(e,t,r)=>{dr.has(e)||dr.set(e,new Set);let n=dr.get(e),i=me(),o=r?t.id:void 0,s={onMessageSent:i,id:o};return n.add(s),{outgoingMessages:n,outgoingMessage:s}},Ou=({outgoingMessages:e,outgoingMessage:t})=>{e.delete(t),t.onMessageSent.resolve()},yu=async(e,t,r)=>{for(;!yn(e,t)&&dr.get(e)?.size>0;){let n=[...dr.get(e)];_u(n,r),await Promise.all(n.map(({onMessageSent:i})=>i))}},dr=new WeakMap,yn=(e,t)=>t.listenerCount("message")>rw(e),rw=e=>he.has(e)&&!Te(he.get(e).options.buffer,"ipc")?1:0;var xn=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},i,{strict:o=!1}={})=>{let s="sendMessage";return Nt({methodName:s,isSubprocess:r,ipc:n,isConnected:e.connected}),nw({anyProcess:e,channel:t,methodName:s,isSubprocess:r,message:i,strict:o})},nw=async({anyProcess:e,channel:t,methodName:r,isSubprocess:n,message:i,strict:o})=>{let s=Su({anyProcess:e,channel:t,isSubprocess:n,message:i,strict:o}),a=Eu(e,s,o);try{await bo({anyProcess:e,methodName:r,isSubprocess:n,wrappedMessage:s,message:i})}catch(c){throw Lt(e),c}finally{Ou(a)}},bo=async({anyProcess:e,methodName:t,isSubprocess:r,wrappedMessage:n,message:i})=>{let o=iw(e);try{await Promise.all([vu(n,e,r),o(n)])}catch(s){throw nu({error:s,methodName:t,isSubprocess:r}),iu({error:s,methodName:t,isSubprocess:r,message:i}),s}},iw=e=>{if(xo.has(e))return xo.get(e);let t=(0,Cu.promisify)(e.send.bind(e));return xo.set(e,t),t},xo=new WeakMap;var Iu=(e,t)=>{let r="cancelSignal";return mo(r,!1,e.connected),bo({anyProcess:e,methodName:r,isSubprocess:!1,wrappedMessage:{type:Du,message:t},message:t})},Ru=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>(await ow({anyProcess:e,channel:t,isSubprocess:r,ipc:n}),wo.signal),ow=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>{if(!Tu){if(Tu=!0,!n){ru();return}if(t===null){yo();return}Ue(e,t,r),await ku.scheduler.yield()}},Tu=!1,xu=e=>e?.type!==Du?!1:(wo.abort(e.message),!0),Du="execa:ipc:cancel",yo=()=>{wo.abort(tu())},wo=new AbortController;var Mu=({gracefulCancel:e,cancelSignal:t,ipc:r,serialization:n})=>{if(e){if(t===void 0)throw new Error("The `cancelSignal` option must be defined when setting the `gracefulCancel` option.");if(!r)throw new Error("The `ipc` option cannot be false when setting the `gracefulCancel` option.");if(n==="json")throw new Error("The `serialization` option cannot be 'json' when setting the `gracefulCancel` option.")}},Fu=({subprocess:e,cancelSignal:t,gracefulCancel:r,forceKillAfterDelay:n,context:i,controller:o})=>r?[sw({subprocess:e,cancelSignal:t,forceKillAfterDelay:n,context:i,controller:o})]:[],sw=async({subprocess:e,cancelSignal:t,forceKillAfterDelay:r,context:n,controller:{signal:i}})=>{await sn(t,i);let o=aw(t);throw await Iu(e,o),po({kill:e.kill,forceKillAfterDelay:r,context:n,controllerSignal:i}),n.terminationReason??="gracefulCancel",t.reason},aw=({reason:e})=>{if(!(e instanceof DOMException))return e;let t=new Error(e.message);return Object.defineProperty(t,"stack",{value:e.stack,enumerable:!1,configurable:!0,writable:!0}),t};var $u=require("node:timers/promises");var Nu=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},Lu=(e,t,r,n)=>t===0||t===void 0?[]:[cw(e,t,r,n)],cw=async(e,t,r,{signal:n})=>{throw await(0,$u.setTimeout)(t,void 0,{signal:n}),r.terminationReason??="timeout",e.kill(),new oe};var bn=require("node:process"),So=N(require("node:path"),1);var Pu=({options:e})=>{if(e.node===!1)throw new TypeError('The "node" option cannot be false with `execaNode()`.');return{options:{...e,node:!0}}},ju=(e,t,{node:r=!1,nodePath:n=bn.execPath,nodeOptions:i=bn.execArgv.filter(c=>!c.startsWith("--inspect")),cwd:o,execPath:s,...a})=>{if(s!==void 0)throw new TypeError('The "execPath" option has been removed. Please use the "nodePath" option instead.');let c=It(n,'The "nodePath" option'),l=So.default.resolve(o,c),u={...a,nodePath:l,node:r,cwd:o};if(!r)return[e,t,u];if(So.default.basename(e,".exe")==="node")throw new TypeError('When the "node" option is true, the first argument does not need to be "node".');return[l,[...i,e,...t],{ipc:!0,...u,shell:!1}]};var Bu=require("node:v8"),Uu=({ipcInput:e,ipc:t,serialization:r})=>{if(e!==void 0){if(!t)throw new Error("The `ipcInput` option cannot be set unless the `ipc` option is `true`.");fw[r](e)}},lw=e=>{try{(0,Bu.serialize)(e)}catch(t){throw new Error("The `ipcInput` option is not serializable with a structured clone.",{cause:t})}},uw=e=>{try{JSON.stringify(e)}catch(t){throw new Error("The `ipcInput` option is not serializable with JSON.",{cause:t})}},fw={advanced:lw,json:uw},Vu=async(e,t)=>{t!==void 0&&await e.sendMessage(t)};var Gu=({encoding:e})=>{if(_o.has(e))return;let t=pw(e);if(t!==void 0)throw new TypeError(`Invalid option \`encoding: ${wn(e)}\`.
Please rename it to ${wn(t)}.`);let r=[..._o].map(n=>wn(n)).join(", ");throw new TypeError(`Invalid option \`encoding: ${wn(e)}\`.
Please rename it to one of: ${r}.`)},dw=new Set(["utf8","utf16le"]),Y=new Set(["buffer","hex","base64","base64url","latin1","ascii"]),_o=new Set([...dw,...Y]),pw=e=>{if(e===null)return"buffer";if(typeof e!="string")return;let t=e.toLowerCase();if(t in Hu)return Hu[t];if(_o.has(t))return t},Hu={"utf-8":"utf8","utf-16le":"utf16le","ucs-2":"utf16le",ucs2:"utf16le",binary:"latin1"},wn=e=>typeof e=="string"?`"${e}"`:String(e);var Wu=require("node:fs"),zu=N(require("node:path"),1),qu=N(require("node:process"),1);var Yu=(e=Zu())=>{let t=It(e,'The "cwd" option');return zu.default.resolve(t)},Zu=()=>{try{return qu.default.cwd()}catch(e){throw e.message=`The current directory does not exist.
${e.message}`,e}},Ku=(e,t)=>{if(t===Zu())return e;let r;try{r=(0,Wu.statSync)(t)}catch(n){return`The "cwd" option is invalid: ${t}.
${n.message}
${e}`}return r.isDirectory()?e:`The "cwd" option is not a directory: ${t}.
${e}`};var Sn=(e,t,r)=>{r.cwd=Yu(r.cwd);let[n,i,o]=ju(e,t,r),{command:s,args:a,options:c}=Ju.default._parse(n,i,o),l=bc(c),u=mw(l);return Nu(u),Gu(u),Uu(u),Zl(u),Mu(u),u.shell=Hi(u.shell),u.env=hw(u),u.killSignal=Vl(u.killSignal),u.forceKillAfterDelay=zl(u.forceKillAfterDelay),u.lines=u.lines.map((f,d)=>f&&!Y.has(u.encoding)&&u.buffer[d]),vo.default.platform==="win32"&&Xu.default.basename(s,".exe")==="cmd"&&a.unshift("/q"),{file:s,commandArguments:a,options:u}},mw=({extendEnv:e=!0,preferLocal:t=!1,cwd:r,localDir:n=r,encoding:i="utf8",reject:o=!0,cleanup:s=!0,all:a=!1,windowsHide:c=!0,killSignal:l="SIGTERM",forceKillAfterDelay:u=!0,gracefulCancel:f=!1,ipcInput:d,ipc:p=d!==void 0||f,serialization:m="advanced",...x})=>({...x,extendEnv:e,preferLocal:t,cwd:r,localDirectory:n,encoding:i,reject:o,cleanup:s,all:a,windowsHide:c,killSignal:l,forceKillAfterDelay:u,gracefulCancel:f,ipcInput:d,ipc:p,serialization:m}),hw=({env:e,extendEnv:t,preferLocal:r,node:n,localDirectory:i,nodePath:o})=>{let s=t?{...vo.default.env,...e}:e;return r||n?kl({env:s,cwd:i,execPath:o,preferLocal:r,addExecPath:n}):s};var _n=(e,t,r)=>r.shell&&t.length>0?[[e,...t].join(" "),[],r]:[e,t,r];var Sf=require("node:util");function jt(e){if(typeof e=="string")return gw(e);if(!(ArrayBuffer.isView(e)&&e.BYTES_PER_ELEMENT===1))throw new Error("Input must be a string or a Uint8Array");return yw(e)}var gw=e=>e.at(-1)===Qu?e.slice(0,e.at(-2)===ef?-2:-1):e,yw=e=>e.at(-1)===xw?e.subarray(0,e.at(-2)===bw?-2:-1):e,Qu=`
`,xw=Qu.codePointAt(0),ef="\r",bw=ef.codePointAt(0);var pf=require("node:events"),mf=require("node:stream/promises");function ae(e,{checkOpen:t=!0}={}){return e!==null&&typeof e=="object"&&(e.writable||e.readable||!t||e.writable===void 0&&e.readable===void 0)&&typeof e.pipe=="function"}function Ao(e,{checkOpen:t=!0}={}){return ae(e,{checkOpen:t})&&(e.writable||!t)&&typeof e.write=="function"&&typeof e.end=="function"&&typeof e.writable=="boolean"&&typeof e.writableObjectMode=="boolean"&&typeof e.destroy=="function"&&typeof e.destroyed=="boolean"}function ft(e,{checkOpen:t=!0}={}){return ae(e,{checkOpen:t})&&(e.readable||!t)&&typeof e.read=="function"&&typeof e.readable=="boolean"&&typeof e.readableObjectMode=="boolean"&&typeof e.destroy=="function"&&typeof e.destroyed=="boolean"}function Eo(e,t){return Ao(e,t)&&ft(e,t)}var ww=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),Oo=class{#t;#r;#e=!1;#n=void 0;constructor(t,r){this.#t=t,this.#r=r}next(){let t=()=>this.#o();return this.#n=this.#n?this.#n.then(t,t):t(),this.#n}return(t){let r=()=>this.#i(t);return this.#n?this.#n.then(r,r):r()}async#o(){if(this.#e)return{done:!0,value:void 0};let t;try{t=await this.#t.read()}catch(r){throw this.#n=void 0,this.#e=!0,this.#t.releaseLock(),r}return t.done&&(this.#n=void 0,this.#e=!0,this.#t.releaseLock()),t}async#i(t){if(this.#e)return{done:!0,value:t};if(this.#e=!0,!this.#r){let r=this.#t.cancel(t);return this.#t.releaseLock(),await r,{done:!0,value:t}}return this.#t.releaseLock(),{done:!0,value:t}}},Co=Symbol();function tf(){return this[Co].next()}Object.defineProperty(tf,"name",{value:"next"});function rf(e){return this[Co].return(e)}Object.defineProperty(rf,"name",{value:"return"});var Sw=Object.create(ww,{next:{enumerable:!0,configurable:!0,writable:!0,value:tf},return:{enumerable:!0,configurable:!0,writable:!0,value:rf}});function To({preventCancel:e=!1}={}){let t=this.getReader(),r=new Oo(t,e),n=Object.create(Sw);return n[Co]=r,n}var nf=e=>{if(ft(e,{checkOpen:!1})&&pr.on!==void 0)return vw(e);if(typeof e?.[Symbol.asyncIterator]=="function")return e;if(_w.call(e)==="[object ReadableStream]")return To.call(e);throw new TypeError("The first argument must be a Readable, a ReadableStream, or an async iterable.")},{toString:_w}=Object.prototype,vw=async function*(e){let t=new AbortController,r={};Aw(e,t,r);try{for await(let[n]of pr.on(e,"data",{signal:t.signal}))yield n}catch(n){if(r.error!==void 0)throw r.error;if(!t.signal.aborted)throw n}finally{e.destroy()}},Aw=async(e,t,r)=>{try{await pr.finished(e,{cleanup:!0,readable:!0,writable:!1,error:!1})}catch(n){r.error=n}finally{t.abort()}},pr={};var Bt=async(e,{init:t,convertChunk:r,getSize:n,truncateChunk:i,addChunk:o,getFinalChunk:s,finalize:a},{maxBuffer:c=Number.POSITIVE_INFINITY}={})=>{let l=nf(e),u=t();u.length=0;try{for await(let f of l){let d=Ow(f),p=r[d](f,u);af({convertedChunk:p,state:u,getSize:n,truncateChunk:i,addChunk:o,maxBuffer:c})}return Ew({state:u,convertChunk:r,getSize:n,truncateChunk:i,addChunk:o,getFinalChunk:s,maxBuffer:c}),a(u)}catch(f){let d=typeof f=="object"&&f!==null?f:new Error(f);throw d.bufferedData=a(u),d}},Ew=({state:e,getSize:t,truncateChunk:r,addChunk:n,getFinalChunk:i,maxBuffer:o})=>{let s=i(e);s!==void 0&&af({convertedChunk:s,state:e,getSize:t,truncateChunk:r,addChunk:n,maxBuffer:o})},af=({convertedChunk:e,state:t,getSize:r,truncateChunk:n,addChunk:i,maxBuffer:o})=>{let s=r(e),a=t.length+s;if(a<=o){of(e,t,i,a);return}let c=n(e,o-t.length);throw c!==void 0&&of(c,t,i,o),new ge},of=(e,t,r,n)=>{t.contents=r(e,t,n),t.length=n},Ow=e=>{let t=typeof e;if(t==="string")return"string";if(t!=="object"||e===null)return"others";if(globalThis.Buffer?.isBuffer(e))return"buffer";let r=sf.call(e);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(e.byteLength)&&Number.isInteger(e.byteOffset)&&sf.call(e.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:sf}=Object.prototype,ge=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var ke=e=>e,mr=()=>{},vn=({contents:e})=>e,An=e=>{throw new Error(`Streams in object mode are not supported: ${String(e)}`)},En=e=>e.length;async function On(e,t){return Bt(e,Iw,t)}var Cw=()=>({contents:[]}),Tw=()=>1,kw=(e,{contents:t})=>(t.push(e),t),Iw={init:Cw,convertChunk:{string:ke,buffer:ke,arrayBuffer:ke,dataView:ke,typedArray:ke,others:ke},getSize:Tw,truncateChunk:mr,addChunk:kw,getFinalChunk:mr,finalize:vn};async function Cn(e,t){return Bt(e,jw,t)}var Rw=()=>({contents:new ArrayBuffer(0)}),Dw=e=>Mw.encode(e),Mw=new TextEncoder,cf=e=>new Uint8Array(e),lf=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),Fw=(e,t)=>e.slice(0,t),$w=(e,{contents:t,length:r},n)=>{let i=df()?Lw(t,n):Nw(t,n);return new Uint8Array(i).set(e,r),i},Nw=(e,t)=>{if(t<=e.byteLength)return e;let r=new ArrayBuffer(ff(t));return new Uint8Array(r).set(new Uint8Array(e),0),r},Lw=(e,t)=>{if(t<=e.maxByteLength)return e.resize(t),e;let r=new ArrayBuffer(t,{maxByteLength:ff(t)});return new Uint8Array(r).set(new Uint8Array(e),0),r},ff=e=>uf**Math.ceil(Math.log(e)/Math.log(uf)),uf=2,Pw=({contents:e,length:t})=>df()?e:e.slice(0,t),df=()=>"resize"in ArrayBuffer.prototype,jw={init:Rw,convertChunk:{string:Dw,buffer:cf,arrayBuffer:cf,dataView:lf,typedArray:lf,others:An},getSize:En,truncateChunk:Fw,addChunk:$w,getFinalChunk:mr,finalize:Pw};async function kn(e,t){return Bt(e,Gw,t)}var Bw=()=>({contents:"",textDecoder:new TextDecoder}),Tn=(e,{textDecoder:t})=>t.decode(e,{stream:!0}),Uw=(e,{contents:t})=>t+e,Vw=(e,t)=>e.slice(0,t),Hw=({textDecoder:e})=>{let t=e.decode();return t===""?void 0:t},Gw={init:Bw,convertChunk:{string:ke,buffer:Tn,arrayBuffer:Tn,dataView:Tn,typedArray:Tn,others:An},getSize:En,truncateChunk:Vw,addChunk:Uw,getFinalChunk:Hw,finalize:vn};Object.assign(pr,{on:pf.on,finished:mf.finished});var hf=({error:e,stream:t,readableObjectMode:r,lines:n,encoding:i,fdNumber:o})=>{if(!(e instanceof ge))throw e;if(o==="all")return e;let s=Ww(r,n,i);throw e.maxBufferInfo={fdNumber:o,unit:s},t.destroy(),e},Ww=(e,t,r)=>e?"objects":t?"lines":r==="buffer"?"bytes":"characters",gf=(e,t,r)=>{if(t.length!==r)return;let n=new ge;throw n.maxBufferInfo={fdNumber:"ipc"},n},yf=(e,t)=>{let{streamName:r,threshold:n,unit:i}=zw(e,t);return`Command's ${r} was larger than ${n} ${i}`},zw=(e,t)=>{if(e?.maxBufferInfo===void 0)return{streamName:"output",threshold:t[1],unit:"bytes"};let{maxBufferInfo:{fdNumber:r,unit:n}}=e;delete e.maxBufferInfo;let i=Te(t,r);return r==="ipc"?{streamName:"IPC output",threshold:i,unit:"messages"}:{streamName:Wr(r),threshold:i,unit:n}},xf=(e,t,r)=>e?.code==="ENOBUFS"&&t!==null&&t.some(n=>n!==null&&n.length>In(r)),bf=(e,t,r)=>{if(!t)return e;let n=In(r);return e.length>n?e.slice(0,n):e},In=([,e])=>e;var _f=({stdio:e,all:t,ipcOutput:r,originalError:n,signal:i,signalDescription:o,exitCode:s,escapedCommand:a,timedOut:c,isCanceled:l,isGracefullyCanceled:u,isMaxBuffer:f,isForcefullyTerminated:d,forceKillAfterDelay:p,killSignal:m,maxBuffer:x,timeout:A,cwd:T})=>{let _=n?.code,H=qw({originalError:n,timedOut:c,timeout:A,isMaxBuffer:f,maxBuffer:x,errorCode:_,signal:i,signalDescription:o,exitCode:s,isCanceled:l,isGracefullyCanceled:u,isForcefullyTerminated:d,forceKillAfterDelay:p,killSignal:m}),Z=Zw(n,T),be=Z===void 0?"":`
${Z}`,Re=`${H}: ${a}${be}`,We=t===void 0?[e[2],e[1]]:[t],yt=[Re,...We,...e.slice(3),r.map(De=>Kw(De)).join(`
`)].map(De=>ar(jt(Xw(De)))).filter(Boolean).join(`

`);return{originalMessage:Z,shortMessage:Re,message:yt}},qw=({originalError:e,timedOut:t,timeout:r,isMaxBuffer:n,maxBuffer:i,errorCode:o,signal:s,signalDescription:a,exitCode:c,isCanceled:l,isGracefullyCanceled:u,isForcefullyTerminated:f,forceKillAfterDelay:d,killSignal:p})=>{let m=Yw(f,d);return t?`Command timed out after ${r} milliseconds${m}`:u?s===void 0?`Command was gracefully canceled with exit code ${c}`:f?`Command was gracefully canceled${m}`:`Command was gracefully canceled with ${s} (${a})`:l?`Command was canceled${m}`:n?`${yf(e,i)}${m}`:o!==void 0?`Command failed with ${o}${m}`:f?`Command was killed with ${p} (${on(p)})${m}`:s!==void 0?`Command was killed with ${s} (${a})`:c!==void 0?`Command failed with exit code ${c}`:"Command failed"},Yw=(e,t)=>e?` and was forcefully terminated after ${t} milliseconds`:"",Zw=(e,t)=>{if(e instanceof oe)return;let r=Dl(e)?e.originalMessage:String(e?.message??e),n=ar(Ku(r,t));return n===""?void 0:n},Kw=e=>typeof e=="string"?e:(0,Sf.inspect)(e),Xw=e=>Array.isArray(e)?e.map(t=>jt(wf(t))).filter(Boolean).join(`
`):wf(e),wf=e=>typeof e=="string"?e:P(e)?Vr(e):"";var Rn=({command:e,escapedCommand:t,stdio:r,all:n,ipcOutput:i,options:{cwd:o},startTime:s})=>vf({command:e,escapedCommand:t,cwd:o,durationMs:Ji(s),failed:!1,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isTerminated:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,exitCode:0,stdout:r[1],stderr:r[2],all:n,stdio:r,ipcOutput:i,pipedFrom:[]}),Ut=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:o,isSync:s})=>hr({error:e,command:t,escapedCommand:r,startTime:o,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,stdio:Array.from({length:n.length}),ipcOutput:[],options:i,isSync:s}),hr=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:o,isGracefullyCanceled:s,isMaxBuffer:a,isForcefullyTerminated:c,exitCode:l,signal:u,stdio:f,all:d,ipcOutput:p,options:{timeoutDuration:m,timeout:x=m,forceKillAfterDelay:A,killSignal:T,cwd:_,maxBuffer:H},isSync:Z})=>{let{exitCode:be,signal:Re,signalDescription:We}=Qw(l,u),{originalMessage:yt,shortMessage:De,message:si}=_f({stdio:f,all:d,ipcOutput:p,originalError:e,signal:Re,signalDescription:We,exitCode:be,escapedCommand:r,timedOut:i,isCanceled:o,isGracefullyCanceled:s,isMaxBuffer:a,isForcefullyTerminated:c,forceKillAfterDelay:A,killSignal:T,maxBuffer:H,timeout:x,cwd:_}),Zt=Il(e,si,Z);return Object.assign(Zt,Jw({error:Zt,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:o,isGracefullyCanceled:s,isMaxBuffer:a,isForcefullyTerminated:c,exitCode:be,signal:Re,signalDescription:We,stdio:f,all:d,ipcOutput:p,cwd:_,originalMessage:yt,shortMessage:De})),Zt},Jw=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:o,isGracefullyCanceled:s,isMaxBuffer:a,isForcefullyTerminated:c,exitCode:l,signal:u,signalDescription:f,stdio:d,all:p,ipcOutput:m,cwd:x,originalMessage:A,shortMessage:T})=>vf({shortMessage:T,originalMessage:A,command:t,escapedCommand:r,cwd:x,durationMs:Ji(n),failed:!0,timedOut:i,isCanceled:o,isGracefullyCanceled:s,isTerminated:u!==void 0,isMaxBuffer:a,isForcefullyTerminated:c,exitCode:l,signal:u,signalDescription:f,code:e.cause?.code,stdout:d[1],stderr:d[2],all:p,stdio:d,ipcOutput:m,pipedFrom:[]}),vf=e=>Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0)),Qw=(e,t)=>{let r=e===null?void 0:e,n=t===null?void 0:t,i=n===void 0?void 0:on(t);return{exitCode:r,signal:n,signalDescription:i}};var Af=e=>Number.isFinite(e)?e:0;function eS(e){return{days:Math.trunc(e/864e5),hours:Math.trunc(e/36e5%24),minutes:Math.trunc(e/6e4%60),seconds:Math.trunc(e/1e3%60),milliseconds:Math.trunc(e%1e3),microseconds:Math.trunc(Af(e*1e3)%1e3),nanoseconds:Math.trunc(Af(e*1e6)%1e3)}}function tS(e){return{days:e/86400000n,hours:e/3600000n%24n,minutes:e/60000n%60n,seconds:e/1000n%60n,milliseconds:e%1000n,microseconds:0n,nanoseconds:0n}}function ko(e){switch(typeof e){case"number":{if(Number.isFinite(e))return eS(e);break}case"bigint":return tS(e)}throw new TypeError("Expected a finite number or bigint")}var rS=e=>e===0||e===0n,nS=(e,t)=>t===1||t===1n?e:`${e}s`,iS=1e-7,oS=24n*60n*60n*1000n;function Io(e,t){let r=typeof e=="bigint";if(!r&&!Number.isFinite(e))throw new TypeError("Expected a finite number or bigint");t={...t};let n=e<0?"-":"";e=e<0?-e:e,t.colonNotation&&(t.compact=!1,t.formatSubMilliseconds=!1,t.separateMilliseconds=!1,t.verbose=!1),t.compact&&(t.unitCount=1,t.secondsDecimalDigits=0,t.millisecondsDecimalDigits=0);let i=[],o=(u,f)=>{let d=Math.floor(u*10**f+iS);return(Math.round(d)/10**f).toFixed(f)},s=(u,f,d,p)=>{if(!((i.length===0||!t.colonNotation)&&rS(u)&&!(t.colonNotation&&d==="m"))){if(p??=String(u),t.colonNotation){let m=p.includes(".")?p.split(".")[0].length:p.length,x=i.length>0?2:1;p="0".repeat(Math.max(0,x-m))+p}else p+=t.verbose?" "+nS(f,u):d;i.push(p)}},a=ko(e),c=BigInt(a.days);if(t.hideYearAndDays?s(BigInt(c)*24n+BigInt(a.hours),"hour","h"):(t.hideYear?s(c,"day","d"):(s(c/365n,"year","y"),s(c%365n,"day","d")),s(Number(a.hours),"hour","h")),s(Number(a.minutes),"minute","m"),!t.hideSeconds)if(t.separateMilliseconds||t.formatSubMilliseconds||!t.colonNotation&&e<1e3&&!t.subSecondsAsDecimals){let u=Number(a.seconds),f=Number(a.milliseconds),d=Number(a.microseconds),p=Number(a.nanoseconds);if(s(u,"second","s"),t.formatSubMilliseconds)s(f,"millisecond","ms"),s(d,"microsecond","\xB5s"),s(p,"nanosecond","ns");else{let m=f+d/1e3+p/1e6,x=typeof t.millisecondsDecimalDigits=="number"?t.millisecondsDecimalDigits:0,A=m>=1?Math.round(m):Math.ceil(m),T=x?m.toFixed(x):A;s(Number.parseFloat(T),"millisecond","ms",T)}}else{let u=(r?Number(e%oS):e)/1e3%60,f=typeof t.secondsDecimalDigits=="number"?t.secondsDecimalDigits:1,d=o(u,f),p=t.keepDecimalsOnWholeSeconds?d:d.replace(/\.0+$/,"");s(Number.parseFloat(p),"second","s",p)}if(i.length===0)return n+"0"+(t.verbose?" milliseconds":"ms");let l=t.colonNotation?":":" ";return typeof t.unitCount=="number"&&(i=i.slice(0,Math.max(t.unitCount,1))),n+i.join(l)}var Ef=(e,t)=>{e.failed&&pe({type:"error",verboseMessage:e.shortMessage,verboseInfo:t,result:e})};var Of=(e,t)=>{Rt(t)&&(Ef(e,t),sS(e,t))},sS=(e,t)=>{let r=`(done in ${Io(e.durationMs)})`;pe({type:"duration",verboseMessage:r,verboseInfo:t,result:e})};var Vt=(e,t,{reject:r})=>{if(Of(e,t),e.failed&&r)throw e;return e};var Po=require("node:fs");var kf=(e,t)=>dt(e)?"asyncGenerator":Df(e)?"generator":Dn(e)?"fileUrl":fS(e)?"filePath":mS(e)?"webStream":ae(e,{checkOpen:!1})?"native":P(e)?"uint8Array":hS(e)?"asyncIterable":gS(e)?"iterable":Mo(e)?If({transform:e},t):uS(e)?aS(e,t):"native",aS=(e,t)=>Eo(e.transform,{checkOpen:!1})?cS(e,t):Mo(e.transform)?If(e,t):lS(e,t),cS=(e,t)=>(Rf(e,t,"Duplex stream"),"duplex"),If=(e,t)=>(Rf(e,t,"web TransformStream"),"webTransform"),Rf=({final:e,binary:t,objectMode:r},n,i)=>{Cf(e,`${n}.final`,i),Cf(t,`${n}.binary`,i),Ro(r,`${n}.objectMode`)},Cf=(e,t,r)=>{if(e!==void 0)throw new TypeError(`The \`${t}\` option can only be defined when using a generator, not a ${r}.`)},lS=({transform:e,final:t,binary:r,objectMode:n},i)=>{if(e!==void 0&&!Tf(e))throw new TypeError(`The \`${i}.transform\` option must be a generator, a Duplex stream or a web TransformStream.`);if(Eo(t,{checkOpen:!1}))throw new TypeError(`The \`${i}.final\` option must not be a Duplex stream.`);if(Mo(t))throw new TypeError(`The \`${i}.final\` option must not be a web TransformStream.`);if(t!==void 0&&!Tf(t))throw new TypeError(`The \`${i}.final\` option must be a generator.`);return Ro(r,`${i}.binary`),Ro(n,`${i}.objectMode`),dt(e)||dt(t)?"asyncGenerator":"generator"},Ro=(e,t)=>{if(e!==void 0&&typeof e!="boolean")throw new TypeError(`The \`${t}\` option must use a boolean.`)},Tf=e=>dt(e)||Df(e),dt=e=>Object.prototype.toString.call(e)==="[object AsyncGeneratorFunction]",Df=e=>Object.prototype.toString.call(e)==="[object GeneratorFunction]",uS=e=>M(e)&&(e.transform!==void 0||e.final!==void 0),Dn=e=>Object.prototype.toString.call(e)==="[object URL]",Mf=e=>Dn(e)&&e.protocol!=="file:",fS=e=>M(e)&&Object.keys(e).length>0&&Object.keys(e).every(t=>dS.has(t))&&Do(e.file),dS=new Set(["file","append"]),Do=e=>typeof e=="string",Ff=(e,t)=>e==="native"&&typeof t=="string"&&!pS.has(t),pS=new Set(["ipc","ignore","inherit","overlapped","pipe"]),$f=e=>Object.prototype.toString.call(e)==="[object ReadableStream]",Mn=e=>Object.prototype.toString.call(e)==="[object WritableStream]",mS=e=>$f(e)||Mn(e),Mo=e=>$f(e?.readable)&&Mn(e?.writable),hS=e=>Nf(e)&&typeof e[Symbol.asyncIterator]=="function",gS=e=>Nf(e)&&typeof e[Symbol.iterator]=="function",Nf=e=>typeof e=="object"&&e!==null,te=new Set(["generator","asyncGenerator","duplex","webTransform"]),Fn=new Set(["fileUrl","filePath","fileNumber"]),Fo=new Set(["fileUrl","filePath"]),Lf=new Set([...Fo,"webStream","nodeStream"]),Pf=new Set(["webTransform","duplex"]),Ve={generator:"a generator",asyncGenerator:"an async generator",fileUrl:"a file URL",filePath:"a file path string",fileNumber:"a file descriptor number",webStream:"a web stream",nodeStream:"a Node.js stream",webTransform:"a web TransformStream",duplex:"a Duplex stream",native:"any value",iterable:"an iterable",asyncIterable:"an async iterable",string:"a string",uint8Array:"a Uint8Array"};var $o=(e,t,r,n)=>n==="output"?yS(e,t,r):xS(e,t,r),yS=(e,t,r)=>{let n=t!==0&&r[t-1].value.readableObjectMode;return{writableObjectMode:n,readableObjectMode:e??n}},xS=(e,t,r)=>{let n=t===0?e===!0:r[t-1].value.readableObjectMode,i=t!==r.length-1&&(e??n);return{writableObjectMode:n,readableObjectMode:i}},jf=(e,t)=>{let r=e.findLast(({type:n})=>te.has(n));return r===void 0?!1:t==="input"?r.value.writableObjectMode:r.value.readableObjectMode};var Bf=(e,t,r,n)=>[...e.filter(({type:i})=>!te.has(i)),...bS(e,t,r,n)],bS=(e,t,r,{encoding:n})=>{let i=e.filter(({type:s})=>te.has(s)),o=Array.from({length:i.length});for(let[s,a]of Object.entries(i))o[s]=wS({stdioItem:a,index:Number(s),newTransforms:o,optionName:t,direction:r,encoding:n});return AS(o,r)},wS=({stdioItem:e,stdioItem:{type:t},index:r,newTransforms:n,optionName:i,direction:o,encoding:s})=>t==="duplex"?SS({stdioItem:e,optionName:i}):t==="webTransform"?_S({stdioItem:e,index:r,newTransforms:n,direction:o}):vS({stdioItem:e,index:r,newTransforms:n,direction:o,encoding:s}),SS=({stdioItem:e,stdioItem:{value:{transform:t,transform:{writableObjectMode:r,readableObjectMode:n},objectMode:i=n}},optionName:o})=>{if(i&&!n)throw new TypeError(`The \`${o}.objectMode\` option can only be \`true\` if \`new Duplex({objectMode: true})\` is used.`);if(!i&&n)throw new TypeError(`The \`${o}.objectMode\` option cannot be \`false\` if \`new Duplex({objectMode: true})\` is used.`);return{...e,value:{transform:t,writableObjectMode:r,readableObjectMode:n}}},_S=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:i})=>{let{transform:o,objectMode:s}=M(t)?t:{transform:t},{writableObjectMode:a,readableObjectMode:c}=$o(s,r,n,i);return{...e,value:{transform:o,writableObjectMode:a,readableObjectMode:c}}},vS=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:i,encoding:o})=>{let{transform:s,final:a,binary:c=!1,preserveNewlines:l=!1,objectMode:u}=M(t)?t:{transform:t},f=c||Y.has(o),{writableObjectMode:d,readableObjectMode:p}=$o(u,r,n,i);return{...e,value:{transform:s,final:a,binary:f,preserveNewlines:l,writableObjectMode:d,readableObjectMode:p}}},AS=(e,t)=>t==="input"?e.reverse():e;var $n=N(require("node:process"),1);var Uf=(e,t,r)=>{let n=e.map(i=>ES(i,t));if(n.includes("input")&&n.includes("output"))throw new TypeError(`The \`${r}\` option must not be an array of both readable and writable values.`);return n.find(Boolean)??TS},ES=({type:e,value:t},r)=>OS[r]??Vf[e](t),OS=["input","output","output"],Ht=()=>{},No=()=>"input",Vf={generator:Ht,asyncGenerator:Ht,fileUrl:Ht,filePath:Ht,iterable:No,asyncIterable:No,uint8Array:No,webStream:e=>Mn(e)?"output":"input",nodeStream(e){return ft(e,{checkOpen:!1})?Ao(e,{checkOpen:!1})?void 0:"input":"output"},webTransform:Ht,duplex:Ht,native(e){let t=CS(e);if(t!==void 0)return t;if(ae(e,{checkOpen:!1}))return Vf.nodeStream(e)}},CS=e=>{if([0,$n.default.stdin].includes(e))return"input";if([1,2,$n.default.stdout,$n.default.stderr].includes(e))return"output"},TS="output";var Hf=(e,t)=>t&&!e.includes("ipc")?[...e,"ipc"]:e;var Gf=({stdio:e,ipc:t,buffer:r,...n},i,o)=>{let s=kS(e,n).map((a,c)=>Wf(a,c));return o?RS(s,r,i):Hf(s,t)},kS=(e,t)=>{if(e===void 0)return ee.map(n=>t[n]);if(IS(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${ee.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return[e,e,e];if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,ee.length);return Array.from({length:r},(n,i)=>e[i])},IS=e=>ee.some(t=>e[t]!==void 0),Wf=(e,t)=>Array.isArray(e)?e.map(r=>Wf(r,t)):e??(t>=ee.length?"ignore":"pipe"),RS=(e,t,r)=>e.map((n,i)=>!t[i]&&i!==0&&!Dt(r,i)&&DS(n)?"ignore":n),DS=e=>e==="pipe"||Array.isArray(e)&&e.every(t=>t==="pipe");var qf=require("node:fs"),Yf=N(require("node:tty"),1);var Zf=({stdioItem:e,stdioItem:{type:t},isStdioArray:r,fdNumber:n,direction:i,isSync:o})=>!r||t!=="native"?e:o?MS({stdioItem:e,fdNumber:n,direction:i}):NS({stdioItem:e,fdNumber:n}),MS=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n,direction:i})=>{let o=FS({value:t,optionName:r,fdNumber:n,direction:i});if(o!==void 0)return o;if(ae(t,{checkOpen:!1}))throw new TypeError(`The \`${r}: Stream\` option cannot both be an array and include a stream with synchronous methods.`);return e},FS=({value:e,optionName:t,fdNumber:r,direction:n})=>{let i=$S(e,r);if(i!==void 0){if(n==="output")return{type:"fileNumber",value:i,optionName:t};if(Yf.default.isatty(i))throw new TypeError(`The \`${t}: ${cn(e)}\` option is invalid: it cannot be a TTY with synchronous methods.`);return{type:"uint8Array",value:Ce((0,qf.readFileSync)(i)),optionName:t}}},$S=(e,t)=>{if(e==="inherit")return t;if(typeof e=="number")return e;let r=Gr.indexOf(e);if(r!==-1)return r},NS=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n})=>t==="inherit"?{type:"nodeStream",value:zf(n,t,r),optionName:r}:typeof t=="number"?{type:"nodeStream",value:zf(t,t,r),optionName:r}:ae(t,{checkOpen:!1})?{type:"nodeStream",value:t,optionName:r}:e,zf=(e,t,r)=>{let n=Gr[e];if(n===void 0)throw new TypeError(`The \`${r}: ${t}\` option is invalid: no such standard stream.`);return n};var Kf=({input:e,inputFile:t},r)=>r===0?[...LS(e),...jS(t)]:[],LS=e=>e===void 0?[]:[{type:PS(e),value:e,optionName:"input"}],PS=e=>{if(ft(e,{checkOpen:!1}))return"nodeStream";if(typeof e=="string")return"string";if(P(e))return"uint8Array";throw new Error("The `input` option must be a string, a Uint8Array or a Node.js Readable stream.")},jS=e=>e===void 0?[]:[{...BS(e),optionName:"inputFile"}],BS=e=>{if(Dn(e))return{type:"fileUrl",value:e};if(Do(e))return{type:"filePath",value:{file:e}};throw new Error("The `inputFile` option must be a file path string or a file URL.")};var Xf=e=>e.filter((t,r)=>e.every((n,i)=>t.value!==n.value||r>=i||t.type==="generator"||t.type==="asyncGenerator")),Jf=({stdioItem:{type:e,value:t,optionName:r},direction:n,fileDescriptors:i,isSync:o})=>{let s=US(i,e);if(s.length!==0){if(o){VS({otherStdioItems:s,type:e,value:t,optionName:r,direction:n});return}if(Lf.has(e))return Qf({otherStdioItems:s,type:e,value:t,optionName:r,direction:n});Pf.has(e)&&GS({otherStdioItems:s,type:e,value:t,optionName:r})}},US=(e,t)=>e.flatMap(({direction:r,stdioItems:n})=>n.filter(i=>i.type===t).map((i=>({...i,direction:r})))),VS=({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})=>{Fo.has(t)&&Qf({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})},Qf=({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})=>{let o=e.filter(a=>HS(a,r));if(o.length===0)return;let s=o.find(a=>a.direction!==i);return ed(s,n,t),i==="output"?o[0].stream:void 0},HS=({type:e,value:t},r)=>e==="filePath"?t.file===r.file:e==="fileUrl"?t.href===r.href:t===r,GS=({otherStdioItems:e,type:t,value:r,optionName:n})=>{let i=e.find(({value:{transform:o}})=>o===r.transform);ed(i,n,t)},ed=(e,t,r)=>{if(e!==void 0)throw new TypeError(`The \`${e.optionName}\` and \`${t}\` options must not target ${Ve[r]} that is the same.`)};var Nn=(e,t,r,n)=>{let o=Gf(t,r,n).map((a,c)=>WS({stdioOption:a,fdNumber:c,options:t,isSync:n})),s=QS({initialFileDescriptors:o,addProperties:e,options:t,isSync:n});return t.stdio=s.map(({stdioItems:a})=>r_(a)),s},WS=({stdioOption:e,fdNumber:t,options:r,isSync:n})=>{let i=Wr(t),{stdioItems:o,isStdioArray:s}=zS({stdioOption:e,fdNumber:t,options:r,optionName:i}),a=Uf(o,t,i),c=o.map(f=>Zf({stdioItem:f,isStdioArray:s,fdNumber:t,direction:a,isSync:n})),l=Bf(c,i,a,r),u=jf(l,a);return JS(l,u),{direction:a,objectMode:u,stdioItems:l}},zS=({stdioOption:e,fdNumber:t,options:r,optionName:n})=>{let o=[...(Array.isArray(e)?e:[e]).map(c=>qS(c,n)),...Kf(r,t)],s=Xf(o),a=s.length>1;return YS(s,a,n),KS(s),{stdioItems:s,isStdioArray:a}},qS=(e,t)=>({type:kf(e,t),value:e,optionName:t}),YS=(e,t,r)=>{if(e.length===0)throw new TypeError(`The \`${r}\` option must not be an empty array.`);if(t){for(let{value:n,optionName:i}of e)if(ZS.has(n))throw new Error(`The \`${i}\` option must not include \`${n}\`.`)}},ZS=new Set(["ignore","ipc"]),KS=e=>{for(let t of e)XS(t)},XS=({type:e,value:t,optionName:r})=>{if(Mf(t))throw new TypeError(`The \`${r}: URL\` option must use the \`file:\` scheme.
For example, you can use the \`pathToFileURL()\` method of the \`url\` core module.`);if(Ff(e,t))throw new TypeError(`The \`${r}: { file: '...' }\` option must be used instead of \`${r}: '...'\`.`)},JS=(e,t)=>{if(!t)return;let r=e.find(({type:n})=>Fn.has(n));if(r!==void 0)throw new TypeError(`The \`${r.optionName}\` option cannot use both files and transforms in objectMode.`)},QS=({initialFileDescriptors:e,addProperties:t,options:r,isSync:n})=>{let i=[];try{for(let o of e)i.push(e_({fileDescriptor:o,fileDescriptors:i,addProperties:t,options:r,isSync:n}));return i}catch(o){throw Lo(i),o}},e_=({fileDescriptor:{direction:e,objectMode:t,stdioItems:r},fileDescriptors:n,addProperties:i,options:o,isSync:s})=>{let a=r.map(c=>t_({stdioItem:c,addProperties:i,direction:e,options:o,fileDescriptors:n,isSync:s}));return{direction:e,objectMode:t,stdioItems:a}},t_=({stdioItem:e,addProperties:t,direction:r,options:n,fileDescriptors:i,isSync:o})=>{let s=Jf({stdioItem:e,direction:r,fileDescriptors:i,isSync:o});return s!==void 0?{...e,stream:s}:{...e,...t[r][e.type](e,n)}},Lo=e=>{for(let{stdioItems:t}of e)for(let{stream:r}of t)r!==void 0&&!ie(r)&&r.destroy()},r_=e=>{if(e.length>1)return e.some(({value:n})=>n==="overlapped")?"overlapped":"pipe";let[{type:t,value:r}]=e;return t==="native"?r:"pipe"};var rd=(e,t)=>Nn(i_,e,t,!0),ye=({type:e,optionName:t})=>{nd(t,Ve[e])},n_=({optionName:e,value:t})=>((t==="ipc"||t==="overlapped")&&nd(e,`"${t}"`),{}),nd=(e,t)=>{throw new TypeError(`The \`${e}\` option cannot be ${t} with synchronous methods.`)},td={generator(){},asyncGenerator:ye,webStream:ye,nodeStream:ye,webTransform:ye,duplex:ye,asyncIterable:ye,native:n_},i_={input:{...td,fileUrl:({value:e})=>({contents:[Ce((0,Po.readFileSync)(e))]}),filePath:({value:{file:e}})=>({contents:[Ce((0,Po.readFileSync)(e))]}),fileNumber:ye,iterable:({value:e})=>({contents:[...e]}),string:({value:e})=>({contents:[e]}),uint8Array:({value:e})=>({contents:[e]})},output:{...td,fileUrl:({value:e})=>({path:e}),filePath:({value:{file:e,append:t}})=>({path:e,append:t}),fileNumber:({value:e})=>({path:e}),iterable:ye,string:ye,uint8Array:ye}};var Ie=(e,{stripFinalNewline:t},r)=>jo(t,r)&&e!==void 0&&!Array.isArray(e)?jt(e):e,jo=(e,t)=>t==="all"?e[1]||e[2]:e[t];var yr=require("node:stream");var Ln=(e,t,r,n)=>e||r?void 0:od(t,n),Uo=(e,t,r)=>r?e.flatMap(n=>id(n,t)):id(e,t),id=(e,t)=>{let{transform:r,final:n}=od(t,{});return[...r(e),...n()]},od=(e,t)=>(t.previousChunks="",{transform:o_.bind(void 0,t,e),final:a_.bind(void 0,t)}),o_=function*(e,t,r){if(typeof r!="string"){yield r;return}let{previousChunks:n}=e,i=-1;for(let o=0;o<r.length;o+=1)if(r[o]===`
`){let s=s_(r,o,t,e),a=r.slice(i+1,o+1-s);n.length>0&&(a=Bo(n,a),n=""),yield a,i=o}i!==r.length-1&&(n=Bo(n,r.slice(i+1))),e.previousChunks=n},s_=(e,t,r,n)=>r?0:(n.isWindowsNewline=t!==0&&e[t-1]==="\r",n.isWindowsNewline?2:1),a_=function*({previousChunks:e}){e.length>0&&(yield e)},sd=({binary:e,preserveNewlines:t,readableObjectMode:r,state:n})=>e||t||r?void 0:{transform:c_.bind(void 0,n)},c_=function*({isWindowsNewline:e=!1},t){let{unixNewline:r,windowsNewline:n,LF:i,concatBytes:o}=typeof t=="string"?l_:f_;if(t.at(-1)===i){yield t;return}yield o(t,e?n:r)},Bo=(e,t)=>`${e}${t}`,l_={windowsNewline:`\r
`,unixNewline:`
`,LF:`
`,concatBytes:Bo},u_=(e,t)=>{let r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r},f_={windowsNewline:new Uint8Array([13,10]),unixNewline:new Uint8Array([10]),LF:10,concatBytes:u_};var ad=require("node:buffer");var cd=(e,t)=>e?void 0:d_.bind(void 0,t),d_=function*(e,t){if(typeof t!="string"&&!P(t)&&!ad.Buffer.isBuffer(t))throw new TypeError(`The \`${e}\` option's transform must use "objectMode: true" to receive as input: ${typeof t}.`);yield t},ld=(e,t)=>e?p_.bind(void 0,t):m_.bind(void 0,t),p_=function*(e,t){ud(e,t),yield t},m_=function*(e,t){if(ud(e,t),typeof t!="string"&&!P(t))throw new TypeError(`The \`${e}\` option's function must yield a string or an Uint8Array, not ${typeof t}.`);yield t},ud=(e,t)=>{if(t==null)throw new TypeError(`The \`${e}\` option's function must not call \`yield ${t}\`.
Instead, \`yield\` should either be called with a value, or not be called at all. For example:
  if (condition) { yield value; }`)};var fd=require("node:buffer"),dd=require("node:string_decoder");var Pn=(e,t,r)=>{if(r)return;if(e)return{transform:h_.bind(void 0,new TextEncoder)};let n=new dd.StringDecoder(t);return{transform:g_.bind(void 0,n),final:y_.bind(void 0,n)}},h_=function*(e,t){fd.Buffer.isBuffer(t)?yield Ce(t):typeof t=="string"?yield e.encode(t):yield t},g_=function*(e,t){yield P(t)?e.write(t):t},y_=function*(e){let t=e.end();t!==""&&(yield t)};var Vo=require("node:util"),Ho=(0,Vo.callbackify)(async(e,t,r,n)=>{t.currentIterable=e(...r);try{for await(let i of t.currentIterable)n.push(i)}finally{delete t.currentIterable}}),jn=async function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=b_}=t[r];for await(let i of n(e))yield*jn(i,t,r+1)},pd=async function*(e){for(let[t,{final:r}]of Object.entries(e))yield*x_(r,Number(t),e)},x_=async function*(e,t,r){if(e!==void 0)for await(let n of e())yield*jn(n,r,t+1)},md=(0,Vo.callbackify)(async({currentIterable:e},t)=>{if(e!==void 0){await(t?e.throw(t):e.return());return}if(t)throw t}),b_=function*(e){yield e};var Go=(e,t,r,n)=>{try{for(let i of e(...t))r.push(i);n()}catch(i){n(i)}},hd=(e,t)=>[...t.flatMap(r=>[...pt(r,e,0)]),...gr(e)],pt=function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=S_}=t[r];for(let i of n(e))yield*pt(i,t,r+1)},gr=function*(e){for(let[t,{final:r}]of Object.entries(e))yield*w_(r,Number(t),e)},w_=function*(e,t,r){if(e!==void 0)for(let n of e())yield*pt(n,r,t+1)},S_=function*(e){yield e};var Wo=({value:e,value:{transform:t,final:r,writableObjectMode:n,readableObjectMode:i},optionName:o},{encoding:s})=>{let a={},c=gd(e,s,o),l=dt(t),u=dt(r),f=l?Ho.bind(void 0,jn,a):Go.bind(void 0,pt),d=l||u?Ho.bind(void 0,pd,a):Go.bind(void 0,gr),p=l||u?md.bind(void 0,a):void 0;return{stream:new yr.Transform({writableObjectMode:n,writableHighWaterMark:(0,yr.getDefaultHighWaterMark)(n),readableObjectMode:i,readableHighWaterMark:(0,yr.getDefaultHighWaterMark)(i),transform(x,A,T){f([x,c,0],this,T)},flush(x){d([c],this,x)},destroy:p})}},Bn=(e,t,r,n)=>{let i=t.filter(({type:s})=>s==="generator"),o=n?i.reverse():i;for(let{value:s,optionName:a}of o){let c=gd(s,r,a);e=hd(c,e)}return e},gd=({transform:e,final:t,binary:r,writableObjectMode:n,readableObjectMode:i,preserveNewlines:o},s,a)=>{let c={};return[{transform:cd(n,a)},Pn(r,s,n),Ln(r,o,n,c),{transform:e,final:t},{transform:ld(i,a)},sd({binary:r,preserveNewlines:o,readableObjectMode:i,state:c})].filter(Boolean)};var yd=(e,t)=>{for(let r of __(e))v_(e,r,t)},__=e=>new Set(Object.entries(e).filter(([,{direction:t}])=>t==="input").map(([t])=>Number(t))),v_=(e,t,r)=>{let{stdioItems:n}=e[t],i=n.filter(({contents:a})=>a!==void 0);if(i.length===0)return;if(t!==0){let[{type:a,optionName:c}]=i;throw new TypeError(`Only the \`stdin\` option, not \`${c}\`, can be ${Ve[a]} with synchronous methods.`)}let s=i.map(({contents:a})=>a).map(a=>A_(a,n));r.input=sr(s)},A_=(e,t)=>{let r=Bn(e,t,"utf8",!0);return E_(r),sr(r)},E_=e=>{let t=e.find(r=>typeof r!="string"&&!P(r));if(t!==void 0)throw new TypeError(`The \`stdin\` option is invalid: when passing objects as input, a transform must be used to serialize them to strings or Uint8Arrays: ${t}.`)};var Vn=require("node:fs");var Un=({stdioItems:e,encoding:t,verboseInfo:r,fdNumber:n})=>n!=="all"&&Dt(r,n)&&!Y.has(t)&&O_(n)&&(e.some(({type:i,value:o})=>i==="native"&&C_.has(o))||e.every(({type:i})=>te.has(i))),O_=e=>e===1||e===2,C_=new Set(["pipe","overlapped"]),xd=async(e,t,r,n)=>{for await(let i of e)T_(t)||wd(i,r,n)},bd=(e,t,r)=>{for(let n of e)wd(n,t,r)},T_=e=>e._readableState.pipes.length>0,wd=(e,t,r)=>{let n=Xr(e);pe({type:"output",verboseMessage:n,fdNumber:t,verboseInfo:r})};var Sd=({fileDescriptors:e,syncResult:{output:t},options:r,isMaxBuffer:n,verboseInfo:i})=>{if(t===null)return{output:Array.from({length:3})};let o={},s=new Set([]);return{output:t.map((c,l)=>k_({result:c,fileDescriptors:e,fdNumber:l,state:o,outputFiles:s,isMaxBuffer:n,verboseInfo:i},r)),...o}},k_=({result:e,fileDescriptors:t,fdNumber:r,state:n,outputFiles:i,isMaxBuffer:o,verboseInfo:s},{buffer:a,encoding:c,lines:l,stripFinalNewline:u,maxBuffer:f})=>{if(e===null)return;let d=bf(e,o,f),p=Ce(d),{stdioItems:m,objectMode:x}=t[r],A=I_([p],m,c,n),{serializedResult:T,finalResult:_=T}=R_({chunks:A,objectMode:x,encoding:c,lines:l,stripFinalNewline:u,fdNumber:r});D_({serializedResult:T,fdNumber:r,state:n,verboseInfo:s,encoding:c,stdioItems:m,objectMode:x});let H=a[r]?_:void 0;try{return n.error===void 0&&M_(T,m,i),H}catch(Z){return n.error=Z,H}},I_=(e,t,r,n)=>{try{return Bn(e,t,r,!1)}catch(i){return n.error=i,e}},R_=({chunks:e,objectMode:t,encoding:r,lines:n,stripFinalNewline:i,fdNumber:o})=>{if(t)return{serializedResult:e};if(r==="buffer")return{serializedResult:sr(e)};let s=uc(e,r);return n[o]?{serializedResult:s,finalResult:Uo(s,!i[o],t)}:{serializedResult:s}},D_=({serializedResult:e,fdNumber:t,state:r,verboseInfo:n,encoding:i,stdioItems:o,objectMode:s})=>{if(!Un({stdioItems:o,encoding:i,verboseInfo:n,fdNumber:t}))return;let a=Uo(e,!1,s);try{bd(a,t,n)}catch(c){r.error??=c}},M_=(e,t,r)=>{for(let{path:n,append:i}of t.filter(({type:o})=>Fn.has(o))){let o=typeof n=="string"?n:n.toString();i||r.has(o)?(0,Vn.appendFileSync)(n,e):(r.add(o),(0,Vn.writeFileSync)(n,e))}};var _d=([,e,t],r)=>{if(r.all)return e===void 0?t:t===void 0?e:Array.isArray(e)?Array.isArray(t)?[...e,...t]:[...e,Ie(t,r,"all")]:Array.isArray(t)?[Ie(e,r,"all"),...t]:P(e)&&P(t)?Gi([e,t]):`${e}${t}`};var Hn=require("node:events");var vd=async(e,t)=>{let[r,n]=await F_(e);return t.isForcefullyTerminated??=!1,[r,n]},F_=async e=>{let[t,r]=await Promise.allSettled([(0,Hn.once)(e,"spawn"),(0,Hn.once)(e,"exit")]);return t.status==="rejected"?[]:r.status==="rejected"?Ad(e):r.value},Ad=async e=>{try{return await(0,Hn.once)(e,"exit")}catch{return Ad(e)}},Ed=async e=>{let[t,r]=await e;if(!$_(t,r)&&zo(t,r))throw new oe;return[t,r]},$_=(e,t)=>e===void 0&&t===void 0,zo=(e,t)=>e!==0||t!==null;var Od=({error:e,status:t,signal:r,output:n},{maxBuffer:i})=>{let o=N_(e,t,r),s=o?.code==="ETIMEDOUT",a=xf(o,n,i);return{resultError:o,exitCode:t,signal:r,timedOut:s,isMaxBuffer:a}},N_=(e,t,r)=>e!==void 0?e:zo(t,r)?new oe:void 0;var Td=(e,t,r)=>{let{file:n,commandArguments:i,command:o,escapedCommand:s,startTime:a,verboseInfo:c,options:l,fileDescriptors:u}=L_(e,t,r),f=B_({file:n,commandArguments:i,options:l,command:o,escapedCommand:s,verboseInfo:c,fileDescriptors:u,startTime:a});return Vt(f,c,l)},L_=(e,t,r)=>{let{command:n,escapedCommand:i,startTime:o,verboseInfo:s}=Qr(e,t,r),a=P_(r),{file:c,commandArguments:l,options:u}=Sn(e,t,a);j_(u);let f=rd(u,s);return{file:c,commandArguments:l,command:n,escapedCommand:i,startTime:o,verboseInfo:s,options:u,fileDescriptors:f}},P_=e=>e.node&&!e.ipc?{...e,ipc:!1}:e,j_=({ipc:e,ipcInput:t,detached:r,cancelSignal:n})=>{t&&Gn("ipcInput"),e&&Gn("ipc: true"),r&&Gn("detached: true"),n&&Gn("cancelSignal")},Gn=e=>{throw new TypeError(`The "${e}" option cannot be used with synchronous methods.`)},B_=({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,verboseInfo:o,fileDescriptors:s,startTime:a})=>{let c=U_({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,fileDescriptors:s,startTime:a});if(c.failed)return c;let{resultError:l,exitCode:u,signal:f,timedOut:d,isMaxBuffer:p}=Od(c,r),{output:m,error:x=l}=Sd({fileDescriptors:s,syncResult:c,options:r,isMaxBuffer:p,verboseInfo:o}),A=m.map((_,H)=>Ie(_,r,H)),T=Ie(_d(m,r),r,"all");return H_({error:x,exitCode:u,signal:f,timedOut:d,isMaxBuffer:p,stdio:A,all:T,options:r,command:n,escapedCommand:i,startTime:a})},U_=({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,fileDescriptors:o,startTime:s})=>{try{yd(o,r);let a=V_(r);return(0,Cd.spawnSync)(..._n(e,t,a))}catch(a){return Ut({error:a,command:n,escapedCommand:i,fileDescriptors:o,options:r,startTime:s,isSync:!0})}},V_=({encoding:e,maxBuffer:t,...r})=>({...r,encoding:"buffer",maxBuffer:In(t)}),H_=({error:e,exitCode:t,signal:r,timedOut:n,isMaxBuffer:i,stdio:o,all:s,options:a,command:c,escapedCommand:l,startTime:u})=>e===void 0?Rn({command:c,escapedCommand:l,stdio:o,all:s,ipcOutput:[],options:a,startTime:u}):hr({error:e,command:c,escapedCommand:l,timedOut:n,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:i,isForcefullyTerminated:!1,exitCode:t,signal:r,stdio:o,all:s,ipcOutput:[],options:a,startTime:u,isSync:!0});var Np=require("node:events"),Lp=require("node:child_process");var Yo=N(require("node:process"),1);var Gt=require("node:events");var kd=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:i=!0,filter:o}={})=>(Nt({methodName:"getOneMessage",isSubprocess:r,ipc:n,isConnected:mn(e)}),G_({anyProcess:e,channel:t,isSubprocess:r,filter:o,reference:i})),G_=async({anyProcess:e,channel:t,isSubprocess:r,filter:n,reference:i})=>{un(t,i);let o=Ue(e,t,r),s=new AbortController;try{return await Promise.race([W_(o,n,s),z_(o,r,s),q_(o,r,s)])}catch(a){throw Lt(e),a}finally{s.abort(),fn(t,i)}},W_=async(e,t,{signal:r})=>{if(t===void 0){let[n]=await(0,Gt.once)(e,"message",{signal:r});return n}for await(let[n]of(0,Gt.on)(e,"message",{signal:r}))if(t(n))return n},z_=async(e,t,{signal:r})=>{await(0,Gt.once)(e,"disconnect",{signal:r}),Xl(t)},q_=async(e,t,{signal:r})=>{let[n]=await(0,Gt.once)(e,"strict:error",{signal:r});throw an(n,t)};var xr=require("node:events");var Rd=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:i=!0}={})=>qo({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:!r,reference:i}),qo=({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:i,reference:o})=>{Nt({methodName:"getEachMessage",isSubprocess:r,ipc:n,isConnected:mn(e)}),un(t,o);let s=Ue(e,t,r),a=new AbortController,c={};return Y_(e,s,a),Z_({ipcEmitter:s,isSubprocess:r,controller:a,state:c}),K_({anyProcess:e,channel:t,ipcEmitter:s,isSubprocess:r,shouldAwait:i,controller:a,state:c,reference:o})},Y_=async(e,t,r)=>{try{await(0,xr.once)(t,"disconnect",{signal:r.signal}),r.abort()}catch{}},Z_=async({ipcEmitter:e,isSubprocess:t,controller:r,state:n})=>{try{let[i]=await(0,xr.once)(e,"strict:error",{signal:r.signal});n.error=an(i,t),r.abort()}catch{}},K_=async function*({anyProcess:e,channel:t,ipcEmitter:r,isSubprocess:n,shouldAwait:i,controller:o,state:s,reference:a}){try{for await(let[c]of(0,xr.on)(r,"message",{signal:o.signal}))Id(s),yield c}catch{Id(s)}finally{o.abort(),fn(t,a),n||Lt(e),i&&await e}},Id=({error:e})=>{if(e)throw e};var Dd=(e,{ipc:t})=>{Object.assign(e,Fd(e,!1,t))},Md=()=>{let e=Yo.default,t=!0,r=Yo.default.channel!==void 0;return{...Fd(e,t,r),getCancelSignal:Ru.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r})}},Fd=(e,t,r)=>({sendMessage:xn.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getOneMessage:kd.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getEachMessage:Rd.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r})});var $d=require("node:child_process"),He=require("node:stream");var Nd=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:o,verboseInfo:s})=>{Lo(n);let a=new $d.ChildProcess;X_(a,n),Object.assign(a,{readable:J_,writable:Q_,duplex:e0});let c=Ut({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:o,isSync:!1}),l=t0(c,s,i);return{subprocess:a,promise:l}},X_=(e,t)=>{let r=br(),n=br(),i=br(),o=Array.from({length:t.length-3},br),s=br(),a=[r,n,i,...o];Object.assign(e,{stdin:r,stdout:n,stderr:i,all:s,stdio:a})},br=()=>{let e=new He.PassThrough;return e.end(),e},J_=()=>new He.Readable({read(){}}),Q_=()=>new He.Writable({write(){}}),e0=()=>new He.Duplex({read(){},write(){}}),t0=async(e,t,r)=>Vt(e,t,r);var Wt=require("node:fs"),Pd=require("node:buffer"),xe=require("node:stream");var jd=(e,t)=>Nn(r0,e,t,!1),wr=({type:e,optionName:t})=>{throw new TypeError(`The \`${t}\` option cannot be ${Ve[e]}.`)},Ld={fileNumber:wr,generator:Wo,asyncGenerator:Wo,nodeStream:({value:e})=>({stream:e}),webTransform({value:{transform:e,writableObjectMode:t,readableObjectMode:r}}){let n=t||r;return{stream:xe.Duplex.fromWeb(e,{objectMode:n})}},duplex:({value:{transform:e}})=>({stream:e}),native(){}},r0={input:{...Ld,fileUrl:({value:e})=>({stream:(0,Wt.createReadStream)(e)}),filePath:({value:{file:e}})=>({stream:(0,Wt.createReadStream)(e)}),webStream:({value:e})=>({stream:xe.Readable.fromWeb(e)}),iterable:({value:e})=>({stream:xe.Readable.from(e)}),asyncIterable:({value:e})=>({stream:xe.Readable.from(e)}),string:({value:e})=>({stream:xe.Readable.from(e)}),uint8Array:({value:e})=>({stream:xe.Readable.from(Pd.Buffer.from(e))})},output:{...Ld,fileUrl:({value:e})=>({stream:(0,Wt.createWriteStream)(e)}),filePath:({value:{file:e,append:t}})=>({stream:(0,Wt.createWriteStream)(e,t?{flags:"a"}:{})}),webStream:({value:e})=>({stream:xe.Writable.fromWeb(e)}),iterable:wr,asyncIterable:wr,string:wr,uint8Array:wr}};var Sr=require("node:events"),zn=require("node:stream"),Xo=require("node:stream/promises");function mt(e){if(!Array.isArray(e))throw new TypeError(`Expected an array, got \`${typeof e}\`.`);for(let i of e)Ko(i);let t=e.some(({readableObjectMode:i})=>i),r=n0(e,t),n=new Zo({objectMode:t,writableHighWaterMark:r,readableHighWaterMark:r});for(let i of e)n.add(i);return n}var n0=(e,t)=>{if(e.length===0)return(0,zn.getDefaultHighWaterMark)(t);let r=e.filter(({readableObjectMode:n})=>n===t).map(({readableHighWaterMark:n})=>n);return Math.max(...r)},Zo=class extends zn.PassThrough{#t=new Set([]);#r=new Set([]);#e=new Set([]);#n;#o=Symbol("unpipe");#i=new WeakMap;add(t){if(Ko(t),this.#t.has(t))return;this.#t.add(t),this.#n??=i0(this,this.#t,this.#o);let r=a0({passThroughStream:this,stream:t,streams:this.#t,ended:this.#r,aborted:this.#e,onFinished:this.#n,unpipeEvent:this.#o});this.#i.set(t,r),t.pipe(this,{end:!1})}async remove(t){if(Ko(t),!this.#t.has(t))return!1;let r=this.#i.get(t);return r===void 0?!1:(this.#i.delete(t),t.unpipe(this),await r,!0)}},i0=async(e,t,r)=>{Wn(e,Bd);let n=new AbortController;try{await Promise.race([o0(e,n),s0(e,t,r,n)])}finally{n.abort(),Wn(e,-Bd)}},o0=async(e,{signal:t})=>{try{await(0,Xo.finished)(e,{signal:t,cleanup:!0})}catch(r){throw Vd(e,r),r}},s0=async(e,t,r,{signal:n})=>{for await(let[i]of(0,Sr.on)(e,"unpipe",{signal:n}))t.has(i)&&i.emit(r)},Ko=e=>{if(typeof e?.pipe!="function")throw new TypeError(`Expected a readable stream, got: \`${typeof e}\`.`)},a0=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,onFinished:o,unpipeEvent:s})=>{Wn(e,Ud);let a=new AbortController;try{await Promise.race([c0(o,t,a),l0({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,controller:a}),u0({stream:t,streams:r,ended:n,aborted:i,unpipeEvent:s,controller:a})])}finally{a.abort(),Wn(e,-Ud)}r.size>0&&r.size===n.size+i.size&&(n.size===0&&i.size>0?Jo(e):f0(e))},c0=async(e,t,{signal:r})=>{try{await e,r.aborted||Jo(t)}catch(n){r.aborted||Vd(t,n)}},l0=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,controller:{signal:o}})=>{try{await(0,Xo.finished)(t,{signal:o,cleanup:!0,readable:!0,writable:!1}),r.has(t)&&n.add(t)}catch(s){if(o.aborted||!r.has(t))return;Hd(s)?i.add(t):Gd(e,s)}},u0=async({stream:e,streams:t,ended:r,aborted:n,unpipeEvent:i,controller:{signal:o}})=>{if(await(0,Sr.once)(e,i,{signal:o}),!e.readable)return(0,Sr.once)(o,"abort",{signal:o});t.delete(e),r.delete(e),n.delete(e)},f0=e=>{e.writable&&e.end()},Vd=(e,t)=>{Hd(t)?Jo(e):Gd(e,t)},Hd=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",Jo=e=>{(e.readable||e.writable)&&e.destroy()},Gd=(e,t)=>{e.destroyed||(e.once("error",d0),e.destroy(t))},d0=()=>{},Wn=(e,t)=>{let r=e.getMaxListeners();r!==0&&r!==Number.POSITIVE_INFINITY&&e.setMaxListeners(r+t)},Bd=2,Ud=1;var Qo=require("node:stream/promises");var zt=(e,t)=>{e.pipe(t),p0(e,t),m0(e,t)},p0=async(e,t)=>{if(!(ie(e)||ie(t))){try{await(0,Qo.finished)(e,{cleanup:!0,readable:!0,writable:!1})}catch{}es(t)}},es=e=>{e.writable&&e.end()},m0=async(e,t)=>{if(!(ie(e)||ie(t))){try{await(0,Qo.finished)(t,{cleanup:!0,readable:!1,writable:!0})}catch{}ts(e)}},ts=e=>{e.readable&&e.destroy()};var Wd=(e,t,r)=>{let n=new Map;for(let[i,{stdioItems:o,direction:s}]of Object.entries(t)){for(let{stream:a}of o.filter(({type:c})=>te.has(c)))h0(e,a,s,i);for(let{stream:a}of o.filter(({type:c})=>!te.has(c)))y0({subprocess:e,stream:a,direction:s,fdNumber:i,pipeGroups:n,controller:r})}for(let[i,o]of n.entries()){let s=o.length===1?o[0]:mt(o);zt(s,i)}},h0=(e,t,r,n)=>{r==="output"?zt(e.stdio[n],t):zt(t,e.stdio[n]);let i=g0[n];i!==void 0&&(e[i]=t),e.stdio[n]=t},g0=["stdin","stdout","stderr"],y0=({subprocess:e,stream:t,direction:r,fdNumber:n,pipeGroups:i,controller:o})=>{if(t===void 0)return;x0(t,o);let[s,a]=r==="output"?[t,e.stdio[n]]:[e.stdio[n],t],c=i.get(s)??[];i.set(s,[...c,a])},x0=(e,{signal:t})=>{ie(e)&&ut(e,b0,t)},b0=2;var qd=require("node:events");var ht=[];ht.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&ht.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&ht.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var qn=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",rs=Symbol.for("signal-exit emitter"),ns=globalThis,w0=Object.defineProperty.bind(Object),is=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(ns[rs])return ns[rs];w0(ns,rs,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],i=n.indexOf(r);i!==-1&&(i===0&&n.length===1?n.length=0:n.splice(i,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let i=!1;for(let o of this.listeners[t])i=o(r,n)===!0||i;return t==="exit"&&(i=this.emit("afterExit",r,n)||i),i}},Yn=class{},S0=e=>({onExit(t,r){return e.onExit(t,r)},load(){return e.load()},unload(){return e.unload()}}),os=class extends Yn{onExit(){return()=>{}}load(){}unload(){}},ss=class extends Yn{#t=as.platform==="win32"?"SIGINT":"SIGHUP";#r=new is;#e;#n;#o;#i={};#s=!1;constructor(t){super(),this.#e=t,this.#i={};for(let r of ht)this.#i[r]=()=>{let n=this.#e.listeners(r),{count:i}=this.#r,o=t;if(typeof o.__signal_exit_emitter__=="object"&&typeof o.__signal_exit_emitter__.count=="number"&&(i+=o.__signal_exit_emitter__.count),n.length===i){this.unload();let s=this.#r.emit("exit",null,r),a=r==="SIGHUP"?this.#t:r;s||t.kill(t.pid,a)}};this.#o=t.reallyExit,this.#n=t.emit}onExit(t,r){if(!qn(this.#e))return()=>{};this.#s===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#r.on(n,t),()=>{this.#r.removeListener(n,t),this.#r.listeners.exit.length===0&&this.#r.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#s){this.#s=!0,this.#r.count+=1;for(let t of ht)try{let r=this.#i[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#c(t,...r),this.#e.reallyExit=t=>this.#a(t)}}unload(){this.#s&&(this.#s=!1,ht.forEach(t=>{let r=this.#i[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#n,this.#e.reallyExit=this.#o,this.#r.count-=1)}#a(t){return qn(this.#e)?(this.#e.exitCode=t||0,this.#r.emit("exit",this.#e.exitCode,null),this.#o.call(this.#e,this.#e.exitCode)):0}#c(t,...r){let n=this.#n;if(t==="exit"&&qn(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let i=n.call(this.#e,t,...r);return this.#r.emit("exit",this.#e.exitCode,null),i}else return n.call(this.#e,t,...r)}},as=globalThis.process,{onExit:zd,load:a1,unload:c1}=S0(qn(as)?new ss(as):new os);var Yd=(e,{cleanup:t,detached:r},{signal:n})=>{if(!t||r)return;let i=zd(()=>{e.kill()});(0,qd.addAbortListener)(n,()=>{i()})};var Kd=({source:e,sourcePromise:t,boundOptions:r,createNested:n},...i)=>{let o=Jr(),{destination:s,destinationStream:a,destinationError:c,from:l,unpipeSignal:u}=_0(r,n,i),{sourceStream:f,sourceError:d}=A0(e,l),{options:p,fileDescriptors:m}=he.get(e);return{sourcePromise:t,sourceStream:f,sourceOptions:p,sourceError:d,destination:s,destinationStream:a,destinationError:c,unpipeSignal:u,fileDescriptors:m,startTime:o}},_0=(e,t,r)=>{try{let{destination:n,pipeOptions:{from:i,to:o,unpipeSignal:s}={}}=v0(e,t,...r),a=ln(n,o);return{destination:n,destinationStream:a,from:i,unpipeSignal:s}}catch(n){return{destinationError:n}}},v0=(e,t,r,...n)=>{if(Array.isArray(r))return{destination:t(Zd,e)(r,...n),pipeOptions:e};if(typeof r=="string"||r instanceof URL||Vi(r)){if(Object.keys(e).length>0)throw new TypeError('Please use .pipe("file", ..., options) or .pipe(execa("file", ..., options)) instead of .pipe(options)("file", ...).');let[i,o,s]=Ur(r,...n);return{destination:t(Zd)(i,o,s),pipeOptions:s}}if(he.has(r)){if(Object.keys(e).length>0)throw new TypeError("Please use .pipe(options)`command` or .pipe($(options)`command`) instead of .pipe(options)($`command`).");return{destination:r,pipeOptions:n[0]}}throw new TypeError(`The first argument must be a template string, an options object, or an Execa subprocess: ${r}`)},Zd=({options:e})=>({options:{...e,stdin:"pipe",piped:!0}}),A0=(e,t)=>{try{return{sourceStream:Pt(e,t)}}catch(r){return{sourceError:r}}};var Jd=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n,fileDescriptors:i,sourceOptions:o,startTime:s})=>{let a=E0({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n});if(a!==void 0)throw cs({error:a,fileDescriptors:i,sourceOptions:o,startTime:s})},E0=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n})=>{if(t!==void 0&&n!==void 0)return n;if(n!==void 0)return ts(e),n;if(t!==void 0)return es(r),t},cs=({error:e,fileDescriptors:t,sourceOptions:r,startTime:n})=>Ut({error:e,command:Xd,escapedCommand:Xd,fileDescriptors:t,options:r,startTime:n,isSync:!1}),Xd="source.pipe(destination)";var Qd=async e=>{let[{status:t,reason:r,value:n=r},{status:i,reason:o,value:s=o}]=await e;if(s.pipedFrom.includes(n)||s.pipedFrom.push(n),i==="rejected")throw s;if(t==="rejected")throw n;return s};var ep=require("node:stream/promises");var tp=(e,t,r)=>{let n=Zn.has(t)?C0(e,t):O0(e,t);return ut(e,k0,r.signal),ut(t,I0,r.signal),T0(t),n},O0=(e,t)=>{let r=mt([e]);return zt(r,t),Zn.set(t,r),r},C0=(e,t)=>{let r=Zn.get(t);return r.add(e),r},T0=async e=>{try{await(0,ep.finished)(e,{cleanup:!0,readable:!1,writable:!0})}catch{}Zn.delete(e)},Zn=new WeakMap,k0=2,I0=1;var rp=require("node:util");var np=(e,t)=>e===void 0?[]:[R0(e,t)],R0=async(e,{sourceStream:t,mergedStream:r,fileDescriptors:n,sourceOptions:i,startTime:o})=>{await(0,rp.aborted)(e,t),await r.remove(t);let s=new Error("Pipe canceled by `unpipeSignal` option.");throw cs({error:s,fileDescriptors:n,sourceOptions:i,startTime:o})};var Kn=(e,...t)=>{if(M(t[0]))return Kn.bind(void 0,{...e,boundOptions:{...e.boundOptions,...t[0]}});let{destination:r,...n}=Kd(e,...t),i=D0({...n,destination:r});return i.pipe=Kn.bind(void 0,{...e,source:r,sourcePromise:i,boundOptions:{}}),i},D0=async({sourcePromise:e,sourceStream:t,sourceOptions:r,sourceError:n,destination:i,destinationStream:o,destinationError:s,unpipeSignal:a,fileDescriptors:c,startTime:l})=>{let u=M0(e,i);Jd({sourceStream:t,sourceError:n,destinationStream:o,destinationError:s,fileDescriptors:c,sourceOptions:r,startTime:l});let f=new AbortController;try{let d=tp(t,o,f);return await Promise.race([Qd(u),...np(a,{sourceStream:t,mergedStream:d,sourceOptions:r,fileDescriptors:c,startTime:l})])}finally{f.abort()}},M0=(e,t)=>Promise.allSettled([e,t]);var cp=require("node:timers/promises");var op=require("node:events"),sp=require("node:stream");var Xn=({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:n,encoding:i,preserveNewlines:o})=>{let s=new AbortController;return F0(t,s),ap({stream:e,controller:s,binary:r,shouldEncode:!e.readableObjectMode&&n,encoding:i,shouldSplit:!e.readableObjectMode,preserveNewlines:o})},F0=async(e,t)=>{try{await e}catch{}finally{t.abort()}},ls=({stream:e,onStreamEnd:t,lines:r,encoding:n,stripFinalNewline:i,allMixed:o})=>{let s=new AbortController;$0(t,s,e);let a=e.readableObjectMode&&!o;return ap({stream:e,controller:s,binary:n==="buffer",shouldEncode:!a,encoding:n,shouldSplit:!a&&r,preserveNewlines:!i})},$0=async(e,t,r)=>{try{await e}catch{r.destroy()}finally{t.abort()}},ap=({stream:e,controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:o,preserveNewlines:s})=>{let a=(0,op.on)(e,"data",{signal:t.signal,highWaterMark:ip,highWatermark:ip});return N0({onStdoutChunk:a,controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:o,preserveNewlines:s})},us=(0,sp.getDefaultHighWaterMark)(!0),ip=us,N0=async function*({onStdoutChunk:e,controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:o,preserveNewlines:s}){let a=L0({binary:r,shouldEncode:n,encoding:i,shouldSplit:o,preserveNewlines:s});try{for await(let[c]of e)yield*pt(c,a,0)}catch(c){if(!t.signal.aborted)throw c}finally{yield*gr(a)}},L0=({binary:e,shouldEncode:t,encoding:r,shouldSplit:n,preserveNewlines:i})=>[Pn(e,r,!t),Ln(e,i,!n,{})].filter(Boolean);var lp=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,buffer:i,maxBuffer:o,lines:s,allMixed:a,stripFinalNewline:c,verboseInfo:l,streamInfo:u})=>{let f=P0({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:a,verboseInfo:l,streamInfo:u});if(!i){await Promise.all([j0(e),f]);return}let d=jo(c,r),p=ls({stream:e,onStreamEnd:t,lines:s,encoding:n,stripFinalNewline:d,allMixed:a}),[m]=await Promise.all([B0({stream:e,iterable:p,fdNumber:r,encoding:n,maxBuffer:o,lines:s}),f]);return m},P0=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:i,verboseInfo:o,streamInfo:{fileDescriptors:s}})=>{if(!Un({stdioItems:s[r]?.stdioItems,encoding:n,verboseInfo:o,fdNumber:r}))return;let a=ls({stream:e,onStreamEnd:t,lines:!0,encoding:n,stripFinalNewline:!0,allMixed:i});await xd(a,e,r,o)},j0=async e=>{await(0,cp.setImmediate)(),e.readableFlowing===null&&e.resume()},B0=async({stream:e,stream:{readableObjectMode:t},iterable:r,fdNumber:n,encoding:i,maxBuffer:o,lines:s})=>{try{return t||s?await On(r,{maxBuffer:o}):i==="buffer"?new Uint8Array(await Cn(r,{maxBuffer:o})):await kn(r,{maxBuffer:o})}catch(a){return up(hf({error:a,stream:e,readableObjectMode:t,lines:s,encoding:i,fdNumber:n}))}},fs=async e=>{try{return await e}catch(t){return up(t)}},up=({bufferedData:e})=>cc(e)?new Uint8Array(e):e;var dp=require("node:stream/promises"),_r=async(e,t,r,{isSameDirection:n,stopOnExit:i=!1}={})=>{let o=U0(e,r),s=new AbortController;try{await Promise.race([...i?[r.exitPromise]:[],(0,dp.finished)(e,{cleanup:!0,signal:s.signal})])}catch(a){o.stdinCleanedUp||G0(a,t,r,n)}finally{s.abort()}},U0=(e,{originalStreams:[t],subprocess:r})=>{let n={stdinCleanedUp:!1};return e===t&&V0(e,r,n),n},V0=(e,t,r)=>{let{_destroy:n}=e;e._destroy=(...i)=>{H0(t,r),n.call(e,...i)}},H0=({exitCode:e,signalCode:t},r)=>{(e!==null||t!==null)&&(r.stdinCleanedUp=!0)},G0=(e,t,r,n)=>{if(!W0(e,t,r,n))throw e},W0=(e,t,r,n=!0)=>r.propagating?fp(e)||Jn(e):(r.propagating=!0,ds(r,t)===n?fp(e):Jn(e)),ds=({fileDescriptors:e},t)=>t!=="all"&&e[t].direction==="input",Jn=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",fp=e=>e?.code==="EPIPE";var pp=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:o,verboseInfo:s,streamInfo:a})=>e.stdio.map((c,l)=>ps({stream:c,fdNumber:l,encoding:t,buffer:r[l],maxBuffer:n[l],lines:i[l],allMixed:!1,stripFinalNewline:o,verboseInfo:s,streamInfo:a})),ps=async({stream:e,fdNumber:t,encoding:r,buffer:n,maxBuffer:i,lines:o,allMixed:s,stripFinalNewline:a,verboseInfo:c,streamInfo:l})=>{if(!e)return;let u=_r(e,t,l);if(ds(l,t)){await u;return}let[f]=await Promise.all([lp({stream:e,onStreamEnd:u,fdNumber:t,encoding:r,buffer:n,maxBuffer:i,lines:o,allMixed:s,stripFinalNewline:a,verboseInfo:c,streamInfo:l}),u]);return f};var mp=({stdout:e,stderr:t},{all:r})=>r&&(e||t)?mt([e,t].filter(Boolean)):void 0,hp=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:o,verboseInfo:s,streamInfo:a})=>ps({...z0(e,r),fdNumber:"all",encoding:t,maxBuffer:n[1]+n[2],lines:i[1]||i[2],allMixed:q0(e),stripFinalNewline:o,verboseInfo:s,streamInfo:a}),z0=({stdout:e,stderr:t,all:r},[,n,i])=>{let o=n||i;return o?n?i?{stream:r,buffer:o}:{stream:e,buffer:o}:{stream:t,buffer:o}:{stream:r,buffer:o}},q0=({all:e,stdout:t,stderr:r})=>e&&t&&r&&t.readableObjectMode!==r.readableObjectMode;var wp=require("node:events");var gp=e=>Dt(e,"ipc"),yp=(e,t)=>{let r=Xr(e);pe({type:"ipc",verboseMessage:r,fdNumber:"ipc",verboseInfo:t})};var xp=async({subprocess:e,buffer:t,maxBuffer:r,ipc:n,ipcOutput:i,verboseInfo:o})=>{if(!n)return i;let s=gp(o),a=Te(t,"ipc"),c=Te(r,"ipc");for await(let l of qo({anyProcess:e,channel:e.channel,isSubprocess:!1,ipc:n,shouldAwait:!1,reference:!0}))a&&(gf(e,i,c),i.push(l)),s&&yp(l,o);return i},bp=async(e,t)=>(await Promise.allSettled([e]),t);var Sp=async({subprocess:e,options:{encoding:t,buffer:r,maxBuffer:n,lines:i,timeoutDuration:o,cancelSignal:s,gracefulCancel:a,forceKillAfterDelay:c,stripFinalNewline:l,ipc:u,ipcInput:f},context:d,verboseInfo:p,fileDescriptors:m,originalStreams:x,onInternalError:A,controller:T})=>{let _=vd(e,d),H={originalStreams:x,fileDescriptors:m,subprocess:e,exitPromise:_,propagating:!1},Z=pp({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:l,verboseInfo:p,streamInfo:H}),be=hp({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:l,verboseInfo:p,streamInfo:H}),Re=[],We=xp({subprocess:e,buffer:r,maxBuffer:n,ipc:u,ipcOutput:Re,verboseInfo:p}),yt=Y0(x,e,H),De=Z0(m,H);try{return await Promise.race([Promise.all([{},Ed(_),Promise.all(Z),be,We,Vu(e,f),...yt,...De]),A,K0(e,T),...Lu(e,o,d,T),...Kl({subprocess:e,cancelSignal:s,gracefulCancel:a,context:d,controller:T}),...Fu({subprocess:e,cancelSignal:s,gracefulCancel:a,forceKillAfterDelay:c,context:d,controller:T})])}catch(si){return d.terminationReason??="other",Promise.all([{error:si},_,Promise.all(Z.map(Zt=>fs(Zt))),fs(be),bp(We,Re),Promise.allSettled(yt),Promise.allSettled(De)])}},Y0=(e,t,r)=>e.map((n,i)=>n===t.stdio[i]?void 0:_r(n,i,r)),Z0=(e,t)=>e.flatMap(({stdioItems:r},n)=>r.filter(({value:i,stream:o=i})=>ae(o,{checkOpen:!1})&&!ie(o)).map(({type:i,value:o,stream:s=o})=>_r(s,n,t,{isSameDirection:te.has(i),stopOnExit:i==="native"}))),K0=async(e,{signal:t})=>{let[r]=await(0,wp.once)(e,"error",{signal:t});throw r};var _p=()=>({readableDestroy:new WeakMap,writableFinal:new WeakMap,writableDestroy:new WeakMap}),vr=(e,t,r)=>{let n=e[r];n.has(t)||n.set(t,[]);let i=n.get(t),o=me();return i.push(o),{resolve:o.resolve.bind(o),promises:i}},qt=async({resolve:e,promises:t},r)=>{e();let[n]=await Promise.race([Promise.allSettled([!0,r]),Promise.all([!1,...t])]);return!n};var Ap=require("node:stream"),Ep=require("node:util");var ms=require("node:stream/promises");var hs=async e=>{if(e!==void 0)try{await gs(e)}catch{}},vp=async e=>{if(e!==void 0)try{await ys(e)}catch{}},gs=async e=>{await(0,ms.finished)(e,{cleanup:!0,readable:!1,writable:!0})},ys=async e=>{await(0,ms.finished)(e,{cleanup:!0,readable:!0,writable:!1})},Qn=async(e,t)=>{if(await e,t)throw t},ei=(e,t,r)=>{r&&!Jn(r)?e.destroy(r):t&&e.destroy()};var Op=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,binary:i=!0,preserveNewlines:o=!0}={})=>{let s=i||Y.has(r),{subprocessStdout:a,waitReadableDestroy:c}=xs(e,n,t),{readableEncoding:l,readableObjectMode:u,readableHighWaterMark:f}=bs(a,s),{read:d,onStdoutDataDone:p}=ws({subprocessStdout:a,subprocess:e,binary:s,encoding:r,preserveNewlines:o}),m=new Ap.Readable({read:d,destroy:(0,Ep.callbackify)(_s.bind(void 0,{subprocessStdout:a,subprocess:e,waitReadableDestroy:c})),highWaterMark:f,objectMode:u,encoding:l});return Ss({subprocessStdout:a,onStdoutDataDone:p,readable:m,subprocess:e}),m},xs=(e,t,r)=>{let n=Pt(e,t),i=vr(r,n,"readableDestroy");return{subprocessStdout:n,waitReadableDestroy:i}},bs=({readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r},n)=>n?{readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r}:{readableEncoding:e,readableObjectMode:!0,readableHighWaterMark:us},ws=({subprocessStdout:e,subprocess:t,binary:r,encoding:n,preserveNewlines:i})=>{let o=me(),s=Xn({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:!r,encoding:n,preserveNewlines:i});return{read(){X0(this,s,o)},onStdoutDataDone:o}},X0=async(e,t,r)=>{try{let{value:n,done:i}=await t.next();i?r.resolve():e.push(n)}catch{}},Ss=async({subprocessStdout:e,onStdoutDataDone:t,readable:r,subprocess:n,subprocessStdin:i})=>{try{await ys(e),await n,await hs(i),await t,r.readable&&r.push(null)}catch(o){await hs(i),Cp(r,o)}},_s=async({subprocessStdout:e,subprocess:t,waitReadableDestroy:r},n)=>{await qt(r,t)&&(Cp(e,n),await Qn(t,n))},Cp=(e,t)=>{ei(e,e.readable,t)};var Tp=require("node:stream"),vs=require("node:util");var kp=({subprocess:e,concurrentStreams:t},{to:r}={})=>{let{subprocessStdin:n,waitWritableFinal:i,waitWritableDestroy:o}=As(e,r,t),s=new Tp.Writable({...Es(n,e,i),destroy:(0,vs.callbackify)(Cs.bind(void 0,{subprocessStdin:n,subprocess:e,waitWritableFinal:i,waitWritableDestroy:o})),highWaterMark:n.writableHighWaterMark,objectMode:n.writableObjectMode});return Os(n,s),s},As=(e,t,r)=>{let n=ln(e,t),i=vr(r,n,"writableFinal"),o=vr(r,n,"writableDestroy");return{subprocessStdin:n,waitWritableFinal:i,waitWritableDestroy:o}},Es=(e,t,r)=>({write:J0.bind(void 0,e),final:(0,vs.callbackify)(Q0.bind(void 0,e,t,r))}),J0=(e,t,r,n)=>{e.write(t,r)?n():e.once("drain",n)},Q0=async(e,t,r)=>{await qt(r,t)&&(e.writable&&e.end(),await t)},Os=async(e,t,r)=>{try{await gs(e),t.writable&&t.end()}catch(n){await vp(r),Ip(t,n)}},Cs=async({subprocessStdin:e,subprocess:t,waitWritableFinal:r,waitWritableDestroy:n},i)=>{await qt(r,t),await qt(n,t)&&(Ip(e,i),await Qn(t,i))},Ip=(e,t)=>{ei(e,e.writable,t)};var Rp=require("node:stream"),Dp=require("node:util");var Mp=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,to:i,binary:o=!0,preserveNewlines:s=!0}={})=>{let a=o||Y.has(r),{subprocessStdout:c,waitReadableDestroy:l}=xs(e,n,t),{subprocessStdin:u,waitWritableFinal:f,waitWritableDestroy:d}=As(e,i,t),{readableEncoding:p,readableObjectMode:m,readableHighWaterMark:x}=bs(c,a),{read:A,onStdoutDataDone:T}=ws({subprocessStdout:c,subprocess:e,binary:a,encoding:r,preserveNewlines:s}),_=new Rp.Duplex({read:A,...Es(u,e,f),destroy:(0,Dp.callbackify)(ev.bind(void 0,{subprocessStdout:c,subprocessStdin:u,subprocess:e,waitReadableDestroy:l,waitWritableFinal:f,waitWritableDestroy:d})),readableHighWaterMark:x,writableHighWaterMark:u.writableHighWaterMark,readableObjectMode:m,writableObjectMode:u.writableObjectMode,encoding:p});return Ss({subprocessStdout:c,onStdoutDataDone:T,readable:_,subprocess:e,subprocessStdin:u}),Os(u,_,c),_},ev=async({subprocessStdout:e,subprocessStdin:t,subprocess:r,waitReadableDestroy:n,waitWritableFinal:i,waitWritableDestroy:o},s)=>{await Promise.all([_s({subprocessStdout:e,subprocess:r,waitReadableDestroy:n},s),Cs({subprocessStdin:t,subprocess:r,waitWritableFinal:i,waitWritableDestroy:o},s)])};var Ts=(e,t,{from:r,binary:n=!1,preserveNewlines:i=!1}={})=>{let o=n||Y.has(t),s=Pt(e,r),a=Xn({subprocessStdout:s,subprocess:e,binary:o,shouldEncode:!0,encoding:t,preserveNewlines:i});return tv(a,s,e)},tv=async function*(e,t,r){try{yield*e}finally{t.readable&&t.destroy(),await r}};var Fp=(e,{encoding:t})=>{let r=_p();e.readable=Op.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.writable=kp.bind(void 0,{subprocess:e,concurrentStreams:r}),e.duplex=Mp.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.iterable=Ts.bind(void 0,e,t),e[Symbol.asyncIterator]=Ts.bind(void 0,e,t,{})};var $p=(e,t)=>{for(let[r,n]of nv){let i=n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}},rv=(async()=>{})().constructor.prototype,nv=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(rv,e)]);var Pp=(e,t,r,n)=>{let{file:i,commandArguments:o,command:s,escapedCommand:a,startTime:c,verboseInfo:l,options:u,fileDescriptors:f}=iv(e,t,r),{subprocess:d,promise:p}=sv({file:i,commandArguments:o,options:u,startTime:c,verboseInfo:l,command:s,escapedCommand:a,fileDescriptors:f});return d.pipe=Kn.bind(void 0,{source:d,sourcePromise:p,boundOptions:{},createNested:n}),$p(d,p),he.set(d,{options:u,fileDescriptors:f}),d},iv=(e,t,r)=>{let{command:n,escapedCommand:i,startTime:o,verboseInfo:s}=Qr(e,t,r),{file:a,commandArguments:c,options:l}=Sn(e,t,r),u=ov(l),f=jd(u,s);return{file:a,commandArguments:c,command:n,escapedCommand:i,startTime:o,verboseInfo:s,options:u,fileDescriptors:f}},ov=({timeout:e,signal:t,...r})=>{if(t!==void 0)throw new TypeError('The "signal" option has been renamed to "cancelSignal" instead.');return{...r,timeoutDuration:e}},sv=({file:e,commandArguments:t,options:r,startTime:n,verboseInfo:i,command:o,escapedCommand:s,fileDescriptors:a})=>{let c;try{c=(0,Lp.spawn)(..._n(e,t,r))}catch(m){return Nd({error:m,command:o,escapedCommand:s,fileDescriptors:a,options:r,startTime:n,verboseInfo:i})}let l=new AbortController;(0,Np.setMaxListeners)(Number.POSITIVE_INFINITY,l.signal);let u=[...c.stdio];Wd(c,a,l),Yd(c,r,l);let f={},d=me();c.kill=ql.bind(void 0,{kill:c.kill.bind(c),options:r,onInternalError:d,context:f,controller:l}),c.all=mp(c,r),Fp(c,r),Dd(c,r);let p=av({subprocess:c,options:r,startTime:n,verboseInfo:i,fileDescriptors:a,originalStreams:u,command:o,escapedCommand:s,context:f,onInternalError:d,controller:l});return{subprocess:c,promise:p}},av=async({subprocess:e,options:t,startTime:r,verboseInfo:n,fileDescriptors:i,originalStreams:o,command:s,escapedCommand:a,context:c,onInternalError:l,controller:u})=>{let[f,[d,p],m,x,A]=await Sp({subprocess:e,options:t,context:c,verboseInfo:n,fileDescriptors:i,originalStreams:o,onInternalError:l,controller:u});u.abort(),l.resolve();let T=m.map((Z,be)=>Ie(Z,t,be)),_=Ie(x,t,"all"),H=cv({errorInfo:f,exitCode:d,signal:p,stdio:T,all:_,ipcOutput:A,context:c,options:t,command:s,escapedCommand:a,startTime:r});return Vt(H,n,t)},cv=({errorInfo:e,exitCode:t,signal:r,stdio:n,all:i,ipcOutput:o,context:s,options:a,command:c,escapedCommand:l,startTime:u})=>"error"in e?hr({error:e.error,command:c,escapedCommand:l,timedOut:s.terminationReason==="timeout",isCanceled:s.terminationReason==="cancel"||s.terminationReason==="gracefulCancel",isGracefullyCanceled:s.terminationReason==="gracefulCancel",isMaxBuffer:e.error instanceof ge,isForcefullyTerminated:s.isForcefullyTerminated,exitCode:t,signal:r,stdio:n,all:i,ipcOutput:o,options:a,startTime:u,isSync:!1}):Rn({command:c,escapedCommand:l,stdio:n,all:i,ipcOutput:o,options:a,startTime:u});var ti=(e,t)=>{let r=Object.fromEntries(Object.entries(t).map(([n,i])=>[n,lv(n,e[n],i)]));return{...e,...r}},lv=(e,t,r)=>uv.has(e)&&M(t)&&M(r)?{...t,...r}:r,uv=new Set(["env",...qi]);var Ge=(e,t,r,n)=>{let i=(s,a,c)=>Ge(s,a,r,c),o=(...s)=>fv({mapArguments:e,deepOptions:r,boundOptions:t,setBoundExeca:n,createNested:i},...s);return n!==void 0&&n(o,i,t),o},fv=({mapArguments:e,deepOptions:t={},boundOptions:r={},setBoundExeca:n,createNested:i},o,...s)=>{if(M(o))return i(e,ti(r,o),n);let{file:a,commandArguments:c,options:l,isSync:u}=dv({mapArguments:e,firstArgument:o,nextArguments:s,deepOptions:t,boundOptions:r});return u?Td(a,c,l):Pp(a,c,l,i)},dv=({mapArguments:e,firstArgument:t,nextArguments:r,deepOptions:n,boundOptions:i})=>{let o=hc(t)?gc(t,r):[t,...r],[s,a,c]=Ur(...o),l=ti(ti(n,i),c),{file:u=s,commandArguments:f=a,options:d=l,isSync:p=!1}=e({file:s,commandArguments:a,options:l});return{file:u,commandArguments:f,options:d,isSync:p}};var jp=({file:e,commandArguments:t})=>Up(e,t),Bp=({file:e,commandArguments:t})=>({...Up(e,t),isSync:!0}),Up=(e,t)=>{if(t.length>0)throw new TypeError(`The command and its arguments must be passed as a single string: ${e} ${t}.`);let[r,...n]=pv(e);return{file:r,commandArguments:n}},pv=e=>{if(typeof e!="string")throw new TypeError(`The command must be a string: ${String(e)}.`);let t=e.trim();if(t==="")return[];let r=[];for(let n of t.split(mv)){let i=r.at(-1);i&&i.endsWith("\\")?r[r.length-1]=`${i.slice(0,-1)} ${n}`:r.push(n)}return r},mv=/ +/g;var Vp=(e,t,r)=>{e.sync=t(hv,r),e.s=e.sync},Hp=({options:e})=>Gp(e),hv=({options:e})=>({...Gp(e),isSync:!0}),Gp=e=>({options:{...gv(e),...e}}),gv=({input:e,inputFile:t,stdio:r})=>e===void 0&&t===void 0&&r===void 0?{stdin:"inherit"}:{},Wp={preferLocal:!0};var ce=Ge(()=>({})),FD=Ge(()=>({isSync:!0})),$D=Ge(jp),ND=Ge(Bp),LD=Ge(Pu),PD=Ge(Hp,{},Wp,Vp),{sendMessage:jD,getOneMessage:BD,getEachMessage:UD,getCancelSignal:VD}=Md();async function zp(e){let t=["buildx","build","--push"];e.platforms&&t.push("--platform",e.platforms);for(let r of e.tags)t.push("-t",r);e.dockerfile&&t.push("--file",e.dockerfile),t.push(e.context),await ce("docker",t,{stdio:"inherit"})}async function ri(e,t){await ce("docker",["pull",t],{stdio:"inherit"}),await ce("docker",["tag",t,`${e}:latest`],{stdio:"inherit"}),await ce("docker",["push",`${e}:latest`],{stdio:"inherit"})}async function ni(e){let t=Oe(e.app);await ce("docker",["compose","-f","compose.yml","pull"],{cwd:t,stdio:"inherit"}),await ce("docker",["compose","-f","compose.yml","up","-d"],{cwd:t,stdio:"inherit"})}async function qp(e,t){let r=Oe(e.app),n=or(e.app),i=Object.entries(e.migrations.env).flatMap(([s,a])=>["-e",`${s}=${a}`]),o=["run","--rm","--env-file",n,"--network",e.network,t,...e.migrations.command];await ce("docker",["run",...i,...o],{cwd:r,stdio:"inherit"})}function Yp(e,t,r){let n=t.slice(0,7);return{sha:`${e.image}:${n}`,branchSha:`${e.image}:${r}-${n}`,latest:`${e.image}:latest`}}var Zp=N(require("http"),1);async function ii(e,t,r){let n=Ui(t),i=Ui(r),o=Date.now();for(;Date.now()-o<n;){if(await yv(e))return;await new Promise(a=>setTimeout(a,i))}throw new Error(`health check timed out: ${e}`)}function yv(e){return new Promise(t=>{let r=Zp.default.get(e,n=>{n.resume(),t(n.statusCode>=200&&n.statusCode<400)});r.on("error",()=>t(!1)),r.setTimeout(3e3,()=>{r.destroy(),t(!1)})})}var ks,Kp,Xp,Jp,Qp=!0;typeof process<"u"&&({FORCE_COLOR:ks,NODE_DISABLE_COLORS:Kp,NO_COLOR:Xp,TERM:Jp}=process.env||{},Qp=process.stdout&&process.stdout.isTTY);var xv={enabled:!Kp&&Xp==null&&Jp!=="dumb"&&(ks!=null&&ks!=="0"||Qp)};function I(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(o){return!xv.enabled||o==null?o:n+(~(""+o).indexOf(i)?o.replace(r,i+n):o)+i}}var KD=I(0,0),em=I(1,22),XD=I(2,22),JD=I(3,23),QD=I(4,24),eM=I(7,27),tM=I(8,28),rM=I(9,29),nM=I(30,39),bv=I(31,39),tm=I(32,39),wv=I(33,39),iM=I(34,39),oM=I(35,39),sM=I(36,39),aM=I(37,39),rm=I(90,39),cM=I(90,39),lM=I(40,49),uM=I(41,49),fM=I(42,49),dM=I(43,49),pM=I(44,49),mM=I(45,49),hM=I(46,49),gM=I(47,49);var re=e=>console.log(rm("\u2022"),e),Yt=e=>console.log(tm("\u2713"),em(e));function nm(e){e.command("deploy").description("Build->push->migrate->restart->health (invoke from post-receive)").requiredOption("--app <name>").requiredOption("--sha <sha>").option("--branch <name>","git branch","master").option("--context <dir>","build context",".").option("--dockerfile <path>","Dockerfile path","Dockerfile").action(async t=>{let r=await Br(t.app),n=Yp(r,t.sha,t.branch);re(`building ${r.app} ${t.branch} (${t.sha.slice(0,7)})`),await zp({context:t.context,dockerfile:t.dockerfile,tags:[n.sha,n.branchSha,n.latest],platforms:r.platforms}),re("running migrations"),await qp(r,n.sha),re("retagging latest"),await ri(r.image,n.sha),re("restarting compose"),await ni(r),re("waiting for health"),await ii(r.health.url,r.health.timeout,r.health.interval),Yt("deploy complete")})}var Ar=require("fs"),oi=N(require("path"),1);var im=require("fs");async function om(e){let t=`app-${e}.service`,r=Oe(e),n=`[Unit]
Description=Compose stack for ${e}
After=docker.service
Requires=docker.service

[Service]
Type=oneshot
RemainAfterExit=yes
WorkingDirectory=${r}
ExecStart=/usr/bin/docker compose -f compose.yml up -d
ExecStop=/usr/bin/docker compose -f compose.yml down
TimeoutStartSec=0

[Install]
WantedBy=multi-user.target
`;return await im.promises.writeFile(`/etc/systemd/system/${t}`,n),await ce("systemctl",["daemon-reload"],{stdio:"inherit"}),await ce("systemctl",["enable","--now",t],{stdio:"inherit"}),t}function sm(e){e.command("init").description("Create compose.yml, .env, systemd for an app").requiredOption("--app <name>").requiredOption("--image <ref>").requiredOption("--domain <host>").requiredOption("--port <num>","internal container port").option("--network <name>","traefik network","traefik_proxy").option("--resolver <name>","acme resolver","myresolver").action(async t=>{let r=Oe(t.app);await Ar.promises.mkdir(r,{recursive:!0});let n=oi.default.join(r,".env");try{await Ar.promises.access(n)}catch{await Ar.promises.writeFile(n,`APP=${t.app}
DOMAIN=${t.domain}
SERVICE_PORT=${t.port}
`)}let i=`version: "3.9"
services:
  ${t.app}:
    image: ${t.image}:latest
    restart: unless-stopped
    env_file: [.env]
    networks: [${t.network}]
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.${t.app}.rule=Host(\\\`\${DOMAIN}\\\`)"
      - "traefik.http.routers.${t.app}.entrypoints=websecure"
      - "traefik.http.routers.${t.app}.tls.certresolver=${t.resolver}"
      - "traefik.http.services.${t.app}.loadbalancer.server.port=\${SERVICE_PORT}"
networks:
  ${t.network}:
    external: true
    name: ${t.network}
`;await Ar.promises.writeFile(oi.default.join(r,"compose.yml"),i);let o=await om(t.app);re(`wrote ${oi.default.join(r,"compose.yml")} and ${n}`),Yt(`enabled ${o}`)})}function am(e){e.command("rollback").description("Retag :latest to a previous sha and restart (health-gated)").argument("<app>").argument("<sha>","commit sha or image short tag").action(async(t,r)=>{let n=await Br(t),i=`${n.image}:${r.slice(0,7)}`;re(`retagging ${i} -> ${n.image}:latest`),await ri(n.image,i),re("restarting compose"),await ni(n),re("waiting for health"),await ii(n.health.url,n.health.timeout,n.health.interval),Yt("rollback complete")})}var gt=require("fs");function cm(e){let t=e.command("secrets").description("Manage .env secrets");t.command("set").argument("<app>").argument("<pairs...>","KEY=VALUE").action(async(r,n)=>{let i=or(r);await gt.promises.mkdir(Oe(r),{recursive:!0});try{await gt.promises.access(i)}catch{await gt.promises.writeFile(i,"")}let s=(await gt.promises.readFile(i,"utf8")).split(`
`),a=new Map;for(let l of s)if(l&&!l.startsWith("#")){let u=l.indexOf("=");u>0&&a.set(l.slice(0,u),l.slice(u+1))}for(let l of n){let u=l.indexOf("=");if(u<1)throw new Error(`bad pair: ${l}`);a.set(l.slice(0,u),l.slice(u+1))}let c=Array.from(a.entries()).map(([l,u])=>`${l}=${u}`).join(`
`)+`
`;await gt.promises.writeFile(i,c,{mode:384}),console.log(`updated ${i}`)}),t.command("ls").argument("<app>").action(async r=>{let n=await gt.promises.readFile(or(r),"utf8").catch(()=>"");for(let i of n.split(`
`)){if(!i||i.startsWith("#"))continue;let o=i.indexOf("=");o>0&&console.log(i.slice(0,o)+"=***")}})}var Er=new Hs().name("hl").description("Homelab deploy toolbox");nm(Er);sm(Er);am(Er);cm(Er);Er.parseAsync().catch(e=>{console.error(e?.stderr||e?.stack||e),process.exit(1)});
/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=hl.js.map
